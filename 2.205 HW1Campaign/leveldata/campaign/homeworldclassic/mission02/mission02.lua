--
--  Generated\Mission02.c
--
--  Finite state machine routines for "Mission02" mission
--
--  Copyright (C) 1998 Relic Entertainment Inc.
--  All rights reserved
--
--  This code was autogenerated from Mission02.kp by KAS2C Version 2.05
--


--#include "Generated\Mission02.h"  -- prototypes and #includes for exposed game functions

--extern AITeam *CurrentTeamP;
--#define kasThisTeamPtr CurrentTeamP

--  for run-time scoping of symbols (variables, timers, etc.)

-- List of ignored functions (stubbed out to ignoredFunction()):
--kasfSoundEvent
--kasfTutSetTextDisplayBoxToSubtitleRegion


dofilepath("data:scripts/SCAR/SCAR_Util.lua")             --stock HW2 scripting utilities
dofilepath("data:scripts/SCAR/KASUtil.lua")               --HW1->HW2 scripting utilities
dofilepath("data:scripts/SCAR/SinglePlayerFlow.lua")      --Emulation of HW1 singleplayer functionality
dofilepath("data:scripts/SCAR/SinglePlayerNIS.lua")       --Emulation of HW1 singleplayer NIS functionality
dofilepath("data:scripts/SCAR/SinglePlayerHyperspace.lua")--Emulation of HW1 hyperspace logic
dofilepath("data:scripts/SCAR/SpecialFlags.lua")          --Emulation of HW1 SPECIAL_xxx logic


--kas global variables, including variables used in ifOnce blocks
G_ACT3Corvettes1HaveDocked = 0
G_ACT3Corvettes1HaveLaunched = 0
G_ACT3Corvettes2HaveDocked = 0
G_ACT3Corvettes2HaveLaunched = 0
G_ACT3FightersHaveDocked = 0
G_ACT3FightersHaveLaunched = 0
G_ACT3TeamCorvetteSHIPS = 0
G_ACT3TeamCorvetteWORLDSHIPS = 0
G_ACT3TeamEntireFleetSHIPS = 0
G_ACT3TeamEntireFleetWORLDSHIPS = 0
G_ACT3TeamFighterSHIPS = 0
G_ACT3TeamFighterWORLDSHIPS = 0
G_ACT3TeamMothershipSHIPS = 0
G_ACT3TeamNonCombatSHIPS = 0
G_ACT3TeamNonCombatWORLDSHIPS = 0
G_ACT3TeamResearchSHIPS = 0
G_ACT3TeamResearchWORLDSHIPS = 0
G_ACT3TeamResourceSHIPS = 0
G_ACT3TeamResourceWORLDSHIPS = 0
G_BeginACT3Now = 0
G_CLICK_DefendMothership = 0
G_CLICK_DefendSalvageTeam = 0
G_CLICK_DestroyAllP1 = 0
G_CLICK_InvestigateP1Mothership = 0
G_CLICK_ProtectMothership = 0
G_CLICK_SalvageVessel = 0
G_CLICK_SendProbe = 0
G_DefendSalvageTeamCreated = 0
G_DoggedFighterHasLaunched = 0
G_EnemyUnitsAdvancing = 0
G_FIProtectMothershipHasPlayed = 0
G_FIReactionToN02HasPlayed = 0
G_FleetIntelIntroHasPlayed = 0
G_InvestigateP1Mothership = 0
G_MOTHERSHIP99SHIPS = 0
G_NISISPlaying = 0
G_NISTeamHasDamagedMothership = 0
G_NISTeamKilled = 0
G_NearDerelictSHIPS = 0
G_P1MothershipGettinOut = 0
G_P1MothershipHasRetreated = 0
G_P1MothershipUnderAttack = 0
G_PlayKharSelimDestroyed = 0
G_PlayedNis = 0
G_PlayerHasFinishedACT1 = 0
G_PlayerHasKilledEnoughP1 = 0
G_PlayerHasSeenP1Mothership = 0
G_PlayerProbesSHIPS = 0
G_ReadyToHYPERSPACE = 0
G_RenderedFlagsReset = 0
G_SCDockedWithInfo = 0
G_SCFightersHaveLaunched = 0
G_SCsReturningSHIPS = 0
G_SalvageCorvettesSHIPS = 0
G_SendProbeObjectiveCreated = 0
G_ShipwreckHasBeenSeen = 0
G_TOTALACT3Corvettes1Killed = 0
G_TOTALACT3Corvettes2Killed = 0
G_TOTALACT3FightersKilled = 0
G_TOTALDoggedFightersKilled = 0
G_TOTALOriginalACT3Corvettes1 = 0
G_TOTALOriginalACT3Corvettes2 = 0
G_TOTALOriginalACT3Fighters = 0
G_TOTALOriginalDoggedFighters = 0
G_TOTALOriginalSCFighters = 0
G_TOTALSCFightersKilled = 0
G_TotalP1KilledInACT3 = 0
G_nisVolume2SHIPS = 0
Null8458973 = 0
PlaySCDeadEventOnce = 0
SetMediumGuns = 0
_VIFONCE038 = 0
_VIFONCE039 = 0
_VIFONCE040 = 0
_VIFONCE041 = 0
_VIFONCE042 = 0
_VIFONCE043 = 0
_VIFONCE044 = 0
_VIFONCE045 = 0
_VIFONCE046 = 0
_VIFONCE047 = 0
_VIFONCE048 = 0
_VIFONCE049 = 0
_VIFONCE050 = 0
_VIFONCE051 = 0
_VIFONCE052 = 0
_VIFONCE053 = 0
_VIFONCE054 = 0
_VIFONCE055 = 0
_VIFONCE056 = 0
_VIFONCE057 = 0
_VIFONCE058 = 0
_VIFONCE059 = 0
_VIFONCE060 = 0
_VIFONCE061 = 0
_VIFONCE062 = 0
_VIFONCE063 = 0
_VIFONCE064 = 0
_VIFONCE065 = 0
_VIFONCE066 = 0
_VIFONCE067 = 0

--Following are global variables: created outside of the KAS structure and stubbed out here.
--G_Nis2Complete : see SinglePlayerFlow.lua, nReferences: 9
--G_PlayNis : see SinglePlayerFlow.lua, nReferences: 1
--G_TechRemoved : see SinglePlayerFlow.lua, nReferences: 5

--Following are Team-Scoped variables: referenced differently than globals.
AttackingCorvette = {["NISTeamFighter"] = 0, ["NISTeamCorvette"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
AttackingFighter = {["NISTeamFighter"] = 0, ["NISTeamCorvette"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
AttackingMothership = {["NISTeamFighter"] = 0, ["NISTeamCorvette"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
AttackingNonCombat = {["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
AttackingResearch = {["NISTeamFighter"] = 0, ["NISTeamCorvette"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
AttackingResource = {["NISTeamFighter"] = 0, ["NISTeamCorvette"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0}
IntelEvent = {["FleetIntel"] = 0}
NeverAttackResearchAgain = {["NISTeamFighter"] = 0, ["NISTeamCorvette"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
NeverAttackResourceAgain = {["NISTeamFighter"] = 0, ["NISTeamCorvette"] = 0}
NeverCreateDefendPingAgain = {["FleetIntel"] = 0}
NeverCreateSalvageKSPingAgain = {["FleetIntel"] = 0}
NeverCreateSendProbePingAgain = {["FleetIntel"] = 0}
NowGettingOuttaHere = {["P1Mothership"] = 0}
NowInNullState = {["NISTeamFighter"] = 0, ["NISTeamCorvette"] = 0}
P1MothershipGettinOut = {["P1Mothership"] = 0}
P1MothershipHasHyperspacedIn = {["P1Mothership"] = 0}
PlaySCDeadEventOnce = {["FleetIntel"] = 0}
PlayerChangedFocus = {["FleetIntel"] = 0}
SCFightersAreDefending = {["SCFighters"] = 0}
SHIPSKilled = {["DoggedFighter"] = 0, ["SCFighters"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
SHIPSNeeded = {["DoggedFighter"] = 0, ["SCFighters"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
SHIPSNewships = {["DoggedFighter"] = 0, ["SCFighters"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
SHIPSOriginal = {["DoggedFighter"] = 0, ["SCFighters"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
SHIPSRequested = {["DoggedFighter"] = 0, ["SCFighters"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
WaitingForShips = {["DoggedFighter"] = 0, ["SCFighters"] = 0, ["ACT3Fighters"] = 0, ["ACT3Corvettes1"] = 0, ["ACT3Corvettes2"] = 0}
_VIFONCE001 = {["FleetIntel"] = 0}
_VIFONCE002 = {["FleetIntel"] = 0}
_VIFONCE003 = {["FleetIntel"] = 0}
_VIFONCE004 = {["FleetIntel"] = 0}
_VIFONCE005 = {["FleetIntel"] = 0}
_VIFONCE006 = {["FleetIntel"] = 0}
_VIFONCE007 = {["FleetIntel"] = 0}
_VIFONCE008 = {["FleetIntel"] = 0}
_VIFONCE009 = {["FleetIntel"] = 0}
_VIFONCE010 = {["FleetIntel"] = 0}
_VIFONCE011 = {["FleetIntel"] = 0}
_VIFONCE012 = {["FleetIntel"] = 0}
_VIFONCE013 = {["FleetIntel"] = 0}
_VIFONCE014 = {["FleetIntel"] = 0}
_VIFONCE015 = {["FleetIntel"] = 0}
_VIFONCE016 = {["FleetIntel"] = 0}
_VIFONCE017 = {["FleetIntel"] = 0}
_VIFONCE018 = {["FleetIntel"] = 0}
_VIFONCE019 = {["FleetIntel"] = 0}
_VIFONCE020 = {["FleetIntel"] = 0}
_VIFONCE021 = {["FleetIntel"] = 0}
_VIFONCE022 = {["FleetIntel"] = 0}
_VIFONCE023 = {["FleetIntel"] = 0}
_VIFONCE024 = {["FleetIntel"] = 0}
_VIFONCE025 = {["DoggedFighter"] = 0}
_VIFONCE026 = {["DoggedFighter"] = 0}
_VIFONCE027 = {["DoggedFighter"] = 0}
_VIFONCE028 = {["SCFighters"] = 0}
_VIFONCE029 = {["SCFighters"] = 0}
_VIFONCE030 = {["SCFighters"] = 0}
_VIFONCE031 = {["ACT3Fighters"] = 0}
_VIFONCE032 = {["ACT3Corvettes1"] = 0}
_VIFONCE033 = {["ACT3Corvettes2"] = 0}
_VIFONCE034 = {["P1Mothership"] = 0}
_VIFONCE035 = {["P1Mothership"] = 0}
_VIFONCE036 = {["P1Mothership"] = 0}
_VIFONCE037 = {["P1Mothership"] = 0}

--Following are Team-Scoped timers: referenced differently than globals.
ACT3Corvettes1HaveLaunched = {["ACT3Corvettes1"] = 17}
ACT3Corvettes2HaveLaunched = {["ACT3Corvettes2"] = 18}
ACT3FightersHaveLaunched = {["ACT3Fighters"] = 19}
AttackingMothershipTimer = {["NISTeamFighter"] = 20}
BeginFISendProbe = {["FleetIntel"] = 21}
DamagedMothershipTimer = {["NISTeamFighter"] = 22}
FIDefendMothershipENDTimer = {["FleetIntel"] = 23}
FIDefendMothershipLBXOutTimer = {["FleetIntel"] = 24}
FIDefendMothershipPINGTimer = {["FleetIntel"] = 25}
FIDefendMothershipTimer = {["FleetIntel"] = 26}
FIOpenSensorsTimer = {["FleetIntel"] = 27}
FISalvageKSENDTimer = {["FleetIntel"] = 28}
FISalvageKSPINGTimer = {["FleetIntel"] = 29}
FISalvageKSTimer = {["FleetIntel"] = 30}
FISendProbeENDTimer = {["FleetIntel"] = 31}
FISendProbePINGTimer = {["FleetIntel"] = 32}
FISendProbeTimer = {["FleetIntel"] = 33}
FocusOnKharSelimTimer = {["FleetIntel"] = 34}
GoBackToMASTERLooking = {["ACT3Fighters"] = 35, ["ACT3Corvettes1"] = 36, ["ACT3Corvettes2"] = 37}
LaunchDoggedFighter = {["DoggedFighter"] = 38}
LaunchDoggedFighter2 = {["DoggedFighter"] = 39}
LaunchSCFighters = {["SCFighters"] = 40}
LaunchSCFighters2 = {["SCFighters"] = 41}
PlayEnemyUnitsAdvancing = {["FleetIntel"] = 42}
SCFightersHaveLaunched = {["SCFighters"] = 43}
WaitOnKharSelimTimer = {["FleetIntel"] = 44}
WaitingForEveryoneToDock = {["P1Mothership"] = 45}
WideScreenTimer = {["FleetIntel"] = 46}


--kas timer names, with mappings to indices
TimerID_CreateNISTeamsTimer = 16
TimerID_G_ACT3Timer = 0
TimerID_G_DoggedFighterOnItsWay = 11
TimerID_G_FCHyperspaceSuccessful = 5
TimerID_G_GoBackToPreviousFocus = 1
TimerID_G_P1MothershipHasHyperspacedIn = 10
TimerID_G_PlayDetectedPowerSignature = 4
TimerID_G_PlayNormalObjectivesComplete = 9
TimerID_G_PlaySCDiedStillNeedDataEvent = 7
TimerID_G_PostNISEventTimer = 6
TimerID_G_StartUnLetterbox = 2
TimerID_G_WaitForLBXOutToFinish = 3
TimerID_G_WaitToPlayFinalEvent = 8
TimerID_LocationCardTimer = 12
TimerID_PlayProbeNISLet = 14
TimerID_StartWideScreen = 13
TimerID_WideScreenInBeforeNIS = 15


--KAS objective names, set by KASObjective_Add
ObjectiveID_DefendMothership = 6
ObjectiveID_DefendSalvageTeam = 5
ObjectiveID_DestroyAllP1 = 2
ObjectiveID_Hyperspace = 0
ObjectiveID_InvestigateP1Mothership = 7
ObjectiveID_ProtectMothership = 4
ObjectiveID_SalvageVessel = 1
ObjectiveID_SendProbe = 3
ObjectiveID_Count = 8


--Pointer IDs, set by KASPointer_Add<xxx>
PointerID_ACT3Corvettes1POINTER = 2
PointerID_ACT3FightersPOINTER = 1
PointerID_ServiceVesselPOINTER = 0


--extern sdword CurrentMissionScope;
--extern char CurrentMissionScopeName[];

--  for displaying localized strings
strCurLanguage = 1  --Naive treatement of localization language.;

LSTRING_Savegame = {  -- multilingual strings
    "02 - Outskirts of Kharak System",
    "02 - Périphérie du Système Kharak ",
    "02 - Außenbereich des Kharak-Systems",
    "02 - Inmediaciones del sistema de Kharak",
    "02 - Margine esterno del sistema di Kharak", }
LSTRING_LocationCard = {  -- multilingual strings
    "OUTSKIRTS OF KHARAK SYSTEM",
    "PERIPHERIE DU SYSTEME KHARAK",
    "AUSSENBEREICH DES KHARAK-SYSTEMS",
    "INMEDIACIONES DEL SISTEMA DE KHARAK",
    "MARGINE ESTERNO DEL SISTEMA DI KHARAK", }
LSTRING_FISendProbeTASKBAR = {  -- multilingual strings
    "Send probe to the Khar-Selim",
    "Lancement sonde vers Khar-Selim",
    "Sonde zur Khar-Selim schicken.",
    "Enviar sonda a Khar-Selim",
    "Invia una sonda al Khar-Selim", }
LSTRING_FISalvageVesselTASKBAR = {  -- multilingual strings
    "Salvage the Khar-Selim",
    "Sauvetage du Khar-Selim",
    "Die Khar-Selim bergen.",
    "Salvar el Khar-Selim",
    "Salva il Khar-Selim", }
LSTRING_FCProtectMothershipTASKBAR = {  -- multilingual strings
    "Protect the Mothership",
    "Protection Vaisseau Mère",
    "Das Mutterschiff schützen.",
    "Proteger la Nave nodriza",
    "Proteggi l'Astronave Madre", }
LSTRING_DefendSalvageTeamTASKBAR = {  -- multilingual strings
    "Defend Salvage Team",
    "Défense Equipe de sauvetage",
    "Bergungsteam verteidigen.",
    "Defender equipo de salvamento",
    "Difendi la squadra di recupero", }
LSTRING_FIDefendMothershipTASKBAR = {  -- multilingual strings
    "Defend the Mothership",
    "Défense Vaisseau Mère",
    "Das Mutterschiff schützen.",
    "Defender la Nave nodriza",
    "Difendi l'Astronave Madre", }
LSTRING_FIInvestigateP1MothershipTASKBAR = {  -- multilingual strings
    "Investigate power source",
    "Expertise alimentation électrique",
    "Energiequelle untersuchen.",
    "Investigar fuente de energía",
    "Indaga sulla fonte d'energia", }
LSTRING_FIDestroyAllP1TASKBAR = {  -- multilingual strings
    "Destroy the attacking force",
    "Destruction forces d'agression",
    "Angreifer vernichten.",
    "Destruir fuerza atacante",
    "Distruggi la forza d'attacco", }
LSTRING_Hyperspace = {  -- multilingual strings
    "                      HYPERSPACE",
    "                      HYPERESPACE",
    "           HYPERRAUMSPRUNG",
    "                    HIPERESPACIO",
    "                    IPERSPAZIO", }

--
--  "initialize" code for Mission02 FleetIntel FSM
--
function Init_Mission02_FleetIntel(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    --kasJump("FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Init_Mission02_FleetIntel")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 FleetIntel FSM
--
function Watch_Mission02_FleetIntel(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "initialize" code for Mission02 FleetIntel FCIntro state
--
function Init_Mission02_FleetIntel_FCIntro(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetCommand, "$60401", 3)    --kasfSpeechEvent((401 + 2048 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FCIntro state
--
function Watch_Mission02_FleetIntel_FCIntro(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    --kasJump("FIIntro")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FCIntro")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIntro", "Watch_Mission02_FleetIntel_FCIntro")
    Init_Mission02_FleetIntel_FIIntro(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIIntro state
--
function Init_Mission02_FleetIntel_FIIntro(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    --kasJump("FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Init_Mission02_FleetIntel_FIIntro")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60402", 3)    --kasfSpeechEvent((402 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIIntro state
--
function Watch_Mission02_FleetIntel_FIIntro(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    --kasJump("FCSignalling")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIntro")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FCSignalling", "Watch_Mission02_FleetIntel_FIIntro")
    Init_Mission02_FleetIntel_FCSignalling(TeamName)
    return
    end 
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIntro")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FIIntro")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FCSignalling state
--
function Init_Mission02_FleetIntel_FCSignalling(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    --kasJump("FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Init_Mission02_FleetIntel_FCSignalling")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    KAS_SubtitleAddOnce(Actor_HW1_FleetCommand, "$60403", 3)    --kasfSpeechEvent((403 + 2048 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FCSignalling state
--
function Watch_Mission02_FleetIntel_FCSignalling(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    KASTimer_Start(BeginFISendProbe[TeamName], 1)
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FCSignalling")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FCSignalling")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FCSignalling")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FCSignalling")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FCSignalling2 state
--
function Init_Mission02_FleetIntel_FCSignalling2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "watch" code for Mission02 FleetIntel FCSignalling2 state
--
function Watch_Mission02_FleetIntel_FCSignalling2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    KASTimer_Start(BeginFISendProbe[TeamName], 1)
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FCSignalling2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FCSignalling2")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISendProbeLBXIn state
--
function Init_Mission02_FleetIntel_FISendProbeLBXIn(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    --kasJump("FISendProbeEND")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Init_Mission02_FleetIntel_FISendProbeLBXIn")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    KASRules_PauseExceptFSM(TeamName)    --kasfOtherKASPause()
    KAS_SetLetterboxState(2, 3)    --kasfWideScreenIn(90)
    --kasJump("FISendProbeOpenSensors")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeOpenSensors", "Init_Mission02_FleetIntel_FISendProbeLBXIn")
    Init_Mission02_FleetIntel_FISendProbeOpenSensors(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 FleetIntel FISendProbeLBXIn state
--
function Watch_Mission02_FleetIntel_FISendProbeLBXIn(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbeLBXIn")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbeLBXIn")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISendProbeLBXIn2 state
--
function Init_Mission02_FleetIntel_FISendProbeLBXIn2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASRules_PauseExceptFSM(TeamName)    --kasfOtherKASPause()
    KAS_SetLetterboxState(2, 1)    --kasfWideScreenIn(30)
    KASTimer_Start(WideScreenTimer[TeamName], 2)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISendProbeLBXIn2 state
--
function Watch_Mission02_FleetIntel_FISendProbeLBXIn2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(WideScreenTimer[TeamName]) ~= 0) then 
    
    KAS_SensorsToggle(1, 1)    --kasfOpenSensors(1)
    KAS_UniversePause(1)    --kasfUniversePause()
    --kasJump("FISendProbe")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbeLBXIn2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbe", "Watch_Mission02_FleetIntel_FISendProbeLBXIn2")
    Init_Mission02_FleetIntel_FISendProbe(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISendProbeOpenSensors state
--
function Init_Mission02_FleetIntel_FISendProbeOpenSensors(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FIOpenSensorsTimer[TeamName], 4)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISendProbeOpenSensors state
--
function Watch_Mission02_FleetIntel_FISendProbeOpenSensors(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(FIOpenSensorsTimer[TeamName]) ~= 0) then 
    
    KAS_SensorsToggle(1, 1)    --kasfOpenSensors(1)
    KAS_UniversePause(1)    --kasfUniversePause()
    --kasJump("FISendProbe")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbeOpenSensors")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbe", "Watch_Mission02_FleetIntel_FISendProbeOpenSensors")
    Init_Mission02_FleetIntel_FISendProbe(TeamName)
    return
    end 
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbeOpenSensors")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbeOpenSensors")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISendProbe state
--
function Init_Mission02_FleetIntel_FISendProbe(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FISendProbeTimer[TeamName], 1)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISendProbe state
--
function Watch_Mission02_FleetIntel_FISendProbe(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(FISendProbeTimer[TeamName]) ~= 0) then 
    
    --kasJump("FISendProbe2")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbe")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbe2", "Watch_Mission02_FleetIntel_FISendProbe")
    Init_Mission02_FleetIntel_FISendProbe2(TeamName)
    return
    end 
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbe")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbe")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISendProbe2 state
--
function Init_Mission02_FleetIntel_FISendProbe2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60404", 3)    --kasfSpeechEvent((404 + 4096 + 268435456), 0)
    KASTimer_Start(FISendProbePINGTimer[TeamName], 3)
    if (_VIFONCE001[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #1
    
    _VIFONCE001[TeamName] = 1 --created,set;
    G_FleetIntelIntroHasPlayed = 1 --created,set
    end 
    
end 


--
--  "watch" code for Mission02 FleetIntel FISendProbe2 state
--
function Watch_Mission02_FleetIntel_FISendProbe2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    IntelEvent[TeamName] = 0 --destroyed
    IntelEvent[TeamName] = Subtitle_IsDoneOrSkipped(Actor_FleetIntel) --created,set    --kasfIntelEventEnded()
    if (IntelEvent[TeamName] == 2) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbe2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbe2")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    elseif (IntelEvent[TeamName] ~= 0) then 
    
    --kasJump("FISendProbePING")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbe2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbePING", "Watch_Mission02_FleetIntel_FISendProbe2")
    Init_Mission02_FleetIntel_FISendProbePING(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(FISendProbePINGTimer[TeamName]) ~= 0) then 
    
    ignoredFunction()    --kasfSoundEvent(267)
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    ignoredFunction()    --kasfTutSetTextDisplayBoxToSubtitleRegion()
    PointerID_ServiceVesselPOINTER = KASPointer_AddVolume("SCVolume")    --kasfTutSetPointerTargetAIVolume("ServiceVesselPOINTER", kasVolumePtr("SCVolume"))
    end 
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbe2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbe2")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISendProbePING state
--
function Init_Mission02_FleetIntel_FISendProbePING(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60405", 3)    --kasfSpeechEvent((405 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISendProbePING state
--
function Watch_Mission02_FleetIntel_FISendProbePING(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    IntelEvent[TeamName] = 0 --destroyed
    IntelEvent[TeamName] = Subtitle_IsDoneOrSkipped(Actor_FleetIntel) --created,set    --kasfIntelEventEnded()
    if (IntelEvent[TeamName] == 2) then 
    
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbePING")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbePING")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    elseif (IntelEvent[TeamName] ~= 0) then 
    
    --kasJump("FISendProbeWAITEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbePING")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeWAITEND", "Watch_Mission02_FleetIntel_FISendProbePING")
    Init_Mission02_FleetIntel_FISendProbeWAITEND(TeamName)
    return
    end 
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbePING")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbePING")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISendProbeLBXOut state
--
function Init_Mission02_FleetIntel_FISendProbeLBXOut(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "watch" code for Mission02 FleetIntel FISendProbeLBXOut state
--
function Watch_Mission02_FleetIntel_FISendProbeLBXOut(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    KAS_SetLetterboxState(0, 3)    --kasfWideScreenOut(90)
    --kasJump("FISendProbeWAITEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbeLBXOut")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeWAITEND", "Watch_Mission02_FleetIntel_FISendProbeLBXOut")
    Init_Mission02_FleetIntel_FISendProbeWAITEND(TeamName)
    return
    end 
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) == 2) then     --kasfIntelEventEnded()
    
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbeLBXOut")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbeLBXOut")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISendProbeWAITEND state
--
function Init_Mission02_FleetIntel_FISendProbeWAITEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FISendProbeENDTimer[TeamName], 3)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISendProbeWAITEND state
--
function Watch_Mission02_FleetIntel_FISendProbeWAITEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    IntelEvent[TeamName] = 0 --destroyed
    IntelEvent[TeamName] = Subtitle_IsDoneOrSkipped(Actor_FleetIntel) --created,set    --kasfIntelEventEnded()
    if (IntelEvent[TeamName] == 2) then 
    
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbeWAITEND")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbeWAITEND")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(FISendProbeENDTimer[TeamName]) ~= 0) then 
    
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbeWAITEND")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbeWAITEND")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    if (G_NISISPlaying == 1) then 
    
    if (NeverCreateSendProbePingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSendProbePingAgain[TeamName] = 1 --created,set
    end 
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISendProbeEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISendProbeWAITEND")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeEND", "Watch_Mission02_FleetIntel_FISendProbeWAITEND")
    Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISendProbeEND state
--
function Init_Mission02_FleetIntel_FISendProbeEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASPointer_RemoveAll()    --kasfTutRemoveAllPointers()
    KAS_UniversePause(0)    --kasfUniverseUnpause()
    KASRules_UnpauseOthers()    --kasfOtherKASUnpause()
    KAS_SensorsToggle(0, 1)    --kasfCloseSensors(1)
    G_CLICK_SendProbe = 0 --destroyed
    --kasJump("FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Init_Mission02_FleetIntel_FISendProbeEND")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 FleetIntel FISendProbeEND state
--
function Watch_Mission02_FleetIntel_FISendProbeEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "initialize" code for Mission02 FleetIntel FCUnderAttack state
--
function Init_Mission02_FleetIntel_FCUnderAttack(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (_VIFONCE002[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #2
    
    _VIFONCE002[TeamName] = 1 --created,set;
    KAS_PingRemove("ServiceVesselPING", "$60424")    --kasfPingRemove("ServiceVesselPING")
    end 
    KAS_SubtitleAddOnce(Actor_HW1_FleetCommand, "$60407", 3)    --kasfSpeechEvent((407 + 2048 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FCUnderAttack state
--
function Watch_Mission02_FleetIntel_FCUnderAttack(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    --kasJump("FISalvageVessel")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FCUnderAttack")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageVessel", "Watch_Mission02_FleetIntel_FCUnderAttack")
    Init_Mission02_FleetIntel_FISalvageVessel(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISalvageVessel state
--
function Init_Mission02_FleetIntel_FISalvageVessel(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60408", 3)    --kasfSpeechEvent((408 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISalvageVessel state
--
function Watch_Mission02_FleetIntel_FISalvageVessel(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    if (_VIFONCE003[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #3
    
    _VIFONCE003[TeamName] = 1 --created,set;
    G_FIProtectMothershipHasPlayed = 1 --created,set
    end 
    G_CLICK_ProtectMothership = 0 --destroyed
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISalvageVessel")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FISalvageVessel")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISalvageKSLBXIn state
--
function Init_Mission02_FleetIntel_FISalvageKSLBXIn(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASRules_PauseExceptFSM(TeamName)    --kasfOtherKASPause()
    KAS_SetLetterboxState(2, 3)    --kasfWideScreenIn(90)
    --kasJump("FISalvageKSOpenSensors")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKSOpenSensors", "Init_Mission02_FleetIntel_FISalvageKSLBXIn")
    Init_Mission02_FleetIntel_FISalvageKSOpenSensors(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 FleetIntel FISalvageKSLBXIn state
--
function Watch_Mission02_FleetIntel_FISalvageKSLBXIn(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISalvageKSLBXIn2 state
--
function Init_Mission02_FleetIntel_FISalvageKSLBXIn2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASRules_PauseExceptFSM(TeamName)    --kasfOtherKASPause()
    KAS_SetLetterboxState(2, 1)    --kasfWideScreenIn(30)
    KASTimer_Start(WideScreenTimer[TeamName], 2)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISalvageKSLBXIn2 state
--
function Watch_Mission02_FleetIntel_FISalvageKSLBXIn2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(WideScreenTimer[TeamName]) ~= 0) then 
    
    KAS_SensorsToggle(1, 1)    --kasfOpenSensors(1)
    KAS_UniversePause(1)    --kasfUniversePause()
    --kasJump("FISalvageKS")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISalvageKSLBXIn2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKS", "Watch_Mission02_FleetIntel_FISalvageKSLBXIn2")
    Init_Mission02_FleetIntel_FISalvageKS(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISalvageKSOpenSensors state
--
function Init_Mission02_FleetIntel_FISalvageKSOpenSensors(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FIOpenSensorsTimer[TeamName], 4)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISalvageKSOpenSensors state
--
function Watch_Mission02_FleetIntel_FISalvageKSOpenSensors(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(FIOpenSensorsTimer[TeamName]) ~= 0) then 
    
    KAS_SensorsToggle(1, 1)    --kasfOpenSensors(1)
    KAS_UniversePause(1)    --kasfUniversePause()
    --kasJump("FISalvageKS")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISalvageKSOpenSensors")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKS", "Watch_Mission02_FleetIntel_FISalvageKSOpenSensors")
    Init_Mission02_FleetIntel_FISalvageKS(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISalvageKS state
--
function Init_Mission02_FleetIntel_FISalvageKS(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FISalvageKSTimer[TeamName], 1)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISalvageKS state
--
function Watch_Mission02_FleetIntel_FISalvageKS(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(FISalvageKSTimer[TeamName]) ~= 0) then 
    
    --kasJump("FISalvageKS2")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISalvageKS")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKS2", "Watch_Mission02_FleetIntel_FISalvageKS")
    Init_Mission02_FleetIntel_FISalvageKS2(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISalvageKS2 state
--
function Init_Mission02_FleetIntel_FISalvageKS2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60406", 3)    --kasfSpeechEvent((406 + 4096 + 268435456), 0)
    KASTimer_Start(FISalvageKSPINGTimer[TeamName], 3)
    if (_VIFONCE004[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #4
    
    _VIFONCE004[TeamName] = 1 --created,set;
    G_FIReactionToN02HasPlayed = 1 --created,set
    end 
    
end 


--
--  "watch" code for Mission02 FleetIntel FISalvageKS2 state
--
function Watch_Mission02_FleetIntel_FISalvageKS2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    IntelEvent[TeamName] = 0 --destroyed
    IntelEvent[TeamName] = Subtitle_IsDoneOrSkipped(Actor_FleetIntel) --created,set    --kasfIntelEventEnded()
    if (IntelEvent[TeamName] == 2) then 
    
    if (NeverCreateSalvageKSPingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSalvageKSPingAgain[TeamName] = 1 --created,set
    end 
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISalvageKSEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISalvageKS2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKSEND", "Watch_Mission02_FleetIntel_FISalvageKS2")
    Init_Mission02_FleetIntel_FISalvageKSEND(TeamName)
    return
    elseif (IntelEvent[TeamName] ~= 0) then 
    
    --kasJump("FISalvageKSWAITEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISalvageKS2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKSWAITEND", "Watch_Mission02_FleetIntel_FISalvageKS2")
    Init_Mission02_FleetIntel_FISalvageKSWAITEND(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(FISalvageKSPINGTimer[TeamName]) ~= 0) then 
    
    ignoredFunction()    --kasfSoundEvent(267)
    if (NeverCreateSalvageKSPingAgain[TeamName] == 0) then 
    
    KAS_PingAddPoint("ServiceVesselPING", "ServiceVesselPING", "$60424")    --kasfPingAddPoint(kasVectorPtr("ServiceVesselPING"), "ServiceVesselPING")
    NeverCreateSalvageKSPingAgain[TeamName] = 1 --created,set
    end 
    ignoredFunction()    --kasfTutSetTextDisplayBoxToSubtitleRegion()
    PointerID_ServiceVesselPOINTER = KASPointer_AddVolume("SCVolume")    --kasfTutSetPointerTargetAIVolume("ServiceVesselPOINTER", kasVolumePtr("SCVolume"))
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISalvageKSWAITEND state
--
function Init_Mission02_FleetIntel_FISalvageKSWAITEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FISalvageKSENDTimer[TeamName], 2)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISalvageKSWAITEND state
--
function Watch_Mission02_FleetIntel_FISalvageKSWAITEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    IntelEvent[TeamName] = 0 --destroyed
    IntelEvent[TeamName] = Subtitle_IsDoneOrSkipped(Actor_FleetIntel) --created,set    --kasfIntelEventEnded()
    if (IntelEvent[TeamName] == 2) then 
    
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISalvageKSEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISalvageKSWAITEND")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKSEND", "Watch_Mission02_FleetIntel_FISalvageKSWAITEND")
    Init_Mission02_FleetIntel_FISalvageKSEND(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(FISalvageKSENDTimer[TeamName]) ~= 0) then 
    
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FISalvageKSEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISalvageKSWAITEND")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKSEND", "Watch_Mission02_FleetIntel_FISalvageKSWAITEND")
    Init_Mission02_FleetIntel_FISalvageKSEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISalvageKSEND state
--
function Init_Mission02_FleetIntel_FISalvageKSEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASPointer_RemoveAll()    --kasfTutRemoveAllPointers()
    KAS_UniversePause(0)    --kasfUniverseUnpause()
    KASRules_UnpauseOthers()    --kasfOtherKASUnpause()
    KAS_SensorsToggle(0, 1)    --kasfCloseSensors(1)
    G_CLICK_SalvageVessel = 0 --destroyed
    --kasJump("FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Init_Mission02_FleetIntel_FISalvageKSEND")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 FleetIntel FISalvageKSEND state
--
function Watch_Mission02_FleetIntel_FISalvageKSEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISCDiedStillNeedData state
--
function Init_Mission02_FleetIntel_FISCDiedStillNeedData(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60413", 3)    --kasfSpeechEvent((413 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISCDiedStillNeedData state
--
function Watch_Mission02_FleetIntel_FISCDiedStillNeedData(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISCDiedStillNeedData")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FISCDiedStillNeedData")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIKilledNISTeam state
--
function Init_Mission02_FleetIntel_FIKilledNISTeam(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60409", 3)    --kasfSpeechEvent((409 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIKilledNISTeam state
--
function Watch_Mission02_FleetIntel_FIKilledNISTeam(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    --kasJump("FCMothershipIsOK")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIKilledNISTeam")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FCMothershipIsOK", "Watch_Mission02_FleetIntel_FIKilledNISTeam")
    Init_Mission02_FleetIntel_FCMothershipIsOK(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FCMothershipIsOK state
--
function Init_Mission02_FleetIntel_FCMothershipIsOK(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetCommand, "$60410", 3)    --kasfSpeechEvent((410 + 2048 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FCMothershipIsOK state
--
function Watch_Mission02_FleetIntel_FCMothershipIsOK(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (_VIFONCE005[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #5
    
    _VIFONCE005[TeamName] = 1 --created,set;
    G_PlayerHasFinishedACT1 = 1 --created,set
    end 
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FCMothershipIsOK")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FCMothershipIsOK")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendSalvageTeam state
--
function Init_Mission02_FleetIntel_FIDefendSalvageTeam(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60411", 3)    --kasfSpeechEvent((411 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendSalvageTeam state
--
function Watch_Mission02_FleetIntel_FIDefendSalvageTeam(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    if (_VIFONCE006[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #6
    
    _VIFONCE006[TeamName] = 1 --created,set;
    KAS_MusicPlayType("data:sound/music/battle/B02_TuranicRaidersShort", MUS_Ambient)    --kasfMusicPlay(13)
    end 
    --kasJump("FIDefendSalvageTeam2")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendSalvageTeam")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendSalvageTeam2", "Watch_Mission02_FleetIntel_FIDefendSalvageTeam")
    Init_Mission02_FleetIntel_FIDefendSalvageTeam2(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendSalvageTeam2 state
--
function Init_Mission02_FleetIntel_FIDefendSalvageTeam2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60412", 3)    --kasfSpeechEvent((412 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendSalvageTeam2 state
--
function Watch_Mission02_FleetIntel_FIDefendSalvageTeam2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    G_CLICK_DefendSalvageTeam = 0 --destroyed
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendSalvageTeam2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FIDefendSalvageTeam2")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISCDockedSafely state
--
function Init_Mission02_FleetIntel_FISCDockedSafely(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (_VIFONCE007[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #7
    
    _VIFONCE007[TeamName] = 1 --created,set;
    end 
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60414", 3)    --kasfSpeechEvent((414 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FISCDockedSafely state
--
function Watch_Mission02_FleetIntel_FISCDockedSafely(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    --kasJump("FocusOnKharSelim")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISCDockedSafely")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FocusOnKharSelim", "Watch_Mission02_FleetIntel_FISCDockedSafely")
    Init_Mission02_FleetIntel_FocusOnKharSelim(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FocusOnKharSelim state
--
function Init_Mission02_FleetIntel_FocusOnKharSelim(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SetLetterboxState(2, 3)    --kasfWideScreenIn(90)
    KASTimer_Start(FocusOnKharSelimTimer[TeamName], 4)
    
end 


--
--  "watch" code for Mission02 FleetIntel FocusOnKharSelim state
--
function Watch_Mission02_FleetIntel_FocusOnKharSelim(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(FocusOnKharSelimTimer[TeamName]) ~= 0) then 
    
    ignoredFunction()    --kasfSoundEvent(262)
    KAS_FocusDerelict("Der_Shipwreck")    --kasfTutCameraFocusDerelictType("Shipwreck")
    KAS_FocusDerelict("Der_Shipwreck")    --kasfTutCameraFocusDerelictType("Shipwreck")
    --kasJump("WaitOnKharSelim")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FocusOnKharSelim")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_WaitOnKharSelim", "Watch_Mission02_FleetIntel_FocusOnKharSelim")
    Init_Mission02_FleetIntel_WaitOnKharSelim(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel WaitOnKharSelim state
--
function Init_Mission02_FleetIntel_WaitOnKharSelim(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(WaitOnKharSelimTimer[TeamName], 1)
    
end 


--
--  "watch" code for Mission02 FleetIntel WaitOnKharSelim state
--
function Watch_Mission02_FleetIntel_WaitOnKharSelim(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(WaitOnKharSelimTimer[TeamName]) ~= 0) then 
    
    --kasJump("AllShipsRecording")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_WaitOnKharSelim")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_AllShipsRecording", "Watch_Mission02_FleetIntel_WaitOnKharSelim")
    Init_Mission02_FleetIntel_AllShipsRecording(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel AllShipsRecording state
--
function Init_Mission02_FleetIntel_AllShipsRecording(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_FindEnemiesInside("MothershipSphere", "GrowSelection_AllShipsRecordingSHIPS")    --kasfFindEnemiesInside(kasVolumePtr("MothershipSphere"), kasGrowSelectionPtr("AllShipsRecordingSHIPS"), 100)
    KAS_FillShipsByClass_Normal("GrowSelection_Mothership99SHIPS", "GrowSelection_AllShipsRecordingSHIPS", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("Mothership99SHIPS"), kasGrowSelectionPtr("AllShipsRecordingSHIPS"), "CLASS_Mothership")
    G_MOTHERSHIP99SHIPS = SobGroup_Count("GrowSelection_Mothership99SHIPS") --created,set    --kasfShipsCount(kasGrowSelectionPtr("Mothership99SHIPS"))
    KAS_SubtitleAddOnce(Actor_HW1_KharSelim, "$60415", 3)    --kasfSpeechEvent((415 + 2097152 + 268435456), 0)
    KASTimer_Start(TimerID_G_ACT3Timer, 35)
    KAS_ResetGameMessageQueue()    --kasfTutResetGameMessageQueue()
    
end 


--
--  "watch" code for Mission02 FleetIntel AllShipsRecording state
--
function Watch_Mission02_FleetIntel_AllShipsRecording(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    if (G_P1MothershipHasRetreated == 0) then 
    
    KASTimer_Start(PlayEnemyUnitsAdvancing[TeamName], 15)
    end 
    if (PlayerChangedFocus[TeamName] == 0) then 
    
    --kasJump("FIAllShipsRecordingLBXOut")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_AllShipsRecording")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIAllShipsRecordingLBXOut", "Watch_Mission02_FleetIntel_AllShipsRecording")
    Init_Mission02_FleetIntel_FIAllShipsRecordingLBXOut(TeamName)
    return
    else
    
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_AllShipsRecording")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_AllShipsRecording")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    end 
    if (KAS_GameMessageReceived({"Game_BandBoxFocus", "Game_ClickFocus", "KB_FocusMothership", "KB_CancelFocus", "KB_Focus", "KB_Sensors", "TB_SensorsManager"}) ~= 0) then     --kasfTutGameSentMessage("Game_BandBoxFocus,Game_ClickFocus,KB_FocusMothership,KB_CancelFocus,KB_Focus,KB_Sensors,TB_SensorsManager")
    
    if (PlayerChangedFocus[TeamName] == 0) then 
    
    KAS_SetLetterboxState(0, 2)    --kasfWideScreenOut(60)
    PlayerChangedFocus[TeamName] = 1 --created,set
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIAllShipsRecordingLBXOut state
--
function Init_Mission02_FleetIntel_FIAllShipsRecordingLBXOut(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(TimerID_G_GoBackToPreviousFocus, 1)
    KASTimer_Start(TimerID_G_StartUnLetterbox, 2)
    KASTimer_Start(TimerID_G_WaitForLBXOutToFinish, 4)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIAllShipsRecordingLBXOut state
--
function Watch_Mission02_FleetIntel_FIAllShipsRecordingLBXOut(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(TimerID_G_GoBackToPreviousFocus) ~= 0) then 
    
    if (PlayerChangedFocus[TeamName] == 0) then 
    
    ignoredFunction()    --kasfSoundEvent(262)
    KAS_FocusCancel()    --kasfTutCameraFocusCancel()
    end 
    end 
    if (KASTimer_IsExpiredIfSoDestroy(TimerID_G_StartUnLetterbox) ~= 0) then 
    
    if (PlayerChangedFocus[TeamName] == 0) then 
    
    KAS_SetLetterboxState(0, 2)    --kasfWideScreenOut(60)
    PlayerChangedFocus[TeamName] = 1 --created,set
    end 
    end 
    if (KASTimer_IsExpiredIfSoDestroy(TimerID_G_WaitForLBXOutToFinish) ~= 0) then 
    
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIAllShipsRecordingLBXOut")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FIAllShipsRecordingLBXOut")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendMothershipLBXIn state
--
function Init_Mission02_FleetIntel_FIDefendMothershipLBXIn(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASRules_PauseExceptFSM(TeamName)    --kasfOtherKASPause()
    KAS_SetLetterboxState(2, 3)    --kasfWideScreenIn(90)
    --kasJump("FIDefendMothershipOpenSensors")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipOpenSensors", "Init_Mission02_FleetIntel_FIDefendMothershipLBXIn")
    Init_Mission02_FleetIntel_FIDefendMothershipOpenSensors(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendMothershipLBXIn state
--
function Watch_Mission02_FleetIntel_FIDefendMothershipLBXIn(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendMothershipLBXIn2 state
--
function Init_Mission02_FleetIntel_FIDefendMothershipLBXIn2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASRules_PauseExceptFSM(TeamName)    --kasfOtherKASPause()
    KAS_SetLetterboxState(2, 1)    --kasfWideScreenIn(30)
    KASTimer_Start(WideScreenTimer[TeamName], 2)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendMothershipLBXIn2 state
--
function Watch_Mission02_FleetIntel_FIDefendMothershipLBXIn2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(WideScreenTimer[TeamName]) ~= 0) then 
    
    KAS_SensorsToggle(1, 1)    --kasfOpenSensors(1)
    KAS_UniversePause(1)    --kasfUniversePause()
    --kasJump("FIDefendMothership")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendMothershipLBXIn2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothership", "Watch_Mission02_FleetIntel_FIDefendMothershipLBXIn2")
    Init_Mission02_FleetIntel_FIDefendMothership(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendMothershipOpenSensors state
--
function Init_Mission02_FleetIntel_FIDefendMothershipOpenSensors(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FIOpenSensorsTimer[TeamName], 4)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendMothershipOpenSensors state
--
function Watch_Mission02_FleetIntel_FIDefendMothershipOpenSensors(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(FIOpenSensorsTimer[TeamName]) ~= 0) then 
    
    KAS_SensorsToggle(1, 1)    --kasfOpenSensors(1)
    KAS_UniversePause(1)    --kasfUniversePause()
    --kasJump("FIDefendMothership")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendMothershipOpenSensors")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothership", "Watch_Mission02_FleetIntel_FIDefendMothershipOpenSensors")
    Init_Mission02_FleetIntel_FIDefendMothership(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendMothership state
--
function Init_Mission02_FleetIntel_FIDefendMothership(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FIDefendMothershipTimer[TeamName], 1)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendMothership state
--
function Watch_Mission02_FleetIntel_FIDefendMothership(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(FIDefendMothershipTimer[TeamName]) ~= 0) then 
    
    if (_VIFONCE008[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #8
    
    _VIFONCE008[TeamName] = 1 --created,set;
    KAS_MusicPlayType("data:sound/music/battle/B01_TuranicRaidersLong", MUS_Ambient)    --kasfMusicPlay(12)
    end 
    --kasJump("FIDefendMothershipPING")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendMothership")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipPING", "Watch_Mission02_FleetIntel_FIDefendMothership")
    Init_Mission02_FleetIntel_FIDefendMothershipPING(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendMothershipPING state
--
function Init_Mission02_FleetIntel_FIDefendMothershipPING(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60416", 3)    --kasfSpeechEvent((416 + 4096 + 268435456), 0)
    KASTimer_Start(FIDefendMothershipPINGTimer[TeamName], 1)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendMothershipPING state
--
function Watch_Mission02_FleetIntel_FIDefendMothershipPING(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    IntelEvent[TeamName] = 0 --destroyed
    IntelEvent[TeamName] = Subtitle_IsDoneOrSkipped(Actor_FleetIntel) --created,set    --kasfIntelEventEnded()
    if (IntelEvent[TeamName] == 2) then 
    
    if (NeverCreateDefendPingAgain[TeamName] == 0) then 
    
    KAS_PingAddShips("ACT3Fighters", "ACT3FightersPING", "$60425")    --kasfPingAddShips(kasAITeamShipsPtr("ACT3Fighters"), "ACT3FightersPING")
    KAS_PingAddShips("ACT3Corvettes1", "ACT3Corvettes1PING", "$60426")    --kasfPingAddShips(kasAITeamShipsPtr("ACT3Corvettes1"), "ACT3Corvettes1PING")
    NeverCreateDefendPingAgain[TeamName] = 1 --created,set
    end 
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FIDefendMothershipEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendMothershipPING")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipEND", "Watch_Mission02_FleetIntel_FIDefendMothershipPING")
    Init_Mission02_FleetIntel_FIDefendMothershipEND(TeamName)
    return
    elseif (IntelEvent[TeamName] ~= 0) then 
    
    --kasJump("FIDefendMothershipWAITEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendMothershipPING")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipWAITEND", "Watch_Mission02_FleetIntel_FIDefendMothershipPING")
    Init_Mission02_FleetIntel_FIDefendMothershipWAITEND(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(FIDefendMothershipPINGTimer[TeamName]) ~= 0) then 
    
    ignoredFunction()    --kasfSoundEvent(267)
    if (NeverCreateDefendPingAgain[TeamName] == 0) then 
    
    KAS_PingAddShips("ACT3Fighters", "ACT3FightersPING", "$60425")    --kasfPingAddShips(kasAITeamShipsPtr("ACT3Fighters"), "ACT3FightersPING")
    KAS_PingAddShips("ACT3Corvettes1", "ACT3Corvettes1PING", "$60426")    --kasfPingAddShips(kasAITeamShipsPtr("ACT3Corvettes1"), "ACT3Corvettes1PING")
    NeverCreateDefendPingAgain[TeamName] = 1 --created,set
    end 
    KASPointer_RemoveAll()    --kasfTutRemoveAllPointers()
    KASPointer_RemoveAll()    --kasfTutRemoveAllPointers()
    KASPointer_RemoveAll()    --kasfTutRemoveAllPointers()
    ignoredFunction()    --kasfTutSetTextDisplayBoxToSubtitleRegion()
    PointerID_ACT3FightersPOINTER = KASPointer_AddSobGroup("ACT3Fighters")    --kasfTutSetPointerTargetShipSelection("ACT3FightersPOINTER", kasAITeamShipsPtr("ACT3Fighters"))
    PointerID_ACT3Corvettes1POINTER = KASPointer_AddSobGroup("ACT3Corvettes1")    --kasfTutSetPointerTargetShipSelection("ACT3Corvettes1POINTER", kasAITeamShipsPtr("ACT3Corvettes1"))
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendMothershipLBXOut state
--
function Init_Mission02_FleetIntel_FIDefendMothershipLBXOut(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FIDefendMothershipLBXOutTimer[TeamName], 10)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendMothershipLBXOut state
--
function Watch_Mission02_FleetIntel_FIDefendMothershipLBXOut(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(FIDefendMothershipLBXOutTimer[TeamName]) ~= 0) then 
    
    KAS_SetLetterboxState(0, 5)    --kasfWideScreenOut(150)
    --kasJump("FIDefendMothershipEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendMothershipLBXOut")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipEND", "Watch_Mission02_FleetIntel_FIDefendMothershipLBXOut")
    Init_Mission02_FleetIntel_FIDefendMothershipEND(TeamName)
    return
    end 
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FIDefendMothershipEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendMothershipLBXOut")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipEND", "Watch_Mission02_FleetIntel_FIDefendMothershipLBXOut")
    Init_Mission02_FleetIntel_FIDefendMothershipEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendMothershipWAITEND state
--
function Init_Mission02_FleetIntel_FIDefendMothershipWAITEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASTimer_Start(FIDefendMothershipENDTimer[TeamName], 3)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendMothershipWAITEND state
--
function Watch_Mission02_FleetIntel_FIDefendMothershipWAITEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    IntelEvent[TeamName] = 0 --destroyed
    IntelEvent[TeamName] = Subtitle_IsDoneOrSkipped(Actor_FleetIntel) --created,set    --kasfIntelEventEnded()
    if (IntelEvent[TeamName] == 2) then 
    
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FIDefendMothershipEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendMothershipWAITEND")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipEND", "Watch_Mission02_FleetIntel_FIDefendMothershipWAITEND")
    Init_Mission02_FleetIntel_FIDefendMothershipEND(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(FIDefendMothershipENDTimer[TeamName]) ~= 0) then 
    
    KAS_SetLetterboxState(0, 1)    --kasfWideScreenOut(30)
    --kasJump("FIDefendMothershipEND")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDefendMothershipWAITEND")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipEND", "Watch_Mission02_FleetIntel_FIDefendMothershipWAITEND")
    Init_Mission02_FleetIntel_FIDefendMothershipEND(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDefendMothershipEND state
--
function Init_Mission02_FleetIntel_FIDefendMothershipEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KASPointer_RemoveAll()    --kasfTutRemoveAllPointers()
    KASPointer_RemoveAll()    --kasfTutRemoveAllPointers()
    KASPointer_RemoveAll()    --kasfTutRemoveAllPointers()
    KAS_UniversePause(0)    --kasfUniverseUnpause()
    KASRules_UnpauseOthers()    --kasfOtherKASUnpause()
    KAS_SensorsToggle(0, 1)    --kasfCloseSensors(1)
    G_CLICK_DefendMothership = 0 --destroyed
    if (_VIFONCE009[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #9
    
    _VIFONCE009[TeamName] = 1 --created,set;
    G_EnemyUnitsAdvancing = 1 --created,set
    KASTimer_Start(TimerID_G_PlayDetectedPowerSignature, 110)
    end 
    --kasJump("FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Init_Mission02_FleetIntel_FIDefendMothershipEND")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDefendMothershipEND state
--
function Watch_Mission02_FleetIntel_FIDefendMothershipEND(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIInvestigateP1Mothership state
--
function Init_Mission02_FleetIntel_FIInvestigateP1Mothership(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60417", 3)    --kasfSpeechEvent((417 + 4096 + 268435456), 0)
    if (_VIFONCE010[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #10
    
    _VIFONCE010[TeamName] = 1 --created,set;
    KAS_PingRemove("ACT3FightersPING", "$60425")    --kasfPingRemove("ACT3FightersPING")
    KAS_PingRemove("ACT3Corvettes1PING", "$60426")    --kasfPingRemove("ACT3Corvettes1PING")
    KAS_PingAddShips("P1Mothership", "P1MothershipPING", "$60427")    --kasfPingAddShips(kasAITeamShipsPtr("P1Mothership"), "P1MothershipPING")
    G_InvestigateP1Mothership = 1 --created,set
    end 
    
end 


--
--  "watch" code for Mission02 FleetIntel FIInvestigateP1Mothership state
--
function Watch_Mission02_FleetIntel_FIInvestigateP1Mothership(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    G_CLICK_InvestigateP1Mothership = 0 --destroyed
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIInvestigateP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FIInvestigateP1Mothership")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FISeenP1Mothership state
--
function Init_Mission02_FleetIntel_FISeenP1Mothership(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60418", 3)    --kasfSpeechEvent((418 + 4096 + 268435456), 0)
    if (_VIFONCE011[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #11
    
    _VIFONCE011[TeamName] = 1 --created,set;
    KAS_PingRemove("P1MothershipPING", "$60427")    --kasfPingRemove("P1MothershipPING")
    end 
    
end 


--
--  "watch" code for Mission02 FleetIntel FISeenP1Mothership state
--
function Watch_Mission02_FleetIntel_FISeenP1Mothership(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FISeenP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FISeenP1Mothership")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDestroyAllP1 state
--
function Init_Mission02_FleetIntel_FIDestroyAllP1(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60756", 3)    --kasfSpeechEvent((756 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDestroyAllP1 state
--
function Watch_Mission02_FleetIntel_FIDestroyAllP1(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    --kasJump("FIDestroyAllP12")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDestroyAllP1")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDestroyAllP12", "Watch_Mission02_FleetIntel_FIDestroyAllP1")
    Init_Mission02_FleetIntel_FIDestroyAllP12(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDestroyAllP12 state
--
function Init_Mission02_FleetIntel_FIDestroyAllP12(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60757", 3)    --kasfSpeechEvent((757 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDestroyAllP12 state
--
function Watch_Mission02_FleetIntel_FIDestroyAllP12(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    G_CLICK_DestroyAllP1 = 0 --destroyed
    --kasJump("FIIdle")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIDestroyAllP12")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIIdle", "Watch_Mission02_FleetIntel_FIDestroyAllP12")
    Init_Mission02_FleetIntel_FIIdle(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIObjectivesComplete state
--
function Init_Mission02_FleetIntel_FIObjectivesComplete(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60421", 3)    --kasfSpeechEvent((421 + 4096 + 268435456), 0)
    if (_VIFONCE012[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #12
    
    _VIFONCE012[TeamName] = 1 --created,set;
    end 
    
end 


--
--  "watch" code for Mission02 FleetIntel FIObjectivesComplete state
--
function Watch_Mission02_FleetIntel_FIObjectivesComplete(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    if (_VIFONCE013[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #13
    
    _VIFONCE013[TeamName] = 1 --created,set;
    KASObjective_Add(ObjectiveID_Hyperspace, "Hyperspace", OT_Primary)    --kasfObjectiveCreate("Hyperspace", LSTRING_Hyperspace[strCurLanguage], LSTRING_Hyperspace[strCurLanguage])
    Objective_SetDescription(ObjectiveID_Hyperspace, "hyperspace")
    end 
    --kasJump("FIDone")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIObjectivesComplete")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDone", "Watch_Mission02_FleetIntel_FIObjectivesComplete")
    Init_Mission02_FleetIntel_FIDone(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIObjectivesComplete2 state
--
function Init_Mission02_FleetIntel_FIObjectivesComplete2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    KAS_SubtitleAddOnce(Actor_HW1_FleetIntel, "$60751", 3)    --kasfSpeechEvent((751 + 4096 + 268435456), 0)
    
end 


--
--  "watch" code for Mission02 FleetIntel FIObjectivesComplete2 state
--
function Watch_Mission02_FleetIntel_FIObjectivesComplete2(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (Subtitle_IsDoneOrSkipped(Actor_FleetIntel) ~= 0) then     --kasfIntelEventEnded()
    
    if (_VIFONCE014[TeamName] == 0 and (1 ~= 0)) then  -- "ifonce" #14
    
    _VIFONCE014[TeamName] = 1 --created,set;
    KASObjective_Add(ObjectiveID_Hyperspace, "Hyperspace", OT_Primary)    --kasfObjectiveCreate("Hyperspace", LSTRING_Hyperspace[strCurLanguage], LSTRING_Hyperspace[strCurLanguage])
    Objective_SetDescription(ObjectiveID_Hyperspace, "hyperspace")
    end 
    --kasJump("FIDone")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIObjectivesComplete2")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDone", "Watch_Mission02_FleetIntel_FIObjectivesComplete2")
    Init_Mission02_FleetIntel_FIDone(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIDone state
--
function Init_Mission02_FleetIntel_FIDone(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "watch" code for Mission02 FleetIntel FIDone state
--
function Watch_Mission02_FleetIntel_FIDone(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "initialize" code for Mission02 FleetIntel FIIdle state
--
function Init_Mission02_FleetIntel_FIIdle(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    
end 


--
--  "watch" code for Mission02 FleetIntel FIIdle state
--
function Watch_Mission02_FleetIntel_FIIdle(TeamName)
    --FSM: FSM_Mission02_FleetIntel
    --TeamName = FleetIntel
    if (KASTimer_IsExpiredIfSoDestroy(TimerID_G_FCHyperspaceSuccessful) ~= 0) then 
    
    --kasJump("FCIntro")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FCIntro", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FCIntro(TeamName)
    return
    end 
    if ((G_NISISPlaying == 0) and (KASTimer_IsExpiredIfSoDestroy(BeginFISendProbe[TeamName]) ~= 0)) then 
    
    --kasJump("FISendProbeLBXIn")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeLBXIn", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FISendProbeLBXIn(TeamName)
    return
    end 
    if ((G_Nis2Complete ~= 0) and (KASTimer_IsExpiredIfSoDestroy(TimerID_G_PostNISEventTimer) ~= 0)) then 
    
    KAS_MusicPlayType("data:sound/music/battle/B02_TuranicRaidersShort", MUS_Ambient)    --kasfMusicPlay(13)
    --kasJump("FCUnderAttack")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FCUnderAttack", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FCUnderAttack(TeamName)
    return
    end 
    if (_VIFONCE015[TeamName] == 0 and (G_PlayKharSelimDestroyed == 1)) then  -- "ifonce" #15
    
    _VIFONCE015[TeamName] = 1 --created,set;
    --kasJump("FISalvageKSLBXIn")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKSLBXIn", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FISalvageKSLBXIn(TeamName)
    return
    end 
    if ((G_TechRemoved == 100) and (SobGroup_Count("GrowSelection_SCsReturning") == 0) and (KASTimer_IsExpiredIfSoDestroy(TimerID_G_PlaySCDiedStillNeedDataEvent) ~= 0)) then     --kasfShipsCount(kasGrowSelectionPtr("SCsReturning"))
    
    G_TechRemoved = 0 --set
    PlaySCDeadEventOnce[TeamName] = 0 --destroyed
    --kasJump("FISCDiedStillNeedData")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISCDiedStillNeedData", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FISCDiedStillNeedData(TeamName)
    return
    end 
    if (_VIFONCE016[TeamName] == 0 and (G_NISTeamKilled == 1)) then  -- "ifonce" #16
    
    _VIFONCE016[TeamName] = 1 --created,set;
    --kasJump("FIKilledNISTeam")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIKilledNISTeam", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIKilledNISTeam(TeamName)
    return
    end 
    if (_VIFONCE017[TeamName] == 0 and ((G_DefendSalvageTeamCreated == 1) and (G_P1MothershipHasRetreated == 0))) then  -- "ifonce" #17
    
    _VIFONCE017[TeamName] = 1 --created,set;
    --kasJump("FIDefendSalvageTeam")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendSalvageTeam", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIDefendSalvageTeam(TeamName)
    return
    end 
    if (_VIFONCE018[TeamName] == 0 and (G_SCDockedWithInfo == 1)) then  -- "ifonce" #18
    
    _VIFONCE018[TeamName] = 1 --created,set;
    --kasJump("FISCDockedSafely")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISCDockedSafely", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FISCDockedSafely(TeamName)
    return
    end 
    if (_VIFONCE019[TeamName] == 0 and (KASTimer_IsExpiredIfSoDestroy(PlayEnemyUnitsAdvancing[TeamName]) ~= 0)) then  -- "ifonce" #19
    
    _VIFONCE019[TeamName] = 1 --created,set;
    --kasJump("FIDefendMothershipLBXIn")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipLBXIn", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIDefendMothershipLBXIn(TeamName)
    return
    end 
    if (_VIFONCE020[TeamName] == 0 and ((G_PlayerHasSeenP1Mothership == 0) and (KASTimer_IsExpiredIfSoDestroy(TimerID_G_PlayDetectedPowerSignature) ~= 0))) then  -- "ifonce" #20
    
    _VIFONCE020[TeamName] = 1 --created,set;
    --kasJump("FIInvestigateP1Mothership")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIInvestigateP1Mothership", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIInvestigateP1Mothership(TeamName)
    return
    end 
    if (_VIFONCE021[TeamName] == 0 and (G_PlayerHasSeenP1Mothership == 1)) then  -- "ifonce" #21
    
    _VIFONCE021[TeamName] = 1 --created,set;
    --kasJump("FISeenP1Mothership")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISeenP1Mothership", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FISeenP1Mothership(TeamName)
    return
    end 
    if (_VIFONCE022[TeamName] == 0 and (G_PlayerHasKilledEnoughP1 == 1)) then  -- "ifonce" #22
    
    _VIFONCE022[TeamName] = 1 --created,set;
    --kasJump("FIDestroyAllP1")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDestroyAllP1", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIDestroyAllP1(TeamName)
    return
    end 
    if (_VIFONCE023[TeamName] == 0 and (KASTimer_IsExpiredIfSoDestroy(TimerID_G_WaitToPlayFinalEvent) ~= 0)) then  -- "ifonce" #23
    
    _VIFONCE023[TeamName] = 1 --created,set;
    --kasJump("FIObjectivesComplete")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIObjectivesComplete", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIObjectivesComplete(TeamName)
    return
    end 
    if (_VIFONCE024[TeamName] == 0 and (KASTimer_IsExpiredIfSoDestroy(TimerID_G_PlayNormalObjectivesComplete) ~= 0)) then  -- "ifonce" #24
    
    _VIFONCE024[TeamName] = 1 --created,set;
    --kasJump("FIObjectivesComplete2")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIObjectivesComplete2", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIObjectivesComplete2(TeamName)
    return
    end 
    if (G_CLICK_SendProbe ~= 0) then 
    
    --kasJump("FISendProbeLBXIn2")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISendProbeLBXIn2", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FISendProbeLBXIn2(TeamName)
    return
    end 
    if (G_CLICK_SalvageVessel ~= 0) then 
    
    --kasJump("FISalvageKSLBXIn2")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageKSLBXIn2", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FISalvageKSLBXIn2(TeamName)
    return
    end 
    if (G_CLICK_ProtectMothership ~= 0) then 
    
    --kasJump("FISalvageVessel")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FISalvageVessel", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FISalvageVessel(TeamName)
    return
    end 
    if (G_CLICK_DefendSalvageTeam ~= 0) then 
    
    --kasJump("FIDefendSalvageTeam2")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendSalvageTeam2", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIDefendSalvageTeam2(TeamName)
    return
    end 
    if (G_CLICK_DefendMothership ~= 0) then 
    
    --kasJump("FIDefendMothershipLBXIn2")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDefendMothershipLBXIn2", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIDefendMothershipLBXIn2(TeamName)
    return
    end 
    if (G_CLICK_InvestigateP1Mothership ~= 0) then 
    
    --kasJump("FIInvestigateP1Mothership")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIInvestigateP1Mothership", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIInvestigateP1Mothership(TeamName)
    return
    end 
    if (G_CLICK_DestroyAllP1 ~= 0) then 
    
    --kasJump("FIDestroyAllP12")
    --KASRule_Remove("FSM_Mission02_FleetIntel", "Watch_Mission02_FleetIntel_FIIdle")
    KASRule_Add(TeamName, "Watch_Mission02_FleetIntel_FIDestroyAllP12", "Watch_Mission02_FleetIntel_FIIdle")
    Init_Mission02_FleetIntel_FIDestroyAllP12(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamFighter FSM
--
function Init_Mission02_NISTeamFighter(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    --kasJump("AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_AttackMothership", "Init_Mission02_NISTeamFighter")
    Init_Mission02_NISTeamFighter_AttackMothership(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 NISTeamFighter FSM
--
function Watch_Mission02_NISTeamFighter(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    if (KAS_FindEnemiesInside("MothershipSphere", "GrowSelection_EntireFleet") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("MothershipSphere"), kasGrowSelectionPtr("EntireFleet"), 100)
    
    KAS_FillShipsByClass_Normal("GrowSelection_Fighter", "GrowSelection_EntireFleet", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("Fighter"), kasGrowSelectionPtr("EntireFleet"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_Corvette", "GrowSelection_EntireFleet", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("Corvette"), kasGrowSelectionPtr("EntireFleet"), "CLASS_Corvette")
    KAS_FillShipsByType_Normal("GrowSelection_PlayerSalCaps", "GrowSelection_EntireFleet", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("PlayerSalCaps"), kasGrowSelectionPtr("EntireFleet"), "SalCapCorvette")
    SobGroup_FillSubtract("GrowSelection_Corvette", "GrowSelection_Corvette", "GrowSelection_PlayerSalCaps")    --kasfShipsRemove(kasGrowSelectionPtr("Corvette"), kasGrowSelectionPtr("PlayerSalCaps"))
    KAS_FillShipsByClass_Normal("GrowSelection_Resource", "GrowSelection_EntireFleet", "Resource")    --kasfShipsSelectClass(kasGrowSelectionPtr("Resource"), kasGrowSelectionPtr("EntireFleet"), "CLASS_Resource")
    KAS_FillShipsByType_Normal("GrowSelection_Research", "GrowSelection_EntireFleet", "ResearchShip")    --kasfShipsSelectType(kasGrowSelectionPtr("Research"), kasGrowSelectionPtr("EntireFleet"), "ResearchShip")
    KAS_FillShipsByClass_Normal("GrowSelection_Mothership", "GrowSelection_EntireFleet", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("Mothership"), kasGrowSelectionPtr("EntireFleet"), "CLASS_Mothership")
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_NISTeamFighterUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("NISTeamFighterUnderAttack"))
    
    end 
    if ((NowInNullState[TeamName] == 0) and (SobGroup_Count("NISTeamFighter") == 0)) then     --kasfShipsCount(kasAITeamShipsPtr("NISTeamFighter"))
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_NullState", "Watch_Mission02_NISTeamFighter")
    Init_Mission02_NISTeamFighter_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamFighter AttackMothership state
--
function Init_Mission02_NISTeamFighter_AttackMothership(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    KAS_AttackPlayerMothership(TeamName)    --kasfAttackMothership()
    if (G_Nis2Complete ~= 0) then 
    
    KASTimer_Start(DamagedMothershipTimer[TeamName], 20)
    KASTimer_Start(AttackingMothershipTimer[TeamName], 25)
    end 
    
end 


--
--  "watch" code for Mission02 NISTeamFighter AttackMothership state
--
function Watch_Mission02_NISTeamFighter_AttackMothership(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    if (KASTimer_IsExpiredIfSoDestroy(DamagedMothershipTimer[TeamName]) ~= 0) then 
    
    G_NISTeamHasDamagedMothership = 1 --created,set
    end 
    if (KASTimer_IsExpiredIfSoDestroy(AttackingMothershipTimer[TeamName]) ~= 0) then 
    
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_AttackMothership")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamFighter Attack state
--
function Init_Mission02_NISTeamFighter_Attack(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    SobGroup_SetROE(TeamName, OffensiveROE)    --kasfTacticsAggressive()
	SobGroup_SetStance(TeamName, AggressiveStance)
    if (SobGroup_Count("GrowSelection_Fighter") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))
    
    KAS_Attack(TeamName, "GrowSelection_Fighter")    --kasfAttack(kasGrowSelectionPtr("Fighter"))
    AttackingFighter[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_WatchAttack", "Init_Mission02_NISTeamFighter_Attack")
    Init_Mission02_NISTeamFighter_WatchAttack(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_Corvette") > 1) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette"))
    
    KAS_Attack(TeamName, "GrowSelection_Corvette")    --kasfAttack(kasGrowSelectionPtr("Corvette"))
    AttackingCorvette[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_WatchAttack", "Init_Mission02_NISTeamFighter_Attack")
    Init_Mission02_NISTeamFighter_WatchAttack(TeamName)
    return
    elseif ((SobGroup_Count("GrowSelection_Resource") > 0) and (NeverAttackResourceAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Resource"))
    
    KAS_Attack(TeamName, "GrowSelection_Resource")    --kasfAttack(kasGrowSelectionPtr("Resource"))
    AttackingResource[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_WatchAttack", "Init_Mission02_NISTeamFighter_Attack")
    Init_Mission02_NISTeamFighter_WatchAttack(TeamName)
    return
    elseif ((SobGroup_Count("GrowSelection_Research") > 0) and (NeverAttackResearchAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Research"))
    
    KAS_Attack(TeamName, "GrowSelection_Research")    --kasfAttack(kasGrowSelectionPtr("Research"))
    AttackingResearch[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_WatchAttack", "Init_Mission02_NISTeamFighter_Attack")
    Init_Mission02_NISTeamFighter_WatchAttack(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_Mothership") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("Mothership"))
    
    KAS_Attack(TeamName, "GrowSelection_Mothership")    --kasfAttack(kasGrowSelectionPtr("Mothership"))
    AttackingMothership[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_WatchAttack", "Init_Mission02_NISTeamFighter_Attack")
    Init_Mission02_NISTeamFighter_WatchAttack(TeamName)
    return
    end 
    
end 


--
--  "watch" code for Mission02 NISTeamFighter Attack state
--
function Watch_Mission02_NISTeamFighter_Attack(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    
end 


--
--  "initialize" code for Mission02 NISTeamFighter WatchAttack state
--
function Init_Mission02_NISTeamFighter_WatchAttack(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    
end 


--
--  "watch" code for Mission02 NISTeamFighter WatchAttack state
--
function Watch_Mission02_NISTeamFighter_WatchAttack(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    if (AttackingCorvette[TeamName] == 1) then 
    
    if ((SobGroup_Count("GrowSelection_Corvette") < 2) or (KAS_UnderAttack(TeamName, "GrowSelection_Null746") == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette"))    --kasfUnderAttack(kasGrowSelectionPtr("Null746"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Fighter") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    elseif (AttackingResource[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ResourceDamaged", "GrowSelection_Resource", 70 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ResourceDamaged"), kasGrowSelectionPtr("Resource"), 70)
    if ((SobGroup_Count("GrowSelection_Resource") == 0) or (SobGroup_Count("GrowSelection_ResourceDamaged") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ResourceDamaged"))    --kasfShipsCount(kasGrowSelectionPtr("Resource"))
    
    AttackingResource[TeamName] = 0 --destroyed
    NeverAttackResourceAgain[TeamName] = 1 --created,set
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Fighter") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))
    
    AttackingResource[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Corvette") > 1) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette"))
    
    AttackingResource[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    elseif (AttackingResearch[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ResearchDamaged", "GrowSelection_Research", 70 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ResearchDamaged"), kasGrowSelectionPtr("Research"), 70)
    if ((SobGroup_Count("GrowSelection_Research") == 0) or (SobGroup_Count("GrowSelection_ResearchDamaged") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ResearchDamaged"))    --kasfShipsCount(kasGrowSelectionPtr("Research"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    NeverAttackResearchAgain[TeamName] = 1 --created,set
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Fighter") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Corvette") > 1) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    elseif (AttackingFighter[TeamName] == 1) then 
    
    if ((SobGroup_Count("GrowSelection_Fighter") < 4) or (KAS_UnderAttack(TeamName, "GrowSelection_Null749") == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))    --kasfUnderAttack(kasGrowSelectionPtr("Null749"))
    
    AttackingFighter[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    elseif (AttackingMothership[TeamName] == 1) then 
    
    if ((SobGroup_Count("GrowSelection_Mothership") == 0) or (KAS_UnderAttack(TeamName, "GrowSelection_Null750") == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Mothership"))    --kasfUnderAttack(kasGrowSelectionPtr("Null750"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Fighter") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Corvette") > 1) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("NISTeamFighter") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("NISTeamFighter"))
    
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_Attack", "Watch_Mission02_NISTeamFighter_WatchAttack")
    Init_Mission02_NISTeamFighter_Attack(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamFighter DockForGood state
--
function Init_Mission02_NISTeamFighter_DockForGood(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 NISTeamFighter DockForGood state
--
function Watch_Mission02_NISTeamFighter_DockForGood(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    if (G_P1MothershipHasRetreated == 1) then 
    
    --kasJump("BugginOut")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_BugginOut", "Watch_Mission02_NISTeamFighter_DockForGood")
    Init_Mission02_NISTeamFighter_BugginOut(TeamName)
    return
    end 
    if (SobGroup_Count(TeamName) == 0) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_NullState", "Watch_Mission02_NISTeamFighter_DockForGood")
    Init_Mission02_NISTeamFighter_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamFighter BugginOut state
--
function Init_Mission02_NISTeamFighter_BugginOut(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    SobGroup_MoveToPoint(SobGroup_GetPlayerOwner(TeamName), TeamName, Volume_GetPosition("OutsideOfWorld"))    --kasfMoveTo(kasVectorPtr("OutsideOfWorld"))
    
end 


--
--  "watch" code for Mission02 NISTeamFighter BugginOut state
--
function Watch_Mission02_NISTeamFighter_BugginOut(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    if (SobGroup_IsInVolume(TeamName, "BugginOutVolume") ~= 0) then     --kasfPointInside(kasVolumePtr("BugginOutVolume"), kasThisTeamsVectorPtr())
    
    KAS_SetHidden(TeamName, 1)    --kasfHideShips((&kasThisTeamPtr->shipList))
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_NISTeamFighter", "Watch_Mission02_NISTeamFighter_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamFighter_NullState", "Watch_Mission02_NISTeamFighter_BugginOut")
    Init_Mission02_NISTeamFighter_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamFighter NullState state
--
function Init_Mission02_NISTeamFighter_NullState(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    NowInNullState[TeamName] = 1 --created,set
    
end 


--
--  "watch" code for Mission02 NISTeamFighter NullState state
--
function Watch_Mission02_NISTeamFighter_NullState(TeamName)
    --FSM: FSM_Mission02_NISTeamFighter
    --TeamName = NISTeamFighter
    
end 


--
--  "initialize" code for Mission02 NISTeamCorvette FSM
--
function Init_Mission02_NISTeamCorvette(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    if (KAS_FindEnemiesInside("MothershipSphere", "GrowSelection_EntireFleet2") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("MothershipSphere"), kasGrowSelectionPtr("EntireFleet2"), 100)
    
    KAS_FillShipsByType_Normal("GrowSelection_Research2", "GrowSelection_EntireFleet2", "ResearchShip")    --kasfShipsSelectType(kasGrowSelectionPtr("Research2"), kasGrowSelectionPtr("EntireFleet2"), "ResearchShip")
    KAS_FillShipsByClass_Normal("GrowSelection_Resource2", "GrowSelection_EntireFleet2", "Resource")    --kasfShipsSelectClass(kasGrowSelectionPtr("Resource2"), kasGrowSelectionPtr("EntireFleet2"), "CLASS_Resource")
    KAS_FillShipsByClass_Normal("GrowSelection_Fighter2", "GrowSelection_EntireFleet2", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("Fighter2"), kasGrowSelectionPtr("EntireFleet2"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_Corvette2", "GrowSelection_EntireFleet2", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("Corvette2"), kasGrowSelectionPtr("EntireFleet2"), "CLASS_Corvette")
    KAS_FillShipsByClass_Normal("GrowSelection_Mothership2", "GrowSelection_EntireFleet2", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("Mothership2"), kasGrowSelectionPtr("EntireFleet2"), "CLASS_Mothership")
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_NISTeamCorvetteUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("NISTeamCorvetteUnderAttack"))
    
    end 
    if ((NowInNullState[TeamName] == 0) and (SobGroup_Count("NISTeamCorvette") == 0)) then     --kasfShipsCount(kasAITeamShipsPtr("NISTeamCorvette"))
    
    --kasJump("NullState")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_NullState", "Init_Mission02_NISTeamCorvette")
    Init_Mission02_NISTeamCorvette_NullState(TeamName)
    return
    end 
    --kasJump("Attack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Init_Mission02_NISTeamCorvette")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 NISTeamCorvette FSM
--
function Watch_Mission02_NISTeamCorvette(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    if (KAS_FindEnemiesInside("MothershipSphere", "GrowSelection_EntireFleet2") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("MothershipSphere"), kasGrowSelectionPtr("EntireFleet2"), 100)
    
    KAS_FillShipsByType_Normal("GrowSelection_Research2", "GrowSelection_EntireFleet2", "ResearchShip")    --kasfShipsSelectType(kasGrowSelectionPtr("Research2"), kasGrowSelectionPtr("EntireFleet2"), "ResearchShip")
    KAS_FillShipsByClass_Normal("GrowSelection_Resource2", "GrowSelection_EntireFleet2", "Resource")    --kasfShipsSelectClass(kasGrowSelectionPtr("Resource2"), kasGrowSelectionPtr("EntireFleet2"), "CLASS_Resource")
    KAS_FillShipsByClass_Normal("GrowSelection_Fighter2", "GrowSelection_EntireFleet2", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("Fighter2"), kasGrowSelectionPtr("EntireFleet2"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_Corvette2", "GrowSelection_EntireFleet2", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("Corvette2"), kasGrowSelectionPtr("EntireFleet2"), "CLASS_Corvette")
    KAS_FillShipsByType_Normal("GrowSelection_PlayerSalCaps2", "GrowSelection_EntireFleet2", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("PlayerSalCaps2"), kasGrowSelectionPtr("EntireFleet2"), "SalCapCorvette")
    SobGroup_FillSubtract("GrowSelection_Corvette2", "GrowSelection_Corvette2", "GrowSelection_PlayerSalCaps2")    --kasfShipsRemove(kasGrowSelectionPtr("Corvette2"), kasGrowSelectionPtr("PlayerSalCaps2"))
    KAS_FillShipsByClass_Normal("GrowSelection_Mothership2", "GrowSelection_EntireFleet2", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("Mothership2"), kasGrowSelectionPtr("EntireFleet2"), "CLASS_Mothership")
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_NISTeamCorvetteUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("NISTeamCorvetteUnderAttack"))
    
    end 
    if ((NowInNullState[TeamName] == 0) and (SobGroup_Count("NISTeamCorvette") == 0)) then     --kasfShipsCount(kasAITeamShipsPtr("NISTeamCorvette"))
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_NullState", "Watch_Mission02_NISTeamCorvette")
    Init_Mission02_NISTeamCorvette_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamCorvette Attack state
--
function Init_Mission02_NISTeamCorvette_Attack(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    if ((SobGroup_Count("GrowSelection_Research2") > 0) and (NeverAttackResearchAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Research2"))
    
    KAS_Attack(TeamName, "GrowSelection_Research2")    --kasfAttack(kasGrowSelectionPtr("Research2"))
    AttackingResearch[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_WatchAttack", "Init_Mission02_NISTeamCorvette_Attack")
    Init_Mission02_NISTeamCorvette_WatchAttack(TeamName)
    return
    elseif ((SobGroup_Count("GrowSelection_Resource2") > 0) and (NeverAttackResourceAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Resource2"))
    
    KAS_Attack(TeamName, "GrowSelection_Resource2")    --kasfAttack(kasGrowSelectionPtr("Resource2"))
    AttackingResource[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_WatchAttack", "Init_Mission02_NISTeamCorvette_Attack")
    Init_Mission02_NISTeamCorvette_WatchAttack(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_Fighter2") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter2"))
    
    KAS_Attack(TeamName, "GrowSelection_Fighter2")    --kasfAttack(kasGrowSelectionPtr("Fighter2"))
    AttackingFighter[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_WatchAttack", "Init_Mission02_NISTeamCorvette_Attack")
    Init_Mission02_NISTeamCorvette_WatchAttack(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_Corvette2") > 1) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette2"))
    
    KAS_Attack(TeamName, "GrowSelection_Corvette2")    --kasfAttack(kasGrowSelectionPtr("Corvette2"))
    AttackingCorvette[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_WatchAttack", "Init_Mission02_NISTeamCorvette_Attack")
    Init_Mission02_NISTeamCorvette_WatchAttack(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_Mothership2") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("Mothership2"))
    
    KAS_Attack(TeamName, "GrowSelection_Mothership2")    --kasfAttack(kasGrowSelectionPtr("Mothership2"))
    AttackingMothership[TeamName] = 1 --created,set
    --kasJump("WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_WatchAttack", "Init_Mission02_NISTeamCorvette_Attack")
    Init_Mission02_NISTeamCorvette_WatchAttack(TeamName)
    return
    end 
    
end 


--
--  "watch" code for Mission02 NISTeamCorvette Attack state
--
function Watch_Mission02_NISTeamCorvette_Attack(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    
end 


--
--  "initialize" code for Mission02 NISTeamCorvette WatchAttack state
--
function Init_Mission02_NISTeamCorvette_WatchAttack(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    
end 


--
--  "watch" code for Mission02 NISTeamCorvette WatchAttack state
--
function Watch_Mission02_NISTeamCorvette_WatchAttack(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    if (AttackingCorvette[TeamName] == 1) then 
    
    if ((SobGroup_Count("GrowSelection_Corvette2") < 2) or (KAS_UnderAttack(TeamName, "GrowSelection_Null7462") == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette2"))    --kasfUnderAttack(kasGrowSelectionPtr("Null7462"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Fighter") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    elseif (AttackingResource[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ResourceDamaged2", "GrowSelection_Resource2", 70 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ResourceDamaged2"), kasGrowSelectionPtr("Resource2"), 70)
    if ((SobGroup_Count("GrowSelection_Resource2") == 0) or (SobGroup_Count("GrowSelection_ResourceDamaged2") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ResourceDamaged2"))    --kasfShipsCount(kasGrowSelectionPtr("Resource2"))
    
    AttackingResource[TeamName] = 0 --destroyed
    NeverAttackResourceAgain[TeamName] = 1 --created,set
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Fighter") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))
    
    AttackingResource[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Corvette") > 1) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette"))
    
    AttackingResource[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    elseif (AttackingResearch[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ResearchDamaged2", "GrowSelection_Research2", 55 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ResearchDamaged2"), kasGrowSelectionPtr("Research2"), 55)
    if ((SobGroup_Count("GrowSelection_Research2") == 0) or (SobGroup_Count("GrowSelection_ResearchDamaged2") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ResearchDamaged2"))    --kasfShipsCount(kasGrowSelectionPtr("Research2"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    NeverAttackResearchAgain[TeamName] = 1 --created,set
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Fighter") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Corvette") > 1) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    elseif (AttackingFighter[TeamName] == 1) then 
    
    if ((SobGroup_Count("GrowSelection_Fighter2") < 4) or (KAS_UnderAttack(TeamName, "GrowSelection_Null7492") == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter2"))    --kasfUnderAttack(kasGrowSelectionPtr("Null7492"))
    
    AttackingFighter[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    elseif (AttackingMothership[TeamName] == 1) then 
    
    if ((SobGroup_Count("GrowSelection_Mothership2") == 0) or (KAS_UnderAttack(TeamName, "GrowSelection_Null7502") == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("Mothership2"))    --kasfUnderAttack(kasGrowSelectionPtr("Null7502"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Fighter") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("Fighter"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_Corvette") > 1) then     --kasfShipsCount(kasGrowSelectionPtr("Corvette"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("NISTeamFighter") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("NISTeamFighter"))
    
    --kasJump("Attack")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_Attack", "Watch_Mission02_NISTeamCorvette_WatchAttack")
    Init_Mission02_NISTeamCorvette_Attack(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamCorvette DockForGood state
--
function Init_Mission02_NISTeamCorvette_DockForGood(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 NISTeamCorvette DockForGood state
--
function Watch_Mission02_NISTeamCorvette_DockForGood(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    if (G_P1MothershipHasRetreated == 1) then 
    
    --kasJump("BugginOut")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_BugginOut", "Watch_Mission02_NISTeamCorvette_DockForGood")
    Init_Mission02_NISTeamCorvette_BugginOut(TeamName)
    return
    end 
    if (SobGroup_Count(TeamName) == 0) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_NullState", "Watch_Mission02_NISTeamCorvette_DockForGood")
    Init_Mission02_NISTeamCorvette_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamCorvette BugginOut state
--
function Init_Mission02_NISTeamCorvette_BugginOut(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    SobGroup_MoveToPoint(SobGroup_GetPlayerOwner(TeamName), TeamName, Volume_GetPosition("OutsideOfWorld"))    --kasfMoveTo(kasVectorPtr("OutsideOfWorld"))
    
end 


--
--  "watch" code for Mission02 NISTeamCorvette BugginOut state
--
function Watch_Mission02_NISTeamCorvette_BugginOut(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    if (SobGroup_IsInVolume(TeamName, "BugginOutVolume") ~= 0) then     --kasfPointInside(kasVolumePtr("BugginOutVolume"), kasThisTeamsVectorPtr())
    
    KAS_SetHidden(TeamName, 1)    --kasfHideShips((&kasThisTeamPtr->shipList))
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_NISTeamCorvette", "Watch_Mission02_NISTeamCorvette_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_NISTeamCorvette_NullState", "Watch_Mission02_NISTeamCorvette_BugginOut")
    Init_Mission02_NISTeamCorvette_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 NISTeamCorvette NullState state
--
function Init_Mission02_NISTeamCorvette_NullState(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    NowInNullState[TeamName] = 1 --created,set
    
end 


--
--  "watch" code for Mission02 NISTeamCorvette NullState state
--
function Watch_Mission02_NISTeamCorvette_NullState(TeamName)
    --FSM: FSM_Mission02_NISTeamCorvette
    --TeamName = NISTeamCorvette
    
end 


--
--  "initialize" code for Mission02 DoggedFighter FSM
--
function Init_Mission02_DoggedFighter(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    SHIPSOriginal[TeamName] = (SobGroup_Count(TeamName)) --created,set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    SHIPSRequested[TeamName] = 0 --created,set
    SHIPSNeeded[TeamName] = 0 --created,set
    SHIPSNewships[TeamName] = 0 --created,set
    SHIPSKilled[TeamName] = 0 --created,set
    G_TOTALOriginalDoggedFighters = G_TOTALOriginalDoggedFighters + SobGroup_Count(TeamName) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    --kasJump("DockInstant")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_DockInstant", "Init_Mission02_DoggedFighter")
    Init_Mission02_DoggedFighter_DockInstant(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 DoggedFighter FSM
--
function Watch_Mission02_DoggedFighter(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if ((SobGroup_Count(TeamName) == 0) and (WaitingForShips[TeamName] == 0)) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    --kasJump("AllDeadWaitForShips")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AllDeadWaitForShips", "Watch_Mission02_DoggedFighter")
    Init_Mission02_DoggedFighter_AllDeadWaitForShips(TeamName)
    return
    end 
    if ((SobGroup_Count(TeamName) + SHIPSRequested[TeamName]) < SHIPSOriginal[TeamName]) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    SHIPSNeeded[TeamName] = (SHIPSOriginal[TeamName] - (SobGroup_Count(TeamName) + SHIPSRequested[TeamName])) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    KAS_RequestShips(TeamName, "Tur_Fighter", SHIPSNeeded[TeamName])    --kasfRequestShips("P1Fighter", ___KAS_SCOPED_VAR____SHIPSNeeded_)
    SHIPSKilled[TeamName] = SHIPSKilled[TeamName] + SHIPSNeeded[TeamName] --set
    G_TOTALDoggedFightersKilled = SHIPSKilled[TeamName] --set
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] + SHIPSNeeded[TeamName] --set
    end 
    SHIPSNewships[TeamName] = KAS_NumberNewShipsAdded(TeamName) --set    --kasfNewShipsAdded()
    if (SHIPSNewships[TeamName] ~= 0) then 
    
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] - SHIPSNewships[TeamName] --set
    end 
    if (KAS_FindShipsInside("EntireWorldVolume", "GrowSelection_EntireWorld") ~= 0) then     --kasfFindShipsInside(kasVolumePtr("EntireWorldVolume"), kasGrowSelectionPtr("EntireWorld"))
    
    KAS_ShipsSelectSpecial("GrowSelection_SCsReturning", "GrowSelection_EntireWorld", 1)    --kasfShipsSelectSpecial(kasGrowSelectionPtr("SCsReturning"), kasGrowSelectionPtr("EntireWorld"), 1)
    G_SCsReturningSHIPS = SobGroup_Count("GrowSelection_SCsReturning") --created,set    --kasfShipsCount(kasGrowSelectionPtr("SCsReturning"))
    end 
    if (_VIFONCE025[TeamName] == 0 and (KASObjective_GetState(ObjectiveID_SalvageVessel) == 1)) then  -- "ifonce" #25    --kasfObjectiveGet("SalvageVessel")
    
    _VIFONCE025[TeamName] = 1 --created,set;
    --kasJump("BugginOut")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_BugginOut", "Watch_Mission02_DoggedFighter")
    Init_Mission02_DoggedFighter_BugginOut(TeamName)
    return
    end 
    if (_VIFONCE026[TeamName] == 0 and (KAS_MessageReceived(TeamName, "DontHassleSCAnymore") ~= 0)) then  -- "ifonce" #26    --kasfMsgReceived("DontHassleSCAnymore")
    
    _VIFONCE026[TeamName] = 1 --created,set;
    --kasJump("BugginOut")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_BugginOut", "Watch_Mission02_DoggedFighter")
    Init_Mission02_DoggedFighter_BugginOut(TeamName)
    return
    end 
    if (_VIFONCE027[TeamName] == 0 and (G_P1MothershipGettinOut == 1)) then  -- "ifonce" #27
    
    _VIFONCE027[TeamName] = 1 --created,set;
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_DockForGood", "Watch_Mission02_DoggedFighter")
    Init_Mission02_DoggedFighter_DockForGood(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter AllDeadWaitForShips state
--
function Init_Mission02_DoggedFighter_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    WaitingForShips[TeamName] = 1 --created,set
    
end 


--
--  "watch" code for Mission02 DoggedFighter AllDeadWaitForShips state
--
function Watch_Mission02_DoggedFighter_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_Count(TeamName) > 0) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    WaitingForShips[TeamName] = 0 --destroyed
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AllDeadWaitForShips")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_AllDeadWaitForShips")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter DockInstant state
--
function Init_Mission02_DoggedFighter_DockInstant(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    SobGroup_DockSobGroupInstant(TeamName, "P1Mothership")    --kasfDockInstant(kasAITeamPtr("P1Mothership"))
    --kasJump("WatchingForSC")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_WatchingForSC", "Init_Mission02_DoggedFighter_DockInstant")
    Init_Mission02_DoggedFighter_WatchingForSC(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 DoggedFighter DockInstant state
--
function Watch_Mission02_DoggedFighter_DockInstant(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    
end 


--
--  "initialize" code for Mission02 DoggedFighter WatchingForSC state
--
function Init_Mission02_DoggedFighter_WatchingForSC(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    
end 


--
--  "watch" code for Mission02 DoggedFighter WatchingForSC state
--
function Watch_Mission02_DoggedFighter_WatchingForSC(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    end 
    if (G_TechRemoved > 15) then 
    
    --kasJump("Launch")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_WatchingForSC")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_Launch", "Watch_Mission02_DoggedFighter_WatchingForSC")
    Init_Mission02_DoggedFighter_Launch(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter Launch state
--
function Init_Mission02_DoggedFighter_Launch(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if ((SobGroup_IsDockedCompletely(TeamName) ~= 0) and (KASTimer_IsExpiredIfSoDestroy(TimerID_G_P1MothershipHasHyperspacedIn) ~= 0)) then     --kasfTeamDockedReadyForLaunch()
    
    KAS_Launch(TeamName)    --kasfLaunch()
    G_DoggedFighterHasLaunched = 1 --created,set
    KASTimer_Start(LaunchDoggedFighter[TeamName], 5)
    end 
    
end 


--
--  "watch" code for Mission02 DoggedFighter Launch state
--
function Watch_Mission02_DoggedFighter_Launch(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (KASTimer_IsExpiredIfSoDestroy(LaunchDoggedFighter[TeamName]) ~= 0) then 
    
    KASTimer_Start(TimerID_G_DoggedFighterOnItsWay, 8)
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_Launch")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter AttackSC state
--
function Init_Mission02_DoggedFighter_AttackSC(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    SobGroup_SetROE(TeamName, OffensiveROE)    --kasfTacticsAggressive()
	SobGroup_SetStance(TeamName, AggressiveStance)
    KAS_Attack(TeamName, "GrowSelection_SalvageCorvettes")    --kasfAttack(kasGrowSelectionPtr("SalvageCorvettes"))
    
end 


--
--  "watch" code for Mission02 DoggedFighter AttackSC state
--
function Watch_Mission02_DoggedFighter_AttackSC(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_Count("GrowSelection_SCsReturning") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCsReturning"))
    
    --kasJump("AttackSCsReturning")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AttackSC")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSCsReturning", "Watch_Mission02_DoggedFighter_AttackSC")
    Init_Mission02_DoggedFighter_AttackSCsReturning(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("IHaveNoTarget")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AttackSC")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_IHaveNoTarget", "Watch_Mission02_DoggedFighter_AttackSC")
    Init_Mission02_DoggedFighter_IHaveNoTarget(TeamName)
    return
    end 
    if (KAS_GetCurrentOrder("DoggedFighter") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AttackSC")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_AttackSC")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter AttackSCsReturning state
--
function Init_Mission02_DoggedFighter_AttackSCsReturning(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    KAS_Attack(TeamName, "GrowSelection_SCsReturning")    --kasfAttack(kasGrowSelectionPtr("SCsReturning"))
    
end 


--
--  "watch" code for Mission02 DoggedFighter AttackSCsReturning state
--
function Watch_Mission02_DoggedFighter_AttackSCsReturning(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_Count("GrowSelection_SCsReturning") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCsReturning"))
    
    --kasJump("IHaveNoTarget")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AttackSCsReturning")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_IHaveNoTarget", "Watch_Mission02_DoggedFighter_AttackSCsReturning")
    Init_Mission02_DoggedFighter_IHaveNoTarget(TeamName)
    return
    end 
    if (KAS_GetCurrentOrder("DoggedFighter") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AttackSCsReturning")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_AttackSCsReturning")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter IHaveNoTarget state
--
function Init_Mission02_DoggedFighter_IHaveNoTarget(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    
end 


--
--  "watch" code for Mission02 DoggedFighter IHaveNoTarget state
--
function Watch_Mission02_DoggedFighter_IHaveNoTarget(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (KAS_UnderAttack(TeamName, "GrowSelection_DoggedFighterUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("DoggedFighterUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_Mothership", "GrowSelection_DoggedFighterUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("Mothership"), kasGrowSelectionPtr("DoggedFighterUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_DoggedFighterUnderAttack", "GrowSelection_DoggedFighterUnderAttack", "GrowSelection_Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("DoggedFighterUnderAttack"), kasGrowSelectionPtr("Mothership"))
    if (SobGroup_Count("GrowSelection_DoggedFighterUnderAttack") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("DoggedFighterUnderAttack"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_IHaveNoTarget")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_Defend", "Watch_Mission02_DoggedFighter_IHaveNoTarget")
    Init_Mission02_DoggedFighter_Defend(TeamName)
    return
    end 
    elseif (KAS_FindEnemiesInside("nisVolume", "GrowSelection_DoggedFighterLooking") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("nisVolume"), kasGrowSelectionPtr("DoggedFighterLooking"), 2000)
    
    --kasJump("AttacknisVolume")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_IHaveNoTarget")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttacknisVolume", "Watch_Mission02_DoggedFighter_IHaveNoTarget")
    Init_Mission02_DoggedFighter_AttacknisVolume(TeamName)
    return
    elseif (SobGroup_Count("DoggedFighter") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_IHaveNoTarget")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_WatchingForSC2", "Watch_Mission02_DoggedFighter_IHaveNoTarget")
    Init_Mission02_DoggedFighter_WatchingForSC2(TeamName)
    return
    else
    
    --kasJump("DockWithMothership")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_IHaveNoTarget")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_DockWithMothership", "Watch_Mission02_DoggedFighter_IHaveNoTarget")
    Init_Mission02_DoggedFighter_DockWithMothership(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter Defend state
--
function Init_Mission02_DoggedFighter_Defend(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    KAS_FillShipsByClass_Normal("GrowSelection_DoggedFighterFighters", "GrowSelection_DoggedFighterUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("DoggedFighterFighters"), kasGrowSelectionPtr("DoggedFighterUnderAttack"), "CLASS_Fighter")
    if (SobGroup_Count("GrowSelection_DoggedFighterFighters") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("DoggedFighterFighters"))
    
    KAS_Attack(TeamName, "GrowSelection_DoggedFighterFighters")    --kasfAttack(kasGrowSelectionPtr("DoggedFighterFighters"))
    else
    
    KAS_Attack(TeamName, "GrowSelection_DoggedFighterUnderAttack")    --kasfAttack(kasGrowSelectionPtr("DoggedFighterUnderAttack"))
    end 
    
end 


--
--  "watch" code for Mission02 DoggedFighter Defend state
--
function Watch_Mission02_DoggedFighter_Defend(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_Count("DoggedFighter") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_WatchingForSC2", "Watch_Mission02_DoggedFighter_Defend")
    Init_Mission02_DoggedFighter_WatchingForSC2(TeamName)
    return
    end 
    if ( (KAS_UnderAttack(TeamName, "GrowSelection_Null960006544"))== 0) then     --kasfUnderAttack(kasGrowSelectionPtr("Null960006544"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_Defend")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_DoggedFighterUnderAttack") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("DoggedFighterUnderAttack"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_Defend")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    if (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_Defend")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("DoggedFighter") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_Defend", "Watch_Mission02_DoggedFighter_Defend")
    Init_Mission02_DoggedFighter_Defend(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter AttacknisVolume state
--
function Init_Mission02_DoggedFighter_AttacknisVolume(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    KAS_FillShipsByClass_Normal("GrowSelection_nisVolumeFighters", "GrowSelection_DoggedFighterLooking", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("nisVolumeFighters"), kasGrowSelectionPtr("DoggedFighterLooking"), "CLASS_Fighter")
    if (SobGroup_Count("GrowSelection_nisVolumeFighters") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("nisVolumeFighters"))
    
    KAS_Attack(TeamName, "GrowSelection_nisVolumeFighters")    --kasfAttack(kasGrowSelectionPtr("nisVolumeFighters"))
    else
    
    KAS_Attack(TeamName, "GrowSelection_DoggedFighterLooking")    --kasfAttack(kasGrowSelectionPtr("DoggedFighterLooking"))
    end 
    
end 


--
--  "watch" code for Mission02 DoggedFighter AttacknisVolume state
--
function Watch_Mission02_DoggedFighter_AttacknisVolume(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_Count("DoggedFighter") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AttacknisVolume")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_WatchingForSC2", "Watch_Mission02_DoggedFighter_AttacknisVolume")
    Init_Mission02_DoggedFighter_WatchingForSC2(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_DoggedFighterLooking") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("DoggedFighterLooking"))
    
    --kasJump("IHaveNoTarget")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AttacknisVolume")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_IHaveNoTarget", "Watch_Mission02_DoggedFighter_AttacknisVolume")
    Init_Mission02_DoggedFighter_IHaveNoTarget(TeamName)
    return
    end 
    if (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AttacknisVolume")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_AttacknisVolume")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("DoggedFighter") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("AttacknisVolume")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_AttacknisVolume")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttacknisVolume", "Watch_Mission02_DoggedFighter_AttacknisVolume")
    Init_Mission02_DoggedFighter_AttacknisVolume(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter DockWithMothership state
--
function Init_Mission02_DoggedFighter_DockWithMothership(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 DoggedFighter DockWithMothership state
--
function Watch_Mission02_DoggedFighter_DockWithMothership(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_Count("DoggedFighter") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_DockWithMothership")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_WatchingForSC2", "Watch_Mission02_DoggedFighter_DockWithMothership")
    Init_Mission02_DoggedFighter_WatchingForSC2(TeamName)
    return
    end 
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    --kasJump("Docked")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_DockWithMothership")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_Docked", "Watch_Mission02_DoggedFighter_DockWithMothership")
    Init_Mission02_DoggedFighter_Docked(TeamName)
    return
    elseif (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_DockWithMothership")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_DockWithMothership")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter Docked state
--
function Init_Mission02_DoggedFighter_Docked(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    
end 


--
--  "watch" code for Mission02 DoggedFighter Docked state
--
function Watch_Mission02_DoggedFighter_Docked(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("Launch2")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_Docked")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_Launch2", "Watch_Mission02_DoggedFighter_Docked")
    Init_Mission02_DoggedFighter_Launch2(TeamName)
    return
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter Launch2 state
--
function Init_Mission02_DoggedFighter_Launch2(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    KAS_Launch(TeamName)    --kasfLaunch()
    KASTimer_Start(LaunchDoggedFighter2[TeamName], 5)
    end 
    
end 


--
--  "watch" code for Mission02 DoggedFighter Launch2 state
--
function Watch_Mission02_DoggedFighter_Launch2(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_Count("DoggedFighter") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_Launch2")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_WatchingForSC2", "Watch_Mission02_DoggedFighter_Launch2")
    Init_Mission02_DoggedFighter_WatchingForSC2(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(LaunchDoggedFighter2[TeamName]) ~= 0) then 
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_Launch2")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_Launch2")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter WatchingForSC2 state
--
function Init_Mission02_DoggedFighter_WatchingForSC2(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    
end 


--
--  "watch" code for Mission02 DoggedFighter WatchingForSC2 state
--
function Watch_Mission02_DoggedFighter_WatchingForSC2(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_WatchingForSC2")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_AttackSC", "Watch_Mission02_DoggedFighter_WatchingForSC2")
    Init_Mission02_DoggedFighter_AttackSC(TeamName)
    return
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter DockForGood state
--
function Init_Mission02_DoggedFighter_DockForGood(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 DoggedFighter DockForGood state
--
function Watch_Mission02_DoggedFighter_DockForGood(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (G_P1MothershipHasRetreated == 1) then 
    
    --kasJump("BugginOutForGood")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_BugginOutForGood", "Watch_Mission02_DoggedFighter_DockForGood")
    Init_Mission02_DoggedFighter_BugginOutForGood(TeamName)
    return
    end 
    if (SobGroup_Count(TeamName) == 0) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_NullState", "Watch_Mission02_DoggedFighter_DockForGood")
    Init_Mission02_DoggedFighter_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter BugginOutForGood state
--
function Init_Mission02_DoggedFighter_BugginOutForGood(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    SobGroup_MoveToPoint(SobGroup_GetPlayerOwner(TeamName), TeamName, Volume_GetPosition("OutsideOfWorld"))    --kasfMoveTo(kasVectorPtr("OutsideOfWorld"))
    
end 


--
--  "watch" code for Mission02 DoggedFighter BugginOutForGood state
--
function Watch_Mission02_DoggedFighter_BugginOutForGood(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_IsInVolume(TeamName, "BugginOutVolume") ~= 0) then     --kasfPointInside(kasVolumePtr("BugginOutVolume"), kasThisTeamsVectorPtr())
    
    KAS_SetHidden(TeamName, 1)    --kasfHideShips((&kasThisTeamPtr->shipList))
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_BugginOutForGood")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_NullState", "Watch_Mission02_DoggedFighter_BugginOutForGood")
    Init_Mission02_DoggedFighter_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter BugginOut state
--
function Init_Mission02_DoggedFighter_BugginOut(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 DoggedFighter BugginOut state
--
function Watch_Mission02_DoggedFighter_BugginOut(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_NullState", "Watch_Mission02_DoggedFighter_BugginOut")
    Init_Mission02_DoggedFighter_NullState(TeamName)
    return
    end 
    if (SobGroup_Count("DoggedFighter") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("DoggedFighter"))
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_NullState", "Watch_Mission02_DoggedFighter_BugginOut")
    Init_Mission02_DoggedFighter_NullState(TeamName)
    return
    end 
    if (G_P1MothershipHasRetreated == 1) then 
    
    --kasJump("BugginOutForGood")
    --KASRule_Remove("FSM_Mission02_DoggedFighter", "Watch_Mission02_DoggedFighter_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_DoggedFighter_BugginOutForGood", "Watch_Mission02_DoggedFighter_BugginOut")
    Init_Mission02_DoggedFighter_BugginOutForGood(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 DoggedFighter NullState state
--
function Init_Mission02_DoggedFighter_NullState(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    
end 


--
--  "watch" code for Mission02 DoggedFighter NullState state
--
function Watch_Mission02_DoggedFighter_NullState(TeamName)
    --FSM: FSM_Mission02_DoggedFighter
    --TeamName = DoggedFighter
    
end 


--
--  "initialize" code for Mission02 SCFighters FSM
--
function Init_Mission02_SCFighters(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    SHIPSOriginal[TeamName] = (SobGroup_Count(TeamName)) --created,set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    SHIPSRequested[TeamName] = 0 --created,set
    SHIPSNeeded[TeamName] = 0 --created,set
    SHIPSNewships[TeamName] = 0 --created,set
    SHIPSKilled[TeamName] = 0 --created,set
    G_TOTALOriginalSCFighters = G_TOTALOriginalSCFighters + SobGroup_Count(TeamName) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    --kasJump("DockInstant")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_DockInstant", "Init_Mission02_SCFighters")
    Init_Mission02_SCFighters_DockInstant(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 SCFighters FSM
--
function Watch_Mission02_SCFighters(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if ((SobGroup_Count(TeamName) == 0) and (WaitingForShips[TeamName] == 0)) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    --kasJump("AllDeadWaitForShips")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AllDeadWaitForShips", "Watch_Mission02_SCFighters")
    Init_Mission02_SCFighters_AllDeadWaitForShips(TeamName)
    return
    end 
    if ((SobGroup_Count(TeamName) + SHIPSRequested[TeamName]) < SHIPSOriginal[TeamName]) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    SHIPSNeeded[TeamName] = (SHIPSOriginal[TeamName] - (SobGroup_Count(TeamName) + SHIPSRequested[TeamName])) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    KAS_RequestShips(TeamName, "Tur_Fighter", SHIPSNeeded[TeamName])    --kasfRequestShips("P1Fighter", ___KAS_SCOPED_VAR____SHIPSNeeded_)
    SHIPSKilled[TeamName] = SHIPSKilled[TeamName] + SHIPSNeeded[TeamName] --set
    G_TOTALSCFightersKilled = SHIPSKilled[TeamName] --set
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] + SHIPSNeeded[TeamName] --set
    end 
    SHIPSNewships[TeamName] = KAS_NumberNewShipsAdded(TeamName) --set    --kasfNewShipsAdded()
    if (SHIPSNewships[TeamName] ~= 0) then 
    
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] - SHIPSNewships[TeamName] --set
    end 
    if (KAS_FindShipsInside("EntireWorldVolume", "GrowSelection_EntireWorld") ~= 0) then     --kasfFindShipsInside(kasVolumePtr("EntireWorldVolume"), kasGrowSelectionPtr("EntireWorld"))
    
    KAS_ShipsSelectSpecial("GrowSelection_SCsReturning", "GrowSelection_EntireWorld", 1)    --kasfShipsSelectSpecial(kasGrowSelectionPtr("SCsReturning"), kasGrowSelectionPtr("EntireWorld"), 1)
    end 
    if (_VIFONCE028[TeamName] == 0 and (KASObjective_GetState(ObjectiveID_SalvageVessel) == 1)) then  -- "ifonce" #28    --kasfObjectiveGet("SalvageVessel")
    
    _VIFONCE028[TeamName] = 1 --created,set;
    --kasJump("BugginOut")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_BugginOut", "Watch_Mission02_SCFighters")
    Init_Mission02_SCFighters_BugginOut(TeamName)
    return
    end 
    if (_VIFONCE029[TeamName] == 0 and (KAS_MessageReceived(TeamName, "DontHassleSCAnymore") ~= 0)) then  -- "ifonce" #29    --kasfMsgReceived("DontHassleSCAnymore")
    
    _VIFONCE029[TeamName] = 1 --created,set;
    --kasJump("BugginOut")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_BugginOut", "Watch_Mission02_SCFighters")
    Init_Mission02_SCFighters_BugginOut(TeamName)
    return
    end 
    if (_VIFONCE030[TeamName] == 0 and (G_P1MothershipGettinOut == 1)) then  -- "ifonce" #30
    
    _VIFONCE030[TeamName] = 1 --created,set;
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_DockForGood", "Watch_Mission02_SCFighters")
    Init_Mission02_SCFighters_DockForGood(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters AllDeadWaitForShips state
--
function Init_Mission02_SCFighters_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    WaitingForShips[TeamName] = 1 --created,set
    
end 


--
--  "watch" code for Mission02 SCFighters AllDeadWaitForShips state
--
function Watch_Mission02_SCFighters_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (SobGroup_Count(TeamName) > 0) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    WaitingForShips[TeamName] = 0 --destroyed
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AllDeadWaitForShips")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_AllDeadWaitForShips")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters DockInstant state
--
function Init_Mission02_SCFighters_DockInstant(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    SobGroup_DockSobGroupInstant(TeamName, "P1Mothership")    --kasfDockInstant(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 SCFighters DockInstant state
--
function Watch_Mission02_SCFighters_DockInstant(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (G_DoggedFighterHasLaunched == 1) then 
    
    G_DoggedFighterHasLaunched = 0 --destroyed
    KASTimer_Start(LaunchSCFighters[TeamName], 12)
    --kasJump("WatchingForSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_DockInstant")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_WatchingForSC", "Watch_Mission02_SCFighters_DockInstant")
    Init_Mission02_SCFighters_WatchingForSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters WatchingForSC state
--
function Init_Mission02_SCFighters_WatchingForSC(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    
end 


--
--  "watch" code for Mission02 SCFighters WatchingForSC state
--
function Watch_Mission02_SCFighters_WatchingForSC(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (KASTimer_IsExpiredIfSoDestroy(LaunchSCFighters[TeamName]) ~= 0) then 
    
    --kasJump("Launch")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_WatchingForSC")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_Launch", "Watch_Mission02_SCFighters_WatchingForSC")
    Init_Mission02_SCFighters_Launch(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters Launch state
--
function Init_Mission02_SCFighters_Launch(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    KAS_Launch(TeamName)    --kasfLaunch()
    G_SCFightersHaveLaunched = 1 --created,set
    KASTimer_Start(SCFightersHaveLaunched[TeamName], 5)
    end 
    
end 


--
--  "watch" code for Mission02 SCFighters Launch state
--
function Watch_Mission02_SCFighters_Launch(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (KASTimer_IsExpiredIfSoDestroy(SCFightersHaveLaunched[TeamName]) ~= 0) then 
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_Launch")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters AttackSC state
--
function Init_Mission02_SCFighters_AttackSC(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    SobGroup_SetROE(TeamName, OffensiveROE)    --kasfTacticsAggressive()
	SobGroup_SetStance(TeamName, AggressiveStance)
    KAS_Attack(TeamName, "GrowSelection_SalvageCorvettes")    --kasfAttack(kasGrowSelectionPtr("SalvageCorvettes"))
    
end 


--
--  "watch" code for Mission02 SCFighters AttackSC state
--
function Watch_Mission02_SCFighters_AttackSC(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (KAS_UnderAttack(TeamName, "GrowSelection_SCFightersUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("SCFightersUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_Mothership", "GrowSelection_SCFightersUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("Mothership"), kasGrowSelectionPtr("SCFightersUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_SCFightersUnderAttack", "GrowSelection_SCFightersUnderAttack", "GrowSelection_Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("SCFightersUnderAttack"), kasGrowSelectionPtr("Mothership"))
    if (SobGroup_Count("GrowSelection_SCFightersUnderAttack") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCFightersUnderAttack"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttackSC")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_Defend", "Watch_Mission02_SCFighters_AttackSC")
    Init_Mission02_SCFighters_Defend(TeamName)
    return
    end 
    end 
    if (SobGroup_Count("GrowSelection_SCsReturning") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCsReturning"))
    
    --kasJump("AttackSCsReturning")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttackSC")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSCsReturning", "Watch_Mission02_SCFighters_AttackSC")
    Init_Mission02_SCFighters_AttackSCsReturning(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("IHaveNoTarget")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttackSC")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_IHaveNoTarget", "Watch_Mission02_SCFighters_AttackSC")
    Init_Mission02_SCFighters_IHaveNoTarget(TeamName)
    return
    end 
    if (KAS_GetCurrentOrder("SCFighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttackSC")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_AttackSC")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters AttackSCsReturning state
--
function Init_Mission02_SCFighters_AttackSCsReturning(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    SobGroup_SetROE(TeamName, OffensiveROE)    --kasfTacticsAggressive()
	SobGroup_SetStance(TeamName, AggressiveStance)
    KAS_Attack(TeamName, "GrowSelection_SCsReturning")    --kasfAttack(kasGrowSelectionPtr("SCsReturning"))
    
end 


--
--  "watch" code for Mission02 SCFighters AttackSCsReturning state
--
function Watch_Mission02_SCFighters_AttackSCsReturning(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (KAS_UnderAttack(TeamName, "GrowSelection_SCFightersUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("SCFightersUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_Mothership", "GrowSelection_SCFightersUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("Mothership"), kasGrowSelectionPtr("SCFightersUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_SCFightersUnderAttack", "GrowSelection_SCFightersUnderAttack", "GrowSelection_Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("SCFightersUnderAttack"), kasGrowSelectionPtr("Mothership"))
    if (SobGroup_Count("GrowSelection_SCFightersUnderAttack") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCFightersUnderAttack"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttackSCsReturning")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_Defend", "Watch_Mission02_SCFighters_AttackSCsReturning")
    Init_Mission02_SCFighters_Defend(TeamName)
    return
    end 
    end 
    if (SobGroup_Count("GrowSelection_SCsReturning") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCsReturning"))
    
    --kasJump("IHaveNoTarget")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttackSCsReturning")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_IHaveNoTarget", "Watch_Mission02_SCFighters_AttackSCsReturning")
    Init_Mission02_SCFighters_IHaveNoTarget(TeamName)
    return
    end 
    if (KAS_GetCurrentOrder("SCFighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("AttackSCsReturning")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttackSCsReturning")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSCsReturning", "Watch_Mission02_SCFighters_AttackSCsReturning")
    Init_Mission02_SCFighters_AttackSCsReturning(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters Defend state
--
function Init_Mission02_SCFighters_Defend(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    SCFightersAreDefending[TeamName] = 1 --created,set
    SobGroup_SetROE(TeamName, OffensiveROE)    --kasfTacticsAggressive()
	SobGroup_SetStance(TeamName, AggressiveStance)
    KAS_FillShipsByClass_Normal("GrowSelection_SCFightersFighters", "GrowSelection_SCFightersUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("SCFightersFighters"), kasGrowSelectionPtr("SCFightersUnderAttack"), "CLASS_Fighter")
    if (SobGroup_Count("GrowSelection_SCFightersFighters") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCFightersFighters"))
    
    KAS_Attack(TeamName, "GrowSelection_SCFightersFighters")    --kasfAttack(kasGrowSelectionPtr("SCFightersFighters"))
    else
    
    KAS_Attack(TeamName, "GrowSelection_SCFightersUnderAttack")    --kasfAttack(kasGrowSelectionPtr("SCFightersUnderAttack"))
    end 
    
end 


--
--  "watch" code for Mission02 SCFighters Defend state
--
function Watch_Mission02_SCFighters_Defend(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if ( (KAS_UnderAttack(TeamName, "GrowSelection_Null92399766544"))== 0) then     --kasfUnderAttack(kasGrowSelectionPtr("Null92399766544"))
    
    SCFightersAreDefending[TeamName] = 0 --destroyed
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_Defend")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_SCFightersUnderAttack") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCFightersUnderAttack"))
    
    SCFightersAreDefending[TeamName] = 0 --destroyed
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_Defend")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    if (KAS_GetCurrentOrder("SCFighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("AttackSCsReturning")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSCsReturning", "Watch_Mission02_SCFighters_Defend")
    Init_Mission02_SCFighters_AttackSCsReturning(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters IHaveNoTarget state
--
function Init_Mission02_SCFighters_IHaveNoTarget(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    
end 


--
--  "watch" code for Mission02 SCFighters IHaveNoTarget state
--
function Watch_Mission02_SCFighters_IHaveNoTarget(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (KAS_UnderAttack(TeamName, "GrowSelection_SCFightersUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("SCFightersUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_Mothership", "GrowSelection_SCFightersUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("Mothership"), kasGrowSelectionPtr("SCFightersUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_SCFightersUnderAttack", "GrowSelection_SCFightersUnderAttack", "GrowSelection_Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("SCFightersUnderAttack"), kasGrowSelectionPtr("Mothership"))
    if (SobGroup_Count("GrowSelection_SCFightersUnderAttack") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCFightersUnderAttack"))
    
    --kasJump("Defend2")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_IHaveNoTarget")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_Defend2", "Watch_Mission02_SCFighters_IHaveNoTarget")
    Init_Mission02_SCFighters_Defend2(TeamName)
    return
    end 
    elseif (KAS_FindEnemiesInside("nisVolume", "GrowSelection_SCFightersLooking") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("nisVolume"), kasGrowSelectionPtr("SCFightersLooking"), 2000)
    
    --kasJump("AttacknisVolume")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_IHaveNoTarget")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttacknisVolume", "Watch_Mission02_SCFighters_IHaveNoTarget")
    Init_Mission02_SCFighters_AttacknisVolume(TeamName)
    return
    elseif (SobGroup_Count("SCFighters") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_IHaveNoTarget")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_WatchingForSC2", "Watch_Mission02_SCFighters_IHaveNoTarget")
    Init_Mission02_SCFighters_WatchingForSC2(TeamName)
    return
    else
    
    --kasJump("DockWithMothership")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_IHaveNoTarget")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_DockWithMothership", "Watch_Mission02_SCFighters_IHaveNoTarget")
    Init_Mission02_SCFighters_DockWithMothership(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters Defend2 state
--
function Init_Mission02_SCFighters_Defend2(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    KAS_FillShipsByClass_Normal("GrowSelection_SCFightersFighters", "GrowSelection_SCFightersUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("SCFightersFighters"), kasGrowSelectionPtr("SCFightersUnderAttack"), "CLASS_Fighter")
    if (SobGroup_Count("GrowSelection_SCFightersFighters") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCFightersFighters"))
    
    KAS_Attack(TeamName, "GrowSelection_SCFightersFighters")    --kasfAttack(kasGrowSelectionPtr("SCFightersFighters"))
    else
    
    KAS_Attack(TeamName, "GrowSelection_SCFightersUnderAttack")    --kasfAttack(kasGrowSelectionPtr("SCFightersUnderAttack"))
    end 
    
end 


--
--  "watch" code for Mission02 SCFighters Defend2 state
--
function Watch_Mission02_SCFighters_Defend2(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (SobGroup_Count("SCFighters") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Defend2")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_WatchingForSC2", "Watch_Mission02_SCFighters_Defend2")
    Init_Mission02_SCFighters_WatchingForSC2(TeamName)
    return
    end 
    if ( (KAS_UnderAttack(TeamName, "GrowSelection_Null906544"))== 0) then     --kasfUnderAttack(kasGrowSelectionPtr("Null906544"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Defend2")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_Defend2")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_SCFightersUnderAttack") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCFightersUnderAttack"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Defend2")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_Defend2")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    if (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Defend2")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_Defend2")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("SCFighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("IHaveNoTarget")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Defend2")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_IHaveNoTarget", "Watch_Mission02_SCFighters_Defend2")
    Init_Mission02_SCFighters_IHaveNoTarget(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters AttacknisVolume state
--
function Init_Mission02_SCFighters_AttacknisVolume(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    KAS_FillShipsByClass_Normal("GrowSelection_nisVolumeFighters", "GrowSelection_SCFightersLooking", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("nisVolumeFighters"), kasGrowSelectionPtr("SCFightersLooking"), "CLASS_Fighter")
    if (SobGroup_Count("GrowSelection_nisVolumeFighters") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("nisVolumeFighters"))
    
    KAS_Attack(TeamName, "GrowSelection_nisVolumeFighters")    --kasfAttack(kasGrowSelectionPtr("nisVolumeFighters"))
    else
    
    KAS_Attack(TeamName, "GrowSelection_SCFightersLooking")    --kasfAttack(kasGrowSelectionPtr("SCFightersLooking"))
    end 
    
end 


--
--  "watch" code for Mission02 SCFighters AttacknisVolume state
--
function Watch_Mission02_SCFighters_AttacknisVolume(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (SobGroup_Count("SCFighters") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttacknisVolume")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_WatchingForSC2", "Watch_Mission02_SCFighters_AttacknisVolume")
    Init_Mission02_SCFighters_WatchingForSC2(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_SCFightersLooking") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("SCFightersLooking"))
    
    --kasJump("IHaveNoTarget")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttacknisVolume")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_IHaveNoTarget", "Watch_Mission02_SCFighters_AttacknisVolume")
    Init_Mission02_SCFighters_IHaveNoTarget(TeamName)
    return
    end 
    if (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttacknisVolume")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_AttacknisVolume")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("SCFighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("IHaveNoTarget")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_AttacknisVolume")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_IHaveNoTarget", "Watch_Mission02_SCFighters_AttacknisVolume")
    Init_Mission02_SCFighters_IHaveNoTarget(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters DockWithMothership state
--
function Init_Mission02_SCFighters_DockWithMothership(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 SCFighters DockWithMothership state
--
function Watch_Mission02_SCFighters_DockWithMothership(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (SobGroup_Count("SCFighters") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_DockWithMothership")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_WatchingForSC2", "Watch_Mission02_SCFighters_DockWithMothership")
    Init_Mission02_SCFighters_WatchingForSC2(TeamName)
    return
    end 
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    --kasJump("Docked")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_DockWithMothership")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_Docked", "Watch_Mission02_SCFighters_DockWithMothership")
    Init_Mission02_SCFighters_Docked(TeamName)
    return
    elseif (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_DockWithMothership")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_DockWithMothership")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters Docked state
--
function Init_Mission02_SCFighters_Docked(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    
end 


--
--  "watch" code for Mission02 SCFighters Docked state
--
function Watch_Mission02_SCFighters_Docked(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("Launch2")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Docked")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_Launch2", "Watch_Mission02_SCFighters_Docked")
    Init_Mission02_SCFighters_Launch2(TeamName)
    return
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters Launch2 state
--
function Init_Mission02_SCFighters_Launch2(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    KAS_Launch(TeamName)    --kasfLaunch()
    KASTimer_Start(LaunchSCFighters2[TeamName], 5)
    end 
    
end 


--
--  "watch" code for Mission02 SCFighters Launch2 state
--
function Watch_Mission02_SCFighters_Launch2(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (SobGroup_Count("SCFighters") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("WatchingForSC2")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Launch2")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_WatchingForSC2", "Watch_Mission02_SCFighters_Launch2")
    Init_Mission02_SCFighters_WatchingForSC2(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(LaunchSCFighters2[TeamName]) ~= 0) then 
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_Launch2")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_Launch2")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters WatchingForSC2 state
--
function Init_Mission02_SCFighters_WatchingForSC2(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    
end 


--
--  "watch" code for Mission02 SCFighters WatchingForSC2 state
--
function Watch_Mission02_SCFighters_WatchingForSC2(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (KAS_FindEnemiesInside("SCVolume", "GrowSelection_NearDerelict") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("SCVolume"), kasGrowSelectionPtr("NearDerelict"), 700)
    
    G_NearDerelictSHIPS = (SobGroup_Count("GrowSelection_NearDerelict")) --set    --kasfShipsCount(kasGrowSelectionPtr("NearDerelict"))
    KAS_FillShipsByType_Normal("GrowSelection_SalvageCorvettes", "GrowSelection_NearDerelict", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("SalvageCorvettes"), kasGrowSelectionPtr("NearDerelict"), "SalCapCorvette")
    G_SalvageCorvettesSHIPS = (SobGroup_Count("GrowSelection_SalvageCorvettes")) --set    --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    if (SobGroup_Count("GrowSelection_SalvageCorvettes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("SalvageCorvettes"))
    
    --kasJump("AttackSC")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_WatchingForSC2")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_AttackSC", "Watch_Mission02_SCFighters_WatchingForSC2")
    Init_Mission02_SCFighters_AttackSC(TeamName)
    return
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters DockForGood state
--
function Init_Mission02_SCFighters_DockForGood(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 SCFighters DockForGood state
--
function Watch_Mission02_SCFighters_DockForGood(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (G_P1MothershipHasRetreated == 1) then 
    
    --kasJump("BugginOutForGood")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_BugginOutForGood", "Watch_Mission02_SCFighters_DockForGood")
    Init_Mission02_SCFighters_BugginOutForGood(TeamName)
    return
    end 
    if (SobGroup_Count(TeamName) == 0) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_NullState", "Watch_Mission02_SCFighters_DockForGood")
    Init_Mission02_SCFighters_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters BugginOutForGood state
--
function Init_Mission02_SCFighters_BugginOutForGood(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    SobGroup_MoveToPoint(SobGroup_GetPlayerOwner(TeamName), TeamName, Volume_GetPosition("OutsideOfWorld"))    --kasfMoveTo(kasVectorPtr("OutsideOfWorld"))
    
end 


--
--  "watch" code for Mission02 SCFighters BugginOutForGood state
--
function Watch_Mission02_SCFighters_BugginOutForGood(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (SobGroup_IsInVolume(TeamName, "BugginOutVolume") ~= 0) then     --kasfPointInside(kasVolumePtr("BugginOutVolume"), kasThisTeamsVectorPtr())
    
    KAS_SetHidden(TeamName, 1)    --kasfHideShips((&kasThisTeamPtr->shipList))
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_BugginOutForGood")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_NullState", "Watch_Mission02_SCFighters_BugginOutForGood")
    Init_Mission02_SCFighters_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters BugginOut state
--
function Init_Mission02_SCFighters_BugginOut(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 SCFighters BugginOut state
--
function Watch_Mission02_SCFighters_BugginOut(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_NullState", "Watch_Mission02_SCFighters_BugginOut")
    Init_Mission02_SCFighters_NullState(TeamName)
    return
    end 
    if (SobGroup_Count("SCFighters") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("SCFighters"))
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_NullState", "Watch_Mission02_SCFighters_BugginOut")
    Init_Mission02_SCFighters_NullState(TeamName)
    return
    end 
    if (G_P1MothershipHasRetreated == 1) then 
    
    --kasJump("BugginOutForGood")
    --KASRule_Remove("FSM_Mission02_SCFighters", "Watch_Mission02_SCFighters_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_SCFighters_BugginOutForGood", "Watch_Mission02_SCFighters_BugginOut")
    Init_Mission02_SCFighters_BugginOutForGood(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 SCFighters NullState state
--
function Init_Mission02_SCFighters_NullState(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    
end 


--
--  "watch" code for Mission02 SCFighters NullState state
--
function Watch_Mission02_SCFighters_NullState(TeamName)
    --FSM: FSM_Mission02_SCFighters
    --TeamName = SCFighters
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters FSM
--
function Init_Mission02_ACT3Fighters(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    SHIPSOriginal[TeamName] = (SobGroup_Count(TeamName)) --created,set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    SHIPSRequested[TeamName] = 0 --created,set
    SHIPSNeeded[TeamName] = 0 --created,set
    SHIPSNewships[TeamName] = 0 --created,set
    SHIPSKilled[TeamName] = 0 --created,set
    G_TOTALOriginalACT3Fighters = G_TOTALOriginalACT3Fighters + SobGroup_Count(TeamName) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    --kasJump("DockInstant")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_DockInstant", "Init_Mission02_ACT3Fighters")
    Init_Mission02_ACT3Fighters_DockInstant(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 ACT3Fighters FSM
--
function Watch_Mission02_ACT3Fighters(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if ((SobGroup_Count(TeamName) == 0) and (WaitingForShips[TeamName] == 0)) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    --kasJump("AllDeadWaitForShips")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_AllDeadWaitForShips", "Watch_Mission02_ACT3Fighters")
    Init_Mission02_ACT3Fighters_AllDeadWaitForShips(TeamName)
    return
    end 
    if (((SobGroup_Count(TeamName) + SHIPSRequested[TeamName]) < SHIPSOriginal[TeamName]) and (G_P1MothershipGettinOut == 0)) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    SHIPSNeeded[TeamName] = (SHIPSOriginal[TeamName] - (SobGroup_Count(TeamName) + SHIPSRequested[TeamName])) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    KAS_RequestShips(TeamName, "Tur_Fighter", SHIPSNeeded[TeamName])    --kasfRequestShips("P1Fighter", ___KAS_SCOPED_VAR____SHIPSNeeded_)
    SHIPSKilled[TeamName] = SHIPSKilled[TeamName] + SHIPSNeeded[TeamName] --set
    G_TOTALACT3FightersKilled = SHIPSKilled[TeamName] --set
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] + SHIPSNeeded[TeamName] --set
    end 
    SHIPSNewships[TeamName] = KAS_NumberNewShipsAdded(TeamName) --set    --kasfNewShipsAdded()
    if (SHIPSNewships[TeamName] ~= 0) then 
    
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] - SHIPSNewships[TeamName] --set
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters AllDeadWaitForShips state
--
function Init_Mission02_ACT3Fighters_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    WaitingForShips[TeamName] = 1 --created,set
    
end 


--
--  "watch" code for Mission02 ACT3Fighters AllDeadWaitForShips state
--
function Watch_Mission02_ACT3Fighters_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (SobGroup_Count(TeamName) > 0) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    WaitingForShips[TeamName] = 0 --destroyed
    if (G_P1MothershipGettinOut == 0) then 
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AllDeadWaitForShips")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AllDeadWaitForShips")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    elseif (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AllDeadWaitForShips")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_DockForGood", "Watch_Mission02_ACT3Fighters_AllDeadWaitForShips")
    Init_Mission02_ACT3Fighters_DockForGood(TeamName)
    return
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters DockInstant state
--
function Init_Mission02_ACT3Fighters_DockInstant(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    SobGroup_DockSobGroupInstant(TeamName, "P1Mothership")    --kasfDockInstant(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 ACT3Fighters DockInstant state
--
function Watch_Mission02_ACT3Fighters_DockInstant(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (G_BeginACT3Now == 1) then 
    
    --kasJump("Launch")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_DockInstant")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Launch", "Watch_Mission02_ACT3Fighters_DockInstant")
    Init_Mission02_ACT3Fighters_Launch(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters Launch state
--
function Init_Mission02_ACT3Fighters_Launch(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    KAS_Launch(TeamName)    --kasfLaunch()
    G_ACT3FightersHaveLaunched = 1 --created,set
    KASTimer_Start(ACT3FightersHaveLaunched[TeamName], 12)
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Fighters Launch state
--
function Watch_Mission02_ACT3Fighters_Launch(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership", "Watch_Mission02_ACT3Fighters_Launch")
    Init_Mission02_ACT3Fighters_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_DockForGood", "Watch_Mission02_ACT3Fighters_Launch")
    Init_Mission02_ACT3Fighters_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3FightersUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3FightersUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersMothership", "GrowSelection_ACT3FightersUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersMothership"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersMothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3FightersUnderAttack"), kasGrowSelectionPtr("ACT3FightersMothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersFighterLOOK", "GrowSelection_ACT3FightersUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersFighterLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersCorvetteLOOK", "GrowSelection_ACT3FightersUnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3FightersFighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersFighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_Launch")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3FightersCorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_Launch")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    end 
    end 
    if (KASTimer_IsExpiredIfSoDestroy(ACT3FightersHaveLaunched[TeamName]) ~= 0) then 
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_Launch")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters MASTERLooking state
--
function Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    
end 


--
--  "watch" code for Mission02 ACT3Fighters MASTERLooking state
--
function Watch_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    Init_Mission02_ACT3Fighters_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_DockForGood", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    Init_Mission02_ACT3Fighters_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3FightersUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3FightersUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersMothership", "GrowSelection_ACT3FightersUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersMothership"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersMothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3FightersUnderAttack"), kasGrowSelectionPtr("ACT3FightersMothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersFighterLOOK", "GrowSelection_ACT3FightersUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersFighterLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersCorvetteLOOK", "GrowSelection_ACT3FightersUnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3FightersFighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersFighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3FightersCorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    end 
    end 
    KAS_FindEnemiesInside("MothershipSphere", "GrowSelection_ACT3EntireFleet1")    --kasfFindEnemiesInside(kasVolumePtr("MothershipSphere"), kasGrowSelectionPtr("ACT3EntireFleet1"), 100)
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Fighter1", "GrowSelection_ACT3EntireFleet1", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Fighter1"), kasGrowSelectionPtr("ACT3EntireFleet1"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvette1", "GrowSelection_ACT3EntireFleet1", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvette1"), kasGrowSelectionPtr("ACT3EntireFleet1"), "CLASS_Corvette")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Resource1", "GrowSelection_ACT3EntireFleet1", "Resource")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Resource1"), kasGrowSelectionPtr("ACT3EntireFleet1"), "CLASS_Resource")
    KAS_FillShipsByType_Normal("GrowSelection_ACT3Research1", "GrowSelection_ACT3EntireFleet1", "ResearchShip")    --kasfShipsSelectType(kasGrowSelectionPtr("ACT3Research1"), kasGrowSelectionPtr("ACT3EntireFleet1"), "ResearchShip")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3NonCombat1", "GrowSelection_ACT3EntireFleet1", "Utility")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3NonCombat1"), kasGrowSelectionPtr("ACT3EntireFleet1"), "CLASS_NonCombat")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Mothership1", "GrowSelection_ACT3EntireFleet1", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Mothership1"), kasGrowSelectionPtr("ACT3EntireFleet1"), "CLASS_Mothership")
    G_ACT3TeamMothershipSHIPS = SobGroup_Count("GrowSelection_ACT3Mothership1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership1"))
    G_ACT3TeamEntireFleetSHIPS = SobGroup_Count("GrowSelection_ACT3EntireFleet1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3EntireFleet1"))
    G_ACT3TeamFighterSHIPS = SobGroup_Count("GrowSelection_ACT3Fighter1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter1"))
    G_ACT3TeamCorvetteSHIPS = SobGroup_Count("GrowSelection_ACT3Corvette1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette1"))
    G_ACT3TeamResourceSHIPS = SobGroup_Count("GrowSelection_ACT3Resource1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource1"))
    G_ACT3TeamResearchSHIPS = SobGroup_Count("GrowSelection_ACT3Research1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Research1"))
    G_ACT3TeamNonCombatSHIPS = SobGroup_Count("GrowSelection_ACT3NonCombat1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat1"))
    KAS_FindEnemiesInside("EntireWorldVolume", "GrowSelection_ACT3WORLDEntireWorld1")    --kasfFindEnemiesInside(kasVolumePtr("EntireWorldVolume"), kasGrowSelectionPtr("ACT3WORLDEntireWorld1"), 1000)
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDFighter1", "GrowSelection_ACT3WORLDEntireWorld1", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDFighter1"), kasGrowSelectionPtr("ACT3WORLDEntireWorld1"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDCorvette1", "GrowSelection_ACT3WORLDEntireWorld1", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDCorvette1"), kasGrowSelectionPtr("ACT3WORLDEntireWorld1"), "CLASS_Corvette")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDResource1", "GrowSelection_ACT3WORLDEntireWorld1", "Resource")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDResource1"), kasGrowSelectionPtr("ACT3WORLDEntireWorld1"), "CLASS_Resource")
    KAS_FillShipsByType_Normal("GrowSelection_ACT3WORLDResearch1", "GrowSelection_ACT3WORLDEntireWorld1", "ResearchShip")    --kasfShipsSelectType(kasGrowSelectionPtr("ACT3WORLDResearch1"), kasGrowSelectionPtr("ACT3WORLDEntireWorld1"), "ResearchShip")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDNonCombat1", "GrowSelection_ACT3WORLDEntireWorld1", "Utility")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDNonCombat1"), kasGrowSelectionPtr("ACT3WORLDEntireWorld1"), "CLASS_NonCombat")
    G_ACT3TeamEntireFleetWORLDSHIPS = SobGroup_Count("GrowSelection_EntireFleet") --created,set    --kasfShipsCount(kasGrowSelectionPtr("EntireFleet"))
    G_ACT3TeamFighterWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDFighter1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter1"))
    G_ACT3TeamCorvetteWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDCorvette1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette1"))
    G_ACT3TeamResourceWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDResource1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource1"))
    G_ACT3TeamResearchWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDResearch1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch1"))
    G_ACT3TeamNonCombatWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDNonCombat1") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat1"))
    if ((SobGroup_Count("GrowSelection_ACT3Fighter1") > 3) or (SobGroup_Count("GrowSelection_ACT3Corvette1") > 2) or (SobGroup_Count("GrowSelection_ACT3Resource1") > 0) or (SobGroup_Count("GrowSelection_ACT3Research1") > 0) or (SobGroup_Count("GrowSelection_ACT3NonCombat1") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Research1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter1"))
    
    --kasJump("AttackMothershipSphere")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_AttackMothershipSphere", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    Init_Mission02_ACT3Fighters_AttackMothershipSphere(TeamName)
    return
    elseif ((SobGroup_Count("GrowSelection_ACT3WORLDFighter1") > 3) or (SobGroup_Count("GrowSelection_ACT3WORLDCorvette1") > 2) or (SobGroup_Count("GrowSelection_ACT3WORLDResource1") > 0) or (SobGroup_Count("GrowSelection_ACT3WORLDResearch1") > 0) or (SobGroup_Count("GrowSelection_ACT3WORLDNonCombat1") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter1"))
    
    --kasJump("AttackEntireWorld")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_AttackEntireWorld", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    Init_Mission02_ACT3Fighters_AttackEntireWorld(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Mothership1") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership1"))
    
    --kasJump("AttackMothership")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_AttackMothership", "Watch_Mission02_ACT3Fighters_MASTERLooking")
    Init_Mission02_ACT3Fighters_AttackMothership(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters AttackMothershipSphere state
--
function Init_Mission02_ACT3Fighters_AttackMothershipSphere(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (SobGroup_Count("GrowSelection_ACT3Fighter1") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Fighter1")    --kasfAttack(kasGrowSelectionPtr("ACT3Fighter1"))
    AttackingFighter[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3Corvette1") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Corvette1")    --kasfAttack(kasGrowSelectionPtr("ACT3Corvette1"))
    AttackingCorvette[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3Resource1") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Resource1")    --kasfAttack(kasGrowSelectionPtr("ACT3Resource1"))
    AttackingResource[TeamName] = 1 --created,set
    elseif ((SobGroup_Count("GrowSelection_ACT3Research1") > 0) and (NeverAttackResearchAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Research1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Research1")    --kasfAttack(kasGrowSelectionPtr("ACT3Research1"))
    AttackingResearch[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3NonCombat1") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3NonCombat1")    --kasfAttack(kasGrowSelectionPtr("ACT3NonCombat1"))
    AttackingNonCombat[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3Mothership1") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Mothership1")    --kasfAttack(kasGrowSelectionPtr("ACT3Mothership1"))
    AttackingMothership[TeamName] = 1 --created,set
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Fighters AttackMothershipSphere state
--
function Watch_Mission02_ACT3Fighters_AttackMothershipSphere(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_DockForGood", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3FightersUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3FightersUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersMothership", "GrowSelection_ACT3FightersUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersMothership"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersMothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3FightersUnderAttack"), kasGrowSelectionPtr("ACT3FightersMothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersFighterLOOK", "GrowSelection_ACT3FightersUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersFighterLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersCorvetteLOOK", "GrowSelection_ACT3FightersUnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3FightersFighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersFighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3FightersCorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    end 
    end 
    if (AttackingCorvette[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Corvette1") < 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette1"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResource[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Resource1") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource1"))
    
    AttackingResource[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResearch[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ACT3ResearchDamaged1", "GrowSelection_ACT3Research1", 50 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ACT3ResearchDamaged1"), kasGrowSelectionPtr("ACT3Research1"), 50)
    if ((SobGroup_Count("GrowSelection_ACT3Research1") == 0) or (SobGroup_Count("GrowSelection_ACT3ResearchDamaged1") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3ResearchDamaged1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Research1"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    NeverAttackResearchAgain[TeamName] = 1 --created,set
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingFighter[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Fighter1") < 4) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter1"))
    
    AttackingFighter[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingNonCombat[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3NonCombat1") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat1"))
    
    AttackingNonCombat[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingMothership[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Mothership1") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership1"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Fighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Fighters"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackMothershipSphere")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters AttackEntireWorld state
--
function Init_Mission02_ACT3Fighters_AttackEntireWorld(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (SobGroup_Count("GrowSelection_ACT3WORLDFighter1") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDFighter1")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDFighter1"))
    AttackingFighter[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDCorvette1") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDCorvette1")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDCorvette1"))
    AttackingCorvette[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDResource1") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDResource1")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDResource1"))
    AttackingResource[TeamName] = 1 --created,set
    elseif ((SobGroup_Count("GrowSelection_ACT3WORLDResearch1") > 0) and (NeverAttackResearchAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDResearch1")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDResearch1"))
    AttackingResearch[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDNonCombat1") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDNonCombat1")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDNonCombat1"))
    AttackingNonCombat[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDMothership1") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDMothership1"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDMothership1")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDMothership1"))
    AttackingMothership[TeamName] = 1 --created,set
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Fighters AttackEntireWorld state
--
function Watch_Mission02_ACT3Fighters_AttackEntireWorld(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_DockForGood", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3FightersUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3FightersUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersMothership", "GrowSelection_ACT3FightersUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersMothership"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersMothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3FightersUnderAttack"), kasGrowSelectionPtr("ACT3FightersMothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersFighterLOOK", "GrowSelection_ACT3FightersUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersFighterLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersCorvetteLOOK", "GrowSelection_ACT3FightersUnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3FightersFighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersFighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3FightersCorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    end 
    end 
    if (AttackingCorvette[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDCorvette1") < 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette1"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResource[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDResource1") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource1"))
    
    AttackingResource[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResearch[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ACT3WORLDResearchDamaged1", "GrowSelection_ACT3WORLDResearch1", 50 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ACT3WORLDResearchDamaged1"), kasGrowSelectionPtr("ACT3WORLDResearch1"), 50)
    if ((SobGroup_Count("GrowSelection_ACT3WORLDResearch1") == 0) or (SobGroup_Count("GrowSelection_ACT3WORLDResearchDamaged1") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearchDamaged1"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch1"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    NeverAttackResearchAgain[TeamName] = 1 --created,set
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingFighter[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDFighter1") < 4) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter1"))
    
    AttackingFighter[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingNonCombat[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDNonCombat1") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat1"))
    
    AttackingNonCombat[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingMothership[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDMothership1") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDMothership1"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Fighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Fighters"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackEntireWorld")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters AttackMothership state
--
function Init_Mission02_ACT3Fighters_AttackMothership(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    KAS_AttackPlayerMothership(TeamName)    --kasfAttackMothership()
    KASTimer_Start(GoBackToMASTERLooking[TeamName], 30)
    
end 


--
--  "watch" code for Mission02 ACT3Fighters AttackMothership state
--
function Watch_Mission02_ACT3Fighters_AttackMothership(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership", "Watch_Mission02_ACT3Fighters_AttackMothership")
    Init_Mission02_ACT3Fighters_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_DockForGood", "Watch_Mission02_ACT3Fighters_AttackMothership")
    Init_Mission02_ACT3Fighters_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3FightersUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3FightersUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersMothership", "GrowSelection_ACT3FightersUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersMothership"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersMothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3FightersUnderAttack"), kasGrowSelectionPtr("ACT3FightersMothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersFighterLOOK", "GrowSelection_ACT3FightersUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersFighterLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersCorvetteLOOK", "GrowSelection_ACT3FightersUnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3FightersFighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersFighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_AttackMothership")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3FightersCorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_AttackMothership")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Fighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Fighters"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackMothership")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(GoBackToMASTERLooking[TeamName]) ~= 0) then 
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_AttackMothership")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters Defend state
--
function Init_Mission02_ACT3Fighters_Defend(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersFighters", "GrowSelection_ACT3FightersUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersFighters"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Fighter")
    if (SobGroup_Count("GrowSelection_ACT3FightersFighters") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersFighters"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3FightersFighters")    --kasfAttack(kasGrowSelectionPtr("ACT3FightersFighters"))
    else
    
    KAS_Attack(TeamName, "GrowSelection_ACT3FightersUnderAttack")    --kasfAttack(kasGrowSelectionPtr("ACT3FightersUnderAttack"))
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Fighters Defend state
--
function Watch_Mission02_ACT3Fighters_Defend(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership", "Watch_Mission02_ACT3Fighters_Defend")
    Init_Mission02_ACT3Fighters_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_DockForGood", "Watch_Mission02_ACT3Fighters_Defend")
    Init_Mission02_ACT3Fighters_DockForGood(TeamName)
    return
    end 
    if ( (KAS_UnderAttack(TeamName, "GrowSelection_Null91244"))== 0) then     --kasfUnderAttack(kasGrowSelectionPtr("Null91244"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_Defend")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_ACT3FightersUnderAttack") < 4) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersUnderAttack"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_Defend")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    if (KAS_GetCurrentOrder("ACT3Fighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Fighters"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_Defend")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters GoHelpP1Mothership state
--
function Init_Mission02_ACT3Fighters_GoHelpP1Mothership(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    KAS_Attack(TeamName, "GrowSelection_AttackingP1Mothership")    --kasfAttack(kasGrowSelectionPtr("AttackingP1Mothership"))
    
end 


--
--  "watch" code for Mission02 ACT3Fighters GoHelpP1Mothership state
--
function Watch_Mission02_ACT3Fighters_GoHelpP1Mothership(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_DockForGood", "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership")
    Init_Mission02_ACT3Fighters_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3FightersUnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3FightersUnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersMothership", "GrowSelection_ACT3FightersUnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersMothership"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersUnderAttack", "GrowSelection_ACT3FightersMothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3FightersUnderAttack"), kasGrowSelectionPtr("ACT3FightersMothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersFighterLOOK", "GrowSelection_ACT3FightersUnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersFighterLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3FightersCorvetteLOOK", "GrowSelection_ACT3FightersUnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"), kasGrowSelectionPtr("ACT3FightersUnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3FightersFighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersFighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3FightersCorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3FightersCorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_Defend", "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership")
    Init_Mission02_ACT3Fighters_Defend(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Fighters") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Fighters"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_MASTERLooking", "Watch_Mission02_ACT3Fighters_GoHelpP1Mothership")
    Init_Mission02_ACT3Fighters_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters DockForGood state
--
function Init_Mission02_ACT3Fighters_DockForGood(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 ACT3Fighters DockForGood state
--
function Watch_Mission02_ACT3Fighters_DockForGood(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (_VIFONCE031[TeamName] == 0 and (SobGroup_IsDockedCompletely(TeamName) ~= 0)) then  -- "ifonce" #31    --kasfTeamDockedReadyForLaunch()
    
    _VIFONCE031[TeamName] = 1 --created,set;
    G_ACT3FightersHaveDocked = 1 --created,set
    end 
    if (G_P1MothershipHasRetreated == 1) then 
    
    --kasJump("BugginOut")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_BugginOut", "Watch_Mission02_ACT3Fighters_DockForGood")
    Init_Mission02_ACT3Fighters_BugginOut(TeamName)
    return
    end 
    if (SobGroup_Count("ACT3Fighters") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("ACT3Fighters"))
    
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_NullState", "Watch_Mission02_ACT3Fighters_DockForGood")
    Init_Mission02_ACT3Fighters_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters BugginOut state
--
function Init_Mission02_ACT3Fighters_BugginOut(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    SobGroup_MoveToPoint(SobGroup_GetPlayerOwner(TeamName), TeamName, Volume_GetPosition("OutsideOfWorld"))    --kasfMoveTo(kasVectorPtr("OutsideOfWorld"))
    
end 


--
--  "watch" code for Mission02 ACT3Fighters BugginOut state
--
function Watch_Mission02_ACT3Fighters_BugginOut(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    if (SobGroup_IsInVolume(TeamName, "BugginOutVolume") ~= 0) then     --kasfPointInside(kasVolumePtr("BugginOutVolume"), kasThisTeamsVectorPtr())
    
    KAS_SetHidden(TeamName, 1)    --kasfHideShips((&kasThisTeamPtr->shipList))
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_ACT3Fighters", "Watch_Mission02_ACT3Fighters_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Fighters_NullState", "Watch_Mission02_ACT3Fighters_BugginOut")
    Init_Mission02_ACT3Fighters_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Fighters NullState state
--
function Init_Mission02_ACT3Fighters_NullState(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    
end 


--
--  "watch" code for Mission02 ACT3Fighters NullState state
--
function Watch_Mission02_ACT3Fighters_NullState(TeamName)
    --FSM: FSM_Mission02_ACT3Fighters
    --TeamName = ACT3Fighters
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 FSM
--
function Init_Mission02_ACT3Corvettes1(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    SHIPSOriginal[TeamName] = (SobGroup_Count(TeamName)) --created,set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    SHIPSRequested[TeamName] = 0 --created,set
    SHIPSNeeded[TeamName] = 0 --created,set
    SHIPSNewships[TeamName] = 0 --created,set
    SHIPSKilled[TeamName] = 0 --created,set
    G_TOTALOriginalACT3Corvettes1 = G_TOTALOriginalACT3Corvettes1 + SobGroup_Count(TeamName) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    --kasJump("DockInstant")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_DockInstant", "Init_Mission02_ACT3Corvettes1")
    Init_Mission02_ACT3Corvettes1_DockInstant(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 FSM
--
function Watch_Mission02_ACT3Corvettes1(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if ((SobGroup_Count(TeamName) == 0) and (WaitingForShips[TeamName] == 0)) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    --kasJump("AllDeadWaitForShips")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_AllDeadWaitForShips", "Watch_Mission02_ACT3Corvettes1")
    Init_Mission02_ACT3Corvettes1_AllDeadWaitForShips(TeamName)
    return
    end 
    if (((SobGroup_Count(TeamName) + SHIPSRequested[TeamName]) < SHIPSOriginal[TeamName]) and (G_P1MothershipGettinOut == 0)) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    SHIPSNeeded[TeamName] = (SHIPSOriginal[TeamName] - (SobGroup_Count(TeamName) + SHIPSRequested[TeamName])) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    KAS_RequestShips(TeamName, "Tur_MissileCorvette", SHIPSNeeded[TeamName])    --kasfRequestShips("P1MissileCorvette", ___KAS_SCOPED_VAR____SHIPSNeeded_)
    SHIPSKilled[TeamName] = SHIPSKilled[TeamName] + SHIPSNeeded[TeamName] --set
    G_TOTALACT3Corvettes1Killed = SHIPSKilled[TeamName] --set
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] + SHIPSNeeded[TeamName] --set
    end 
    SHIPSNewships[TeamName] = KAS_NumberNewShipsAdded(TeamName) --set    --kasfNewShipsAdded()
    if (SHIPSNewships[TeamName] ~= 0) then 
    
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] - SHIPSNewships[TeamName] --set
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 AllDeadWaitForShips state
--
function Init_Mission02_ACT3Corvettes1_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    WaitingForShips[TeamName] = 1 --created,set
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 AllDeadWaitForShips state
--
function Watch_Mission02_ACT3Corvettes1_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (SobGroup_Count(TeamName) > 0) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    WaitingForShips[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AllDeadWaitForShips")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AllDeadWaitForShips")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 DockInstant state
--
function Init_Mission02_ACT3Corvettes1_DockInstant(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    SobGroup_DockSobGroupInstant(TeamName, "P1Mothership")    --kasfDockInstant(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 DockInstant state
--
function Watch_Mission02_ACT3Corvettes1_DockInstant(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (G_BeginACT3Now == 1) then 
    
    --kasJump("Launch")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_DockInstant")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Launch", "Watch_Mission02_ACT3Corvettes1_DockInstant")
    Init_Mission02_ACT3Corvettes1_Launch(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 Launch state
--
function Init_Mission02_ACT3Corvettes1_Launch(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    KAS_Launch(TeamName)    --kasfLaunch()
    G_ACT3Corvettes1HaveLaunched = 1 --created,set
    KASTimer_Start(ACT3Corvettes1HaveLaunched[TeamName], 12)
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 Launch state
--
function Watch_Mission02_ACT3Corvettes1_Launch(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership", "Watch_Mission02_ACT3Corvettes1_Launch")
    Init_Mission02_ACT3Corvettes1_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_DockForGood", "Watch_Mission02_ACT3Corvettes1_Launch")
    Init_Mission02_ACT3Corvettes1_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes1UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1Mothership", "GrowSelection_ACT3Corvettes1UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1Mothership"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes1Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1FighterLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1CorvetteLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes1FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_Launch")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes1CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_Launch")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    end 
    end 
    if (KASTimer_IsExpiredIfSoDestroy(ACT3Corvettes1HaveLaunched[TeamName]) ~= 0) then 
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_Launch")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 MASTERLooking state
--
function Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 MASTERLooking state
--
function Watch_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    Init_Mission02_ACT3Corvettes1_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_DockForGood", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    Init_Mission02_ACT3Corvettes1_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes1UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1Mothership", "GrowSelection_ACT3Corvettes1UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1Mothership"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes1Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1FighterLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1CorvetteLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes1FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes1CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    end 
    end 
    KAS_FindEnemiesInside("MothershipSphere", "GrowSelection_ACT3EntireFleet2")    --kasfFindEnemiesInside(kasVolumePtr("MothershipSphere"), kasGrowSelectionPtr("ACT3EntireFleet2"), 200)
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Fighter2", "GrowSelection_ACT3EntireFleet2", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Fighter2"), kasGrowSelectionPtr("ACT3EntireFleet2"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvette2", "GrowSelection_ACT3EntireFleet2", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvette2"), kasGrowSelectionPtr("ACT3EntireFleet2"), "CLASS_Corvette")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Resource2", "GrowSelection_ACT3EntireFleet2", "Resource")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Resource2"), kasGrowSelectionPtr("ACT3EntireFleet2"), "CLASS_Resource")
    KAS_FillShipsByType_Normal("GrowSelection_ACT3Research2", "GrowSelection_ACT3EntireFleet2", "ResearchShip")    --kasfShipsSelectType(kasGrowSelectionPtr("ACT3Research2"), kasGrowSelectionPtr("ACT3EntireFleet2"), "ResearchShip")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3NonCombat2", "GrowSelection_ACT3EntireFleet2", "Utility")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3NonCombat2"), kasGrowSelectionPtr("ACT3EntireFleet2"), "CLASS_NonCombat")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Mothership2", "GrowSelection_ACT3EntireFleet2", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Mothership2"), kasGrowSelectionPtr("ACT3EntireFleet2"), "CLASS_Mothership")
    G_ACT3TeamMothershipSHIPS = SobGroup_Count("GrowSelection_ACT3Mothership2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership2"))
    G_ACT3TeamEntireFleetSHIPS = SobGroup_Count("GrowSelection_ACT3EntireFleet2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3EntireFleet2"))
    G_ACT3TeamFighterSHIPS = SobGroup_Count("GrowSelection_ACT3Fighter2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter2"))
    G_ACT3TeamCorvetteSHIPS = SobGroup_Count("GrowSelection_ACT3Corvette2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette2"))
    G_ACT3TeamResourceSHIPS = SobGroup_Count("GrowSelection_ACT3Resource2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource2"))
    G_ACT3TeamResearchSHIPS = SobGroup_Count("GrowSelection_ACT3Research2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Research2"))
    G_ACT3TeamNonCombatSHIPS = SobGroup_Count("GrowSelection_ACT3NonCombat2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat2"))
    KAS_FindEnemiesInside("EntireWorldVolume", "GrowSelection_ACT3WORLDEntireWorld2")    --kasfFindEnemiesInside(kasVolumePtr("EntireWorldVolume"), kasGrowSelectionPtr("ACT3WORLDEntireWorld2"), 2000)
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDFighter2", "GrowSelection_ACT3WORLDEntireWorld2", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDFighter2"), kasGrowSelectionPtr("ACT3WORLDEntireWorld2"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDCorvette2", "GrowSelection_ACT3WORLDEntireWorld2", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDCorvette2"), kasGrowSelectionPtr("ACT3WORLDEntireWorld2"), "CLASS_Corvette")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDResource2", "GrowSelection_ACT3WORLDEntireWorld2", "Resource")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDResource2"), kasGrowSelectionPtr("ACT3WORLDEntireWorld2"), "CLASS_Resource")
    KAS_FillShipsByType_Normal("GrowSelection_ACT3WORLDResearch2", "GrowSelection_ACT3WORLDEntireWorld2", "ResearchShip")    --kasfShipsSelectType(kasGrowSelectionPtr("ACT3WORLDResearch2"), kasGrowSelectionPtr("ACT3WORLDEntireWorld2"), "ResearchShip")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDNonCombat2", "GrowSelection_ACT3WORLDEntireWorld2", "Utility")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDNonCombat2"), kasGrowSelectionPtr("ACT3WORLDEntireWorld2"), "CLASS_NonCombat")
    G_ACT3TeamEntireFleetWORLDSHIPS = SobGroup_Count("GrowSelection_EntireFleet") --created,set    --kasfShipsCount(kasGrowSelectionPtr("EntireFleet"))
    G_ACT3TeamFighterWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDFighter2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter2"))
    G_ACT3TeamCorvetteWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDCorvette2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette2"))
    G_ACT3TeamResourceWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDResource2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource2"))
    G_ACT3TeamResearchWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDResearch2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch2"))
    G_ACT3TeamNonCombatWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDNonCombat2") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat2"))
    if ((SobGroup_Count("GrowSelection_ACT3Fighter2") > 3) or (SobGroup_Count("GrowSelection_ACT3Corvette2") > 2) or (SobGroup_Count("GrowSelection_ACT3Resource2") > 0) or (SobGroup_Count("GrowSelection_ACT3Research2") > 0) or (SobGroup_Count("GrowSelection_ACT3NonCombat2") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Research2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter2"))
    
    --kasJump("AttackMothershipSphere")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    Init_Mission02_ACT3Corvettes1_AttackMothershipSphere(TeamName)
    return
    elseif ((SobGroup_Count("GrowSelection_ACT3WORLDFighter2") > 3) or (SobGroup_Count("GrowSelection_ACT3WORLDCorvette2") > 2) or (SobGroup_Count("GrowSelection_ACT3WORLDResource2") > 0) or (SobGroup_Count("GrowSelection_ACT3WORLDResearch2") > 0) or (SobGroup_Count("GrowSelection_ACT3WORLDNonCombat2") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter2"))
    
    --kasJump("AttackEntireWorld")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    Init_Mission02_ACT3Corvettes1_AttackEntireWorld(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Mothership2") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership2"))
    
    --kasJump("AttackMothership")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_AttackMothership", "Watch_Mission02_ACT3Corvettes1_MASTERLooking")
    Init_Mission02_ACT3Corvettes1_AttackMothership(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 AttackMothershipSphere state
--
function Init_Mission02_ACT3Corvettes1_AttackMothershipSphere(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (SobGroup_Count("GrowSelection_ACT3Corvette2") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Corvette2")    --kasfAttack(kasGrowSelectionPtr("ACT3Corvette2"))
    AttackingCorvette[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3Resource2") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Resource2")    --kasfAttack(kasGrowSelectionPtr("ACT3Resource2"))
    AttackingResource[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3Fighter2") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Fighter2")    --kasfAttack(kasGrowSelectionPtr("ACT3Fighter2"))
    AttackingFighter[TeamName] = 1 --created,set
    elseif ((SobGroup_Count("GrowSelection_ACT3Research2") > 0) and (NeverAttackResearchAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Research2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Research2")    --kasfAttack(kasGrowSelectionPtr("ACT3Research2"))
    AttackingResearch[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3NonCombat2") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3NonCombat2")    --kasfAttack(kasGrowSelectionPtr("ACT3NonCombat2"))
    AttackingNonCombat[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3Mothership2") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Mothership2")    --kasfAttack(kasGrowSelectionPtr("ACT3Mothership2"))
    AttackingMothership[TeamName] = 1 --created,set
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 AttackMothershipSphere state
--
function Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_DockForGood", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes1UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1Mothership", "GrowSelection_ACT3Corvettes1UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1Mothership"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes1Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1FighterLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1CorvetteLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes1FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes1CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    end 
    end 
    if (AttackingCorvette[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Corvette2") < 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette2"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResource[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Resource2") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource2"))
    
    AttackingResource[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResearch[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ACT3ResearchDamaged2", "GrowSelection_ACT3Research2", 50 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ACT3ResearchDamaged2"), kasGrowSelectionPtr("ACT3Research2"), 50)
    if ((SobGroup_Count("GrowSelection_ACT3Research2") == 0) or (SobGroup_Count("GrowSelection_ACT3ResearchDamaged2") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3ResearchDamaged2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Research2"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    NeverAttackResearchAgain[TeamName] = 1 --created,set
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingFighter[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Fighter2") < 4) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter2"))
    
    AttackingFighter[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingNonCombat[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3NonCombat2") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat2"))
    
    AttackingNonCombat[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingMothership[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Mothership2") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership2"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes2") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes2"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 AttackEntireWorld state
--
function Init_Mission02_ACT3Corvettes1_AttackEntireWorld(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (SobGroup_Count("GrowSelection_ACT3WORLDCorvette2") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDCorvette2")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDCorvette2"))
    AttackingCorvette[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDResource2") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDResource2")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDResource2"))
    AttackingResource[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDFighter2") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDFighter2")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDFighter2"))
    AttackingFighter[TeamName] = 1 --created,set
    elseif ((SobGroup_Count("GrowSelection_ACT3WORLDResearch2") > 0) and (NeverAttackResearchAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDResearch2")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDResearch2"))
    AttackingResearch[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDNonCombat2") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDNonCombat2")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDNonCombat2"))
    AttackingNonCombat[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDMothership2") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDMothership2"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDMothership2")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDMothership2"))
    AttackingMothership[TeamName] = 1 --created,set
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 AttackEntireWorld state
--
function Watch_Mission02_ACT3Corvettes1_AttackEntireWorld(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_DockForGood", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes1UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1Mothership", "GrowSelection_ACT3Corvettes1UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1Mothership"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes1Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1FighterLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1CorvetteLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes1FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes1CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    end 
    end 
    if (AttackingCorvette[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDCorvette2") < 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette2"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResource[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDResource2") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource2"))
    
    AttackingResource[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResearch[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ACT3WORLDResearchDamaged2", "GrowSelection_ACT3WORLDResearch2", 50 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ACT3WORLDResearchDamaged2"), kasGrowSelectionPtr("ACT3WORLDResearch2"), 50)
    if ((SobGroup_Count("GrowSelection_ACT3WORLDResearch2") == 0) or (SobGroup_Count("GrowSelection_ACT3WORLDResearchDamaged2") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearchDamaged2"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch2"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    NeverAttackResearchAgain[TeamName] = 1 --created,set
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingFighter[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDFighter2") < 4) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter2"))
    
    AttackingFighter[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingNonCombat[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDNonCombat2") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat2"))
    
    AttackingNonCombat[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingMothership[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDMothership2") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDMothership2"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes1") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes1"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 AttackMothership state
--
function Init_Mission02_ACT3Corvettes1_AttackMothership(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    KAS_AttackPlayerMothership(TeamName)    --kasfAttackMothership()
    KASTimer_Start(GoBackToMASTERLooking[TeamName], 30)
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 AttackMothership state
--
function Watch_Mission02_ACT3Corvettes1_AttackMothership(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    Init_Mission02_ACT3Corvettes1_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_DockForGood", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    Init_Mission02_ACT3Corvettes1_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes1UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1Mothership", "GrowSelection_ACT3Corvettes1UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1Mothership"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes1Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1FighterLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1CorvetteLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes1FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes1CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes1") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes1"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(GoBackToMASTERLooking[TeamName]) ~= 0) then 
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_AttackMothership")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 Defend state
--
function Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1Fighters", "GrowSelection_ACT3Corvettes1UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1Fighters"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Fighter")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes1Fighters") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1Fighters"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Corvettes1Fighters")    --kasfAttack(kasGrowSelectionPtr("ACT3Corvettes1Fighters"))
    else
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Corvettes1UnderAttack")    --kasfAttack(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"))
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 Defend state
--
function Watch_Mission02_ACT3Corvettes1_Defend(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (G_P1MothershipUnderAttack == 1) then 
    
    --kasJump("GoHelpP1Mothership")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership", "Watch_Mission02_ACT3Corvettes1_Defend")
    Init_Mission02_ACT3Corvettes1_GoHelpP1Mothership(TeamName)
    return
    end 
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_DockForGood", "Watch_Mission02_ACT3Corvettes1_Defend")
    Init_Mission02_ACT3Corvettes1_DockForGood(TeamName)
    return
    end 
    if ( (KAS_UnderAttack(TeamName, "GrowSelection_Null91244"))== 0) then     --kasfUnderAttack(kasGrowSelectionPtr("Null91244"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_Defend")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_ACT3Corvettes1UnderAttack") < 4) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_Defend")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes1") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes1"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_Defend")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 GoHelpP1Mothership state
--
function Init_Mission02_ACT3Corvettes1_GoHelpP1Mothership(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    KAS_Attack(TeamName, "GrowSelection_AttackingP1Mothership")    --kasfAttack(kasGrowSelectionPtr("AttackingP1Mothership"))
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 GoHelpP1Mothership state
--
function Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_DockForGood", "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership")
    Init_Mission02_ACT3Corvettes1_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes1UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1Mothership", "GrowSelection_ACT3Corvettes1UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1Mothership"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1UnderAttack", "GrowSelection_ACT3Corvettes1Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes1Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1FighterLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes1CorvetteLOOK", "GrowSelection_ACT3Corvettes1UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes1UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes1FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes1CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes1CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_Defend", "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership")
    Init_Mission02_ACT3Corvettes1_Defend(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes1") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes1"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_MASTERLooking", "Watch_Mission02_ACT3Corvettes1_GoHelpP1Mothership")
    Init_Mission02_ACT3Corvettes1_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 DockForGood state
--
function Init_Mission02_ACT3Corvettes1_DockForGood(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 DockForGood state
--
function Watch_Mission02_ACT3Corvettes1_DockForGood(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (_VIFONCE032[TeamName] == 0 and (SobGroup_IsDockedCompletely(TeamName) ~= 0)) then  -- "ifonce" #32    --kasfTeamDockedReadyForLaunch()
    
    _VIFONCE032[TeamName] = 1 --created,set;
    G_ACT3Corvettes1HaveDocked = 1 --created,set
    end 
    if (G_P1MothershipHasRetreated == 1) then 
    
    --kasJump("BugginOut")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_BugginOut", "Watch_Mission02_ACT3Corvettes1_DockForGood")
    Init_Mission02_ACT3Corvettes1_BugginOut(TeamName)
    return
    end 
    if (SobGroup_Count("ACT3Corvettes1") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("ACT3Corvettes1"))
    
    G_ACT3Corvettes1HaveDocked = 1 --created,set
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_NullState", "Watch_Mission02_ACT3Corvettes1_DockForGood")
    Init_Mission02_ACT3Corvettes1_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 BugginOut state
--
function Init_Mission02_ACT3Corvettes1_BugginOut(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    SobGroup_MoveToPoint(SobGroup_GetPlayerOwner(TeamName), TeamName, Volume_GetPosition("OutsideOfWorld"))    --kasfMoveTo(kasVectorPtr("OutsideOfWorld"))
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 BugginOut state
--
function Watch_Mission02_ACT3Corvettes1_BugginOut(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    if (SobGroup_IsInVolume(TeamName, "BugginOutVolume") ~= 0) then     --kasfPointInside(kasVolumePtr("BugginOutVolume"), kasThisTeamsVectorPtr())
    
    KAS_SetHidden(TeamName, 1)    --kasfHideShips((&kasThisTeamPtr->shipList))
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes1_NullState", "Watch_Mission02_ACT3Corvettes1_BugginOut")
    Init_Mission02_ACT3Corvettes1_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes1 NullState state
--
function Init_Mission02_ACT3Corvettes1_NullState(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes1 NullState state
--
function Watch_Mission02_ACT3Corvettes1_NullState(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes1
    --TeamName = ACT3Corvettes1
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 FSM
--
function Init_Mission02_ACT3Corvettes2(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    SHIPSOriginal[TeamName] = (SobGroup_Count(TeamName)) --created,set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    SHIPSRequested[TeamName] = 0 --created,set
    SHIPSNeeded[TeamName] = 0 --created,set
    SHIPSNewships[TeamName] = 0 --created,set
    SHIPSKilled[TeamName] = 0 --created,set
    G_TOTALOriginalACT3Corvettes2 = G_TOTALOriginalACT3Corvettes2 + SobGroup_Count(TeamName) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    --kasJump("DockInstant")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_DockInstant", "Init_Mission02_ACT3Corvettes2")
    Init_Mission02_ACT3Corvettes2_DockInstant(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 FSM
--
function Watch_Mission02_ACT3Corvettes2(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if ((SobGroup_Count(TeamName) == 0) and (WaitingForShips[TeamName] == 0)) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    --kasJump("AllDeadWaitForShips")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_AllDeadWaitForShips", "Watch_Mission02_ACT3Corvettes2")
    Init_Mission02_ACT3Corvettes2_AllDeadWaitForShips(TeamName)
    return
    end 
    if (((SobGroup_Count(TeamName) + SHIPSRequested[TeamName]) < SHIPSOriginal[TeamName]) and (G_P1MothershipGettinOut == 0)) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    SHIPSNeeded[TeamName] = (SHIPSOriginal[TeamName] - (SobGroup_Count(TeamName) + SHIPSRequested[TeamName])) --set    --kasfShipsCount((&kasThisTeamPtr->shipList))
    KAS_RequestShips(TeamName, "Tur_StandardCorvette", SHIPSNeeded[TeamName])    --kasfRequestShips("P1StandardCorvette", ___KAS_SCOPED_VAR____SHIPSNeeded_)
    SHIPSKilled[TeamName] = SHIPSKilled[TeamName] + SHIPSNeeded[TeamName] --set
    G_TOTALACT3Corvettes2Killed = SHIPSKilled[TeamName] --set
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] + SHIPSNeeded[TeamName] --set
    end 
    SHIPSNewships[TeamName] = KAS_NumberNewShipsAdded(TeamName) --set    --kasfNewShipsAdded()
    if (SHIPSNewships[TeamName] ~= 0) then 
    
    SHIPSRequested[TeamName] = SHIPSRequested[TeamName] - SHIPSNewships[TeamName] --set
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 AllDeadWaitForShips state
--
function Init_Mission02_ACT3Corvettes2_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    WaitingForShips[TeamName] = 1 --created,set
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 AllDeadWaitForShips state
--
function Watch_Mission02_ACT3Corvettes2_AllDeadWaitForShips(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (SobGroup_Count(TeamName) > 0) then     --kasfShipsCount((&kasThisTeamPtr->shipList))
    
    WaitingForShips[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AllDeadWaitForShips")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AllDeadWaitForShips")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 DockInstant state
--
function Init_Mission02_ACT3Corvettes2_DockInstant(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    SobGroup_DockSobGroupInstant(TeamName, "P1Mothership")    --kasfDockInstant(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 DockInstant state
--
function Watch_Mission02_ACT3Corvettes2_DockInstant(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (G_BeginACT3Now == 1) then 
    
    --kasJump("Launch")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_DockInstant")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Launch", "Watch_Mission02_ACT3Corvettes2_DockInstant")
    Init_Mission02_ACT3Corvettes2_Launch(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 Launch state
--
function Init_Mission02_ACT3Corvettes2_Launch(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (SobGroup_IsDockedCompletely(TeamName) ~= 0) then     --kasfTeamDockedReadyForLaunch()
    
    KAS_Launch(TeamName)    --kasfLaunch()
    G_ACT3Corvettes2HaveLaunched = 1 --created,set
    KASTimer_Start(ACT3Corvettes2HaveLaunched[TeamName], 12)
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 Launch state
--
function Watch_Mission02_ACT3Corvettes2_Launch(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_DockForGood", "Watch_Mission02_ACT3Corvettes2_Launch")
    Init_Mission02_ACT3Corvettes2_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes2UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2Mothership", "GrowSelection_ACT3Corvettes2UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2Mothership"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes2Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2FighterLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2CorvetteLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes2FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_Launch")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes2CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_Launch")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    end 
    end 
    if (KASTimer_IsExpiredIfSoDestroy(ACT3Corvettes2HaveLaunched[TeamName]) ~= 0) then 
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_Launch")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_Launch")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 MASTERLooking state
--
function Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 MASTERLooking state
--
function Watch_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_DockForGood", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    Init_Mission02_ACT3Corvettes2_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes2UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2Mothership", "GrowSelection_ACT3Corvettes2UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2Mothership"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes2Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2FighterLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2CorvetteLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes2FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes2CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    end 
    end 
    KAS_FindEnemiesInside("MothershipSphere", "GrowSelection_ACT3EntireFleet3")    --kasfFindEnemiesInside(kasVolumePtr("MothershipSphere"), kasGrowSelectionPtr("ACT3EntireFleet3"), 300)
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Fighter3", "GrowSelection_ACT3EntireFleet3", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Fighter3"), kasGrowSelectionPtr("ACT3EntireFleet3"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvette3", "GrowSelection_ACT3EntireFleet3", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvette3"), kasGrowSelectionPtr("ACT3EntireFleet3"), "CLASS_Corvette")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Resource3", "GrowSelection_ACT3EntireFleet3", "Resource")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Resource3"), kasGrowSelectionPtr("ACT3EntireFleet3"), "CLASS_Resource")
    KAS_FillShipsByType_Normal("GrowSelection_ACT3Research3", "GrowSelection_ACT3EntireFleet3", "ResearchShip")    --kasfShipsSelectType(kasGrowSelectionPtr("ACT3Research3"), kasGrowSelectionPtr("ACT3EntireFleet3"), "ResearchShip")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3NonCombat3", "GrowSelection_ACT3EntireFleet3", "Utility")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3NonCombat3"), kasGrowSelectionPtr("ACT3EntireFleet3"), "CLASS_NonCombat")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Mothership3", "GrowSelection_ACT3EntireFleet3", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Mothership3"), kasGrowSelectionPtr("ACT3EntireFleet3"), "CLASS_Mothership")
    G_ACT3TeamMothershipSHIPS = SobGroup_Count("GrowSelection_ACT3Mothership3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership3"))
    G_ACT3TeamEntireFleetSHIPS = SobGroup_Count("GrowSelection_ACT3EntireFleet3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3EntireFleet3"))
    G_ACT3TeamFighterSHIPS = SobGroup_Count("GrowSelection_ACT3Fighter3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter3"))
    G_ACT3TeamCorvetteSHIPS = SobGroup_Count("GrowSelection_ACT3Corvette3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette3"))
    G_ACT3TeamResourceSHIPS = SobGroup_Count("GrowSelection_ACT3Resource3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource3"))
    G_ACT3TeamResearchSHIPS = SobGroup_Count("GrowSelection_ACT3Research3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3Research3"))
    G_ACT3TeamNonCombatSHIPS = SobGroup_Count("GrowSelection_ACT3NonCombat3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat3"))
    KAS_FindEnemiesInside("EntireWorldVolume", "GrowSelection_ACT3WORLDEntireWorld3")    --kasfFindEnemiesInside(kasVolumePtr("EntireWorldVolume"), kasGrowSelectionPtr("ACT3WORLDEntireWorld3"), 3000)
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDFighter3", "GrowSelection_ACT3WORLDEntireWorld3", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDFighter3"), kasGrowSelectionPtr("ACT3WORLDEntireWorld3"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDCorvette3", "GrowSelection_ACT3WORLDEntireWorld3", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDCorvette3"), kasGrowSelectionPtr("ACT3WORLDEntireWorld3"), "CLASS_Corvette")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDResource3", "GrowSelection_ACT3WORLDEntireWorld3", "Resource")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDResource3"), kasGrowSelectionPtr("ACT3WORLDEntireWorld3"), "CLASS_Resource")
    KAS_FillShipsByType_Normal("GrowSelection_ACT3WORLDResearch3", "GrowSelection_ACT3WORLDEntireWorld3", "ResearchShip")    --kasfShipsSelectType(kasGrowSelectionPtr("ACT3WORLDResearch3"), kasGrowSelectionPtr("ACT3WORLDEntireWorld3"), "ResearchShip")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3WORLDNonCombat3", "GrowSelection_ACT3WORLDEntireWorld3", "Utility")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3WORLDNonCombat3"), kasGrowSelectionPtr("ACT3WORLDEntireWorld3"), "CLASS_NonCombat")
    G_ACT3TeamEntireFleetWORLDSHIPS = SobGroup_Count("GrowSelection_EntireFleet") --created,set    --kasfShipsCount(kasGrowSelectionPtr("EntireFleet"))
    G_ACT3TeamFighterWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDFighter3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter3"))
    G_ACT3TeamCorvetteWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDCorvette3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette3"))
    G_ACT3TeamResourceWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDResource3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource3"))
    G_ACT3TeamResearchWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDResearch3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch3"))
    G_ACT3TeamNonCombatWORLDSHIPS = SobGroup_Count("GrowSelection_ACT3WORLDNonCombat3") --created,set    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat3"))
    if ((SobGroup_Count("GrowSelection_ACT3Fighter3") > 3) or (SobGroup_Count("GrowSelection_ACT3Corvette3") > 2) or (SobGroup_Count("GrowSelection_ACT3Resource3") > 0) or (SobGroup_Count("GrowSelection_ACT3Research3") > 0) or (SobGroup_Count("GrowSelection_ACT3NonCombat3") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Research3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Resource3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter3"))
    
    --kasJump("AttackMothershipSphere")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    Init_Mission02_ACT3Corvettes2_AttackMothershipSphere(TeamName)
    return
    elseif ((SobGroup_Count("GrowSelection_ACT3WORLDFighter3") > 3) or (SobGroup_Count("GrowSelection_ACT3WORLDCorvette3") > 2) or (SobGroup_Count("GrowSelection_ACT3WORLDResource3") > 0) or (SobGroup_Count("GrowSelection_ACT3WORLDResearch3") > 0) or (SobGroup_Count("GrowSelection_ACT3WORLDNonCombat3") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResource3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter3"))
    
    --kasJump("AttackEntireWorld")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    Init_Mission02_ACT3Corvettes2_AttackEntireWorld(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Mothership3") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership3"))
    
    --kasJump("AttackMothership")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_AttackMothership", "Watch_Mission02_ACT3Corvettes2_MASTERLooking")
    Init_Mission02_ACT3Corvettes2_AttackMothership(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 AttackMothershipSphere state
--
function Init_Mission02_ACT3Corvettes2_AttackMothershipSphere(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (SobGroup_Count("GrowSelection_ACT3Fighter3") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Fighter3")    --kasfAttack(kasGrowSelectionPtr("ACT3Fighter3"))
    AttackingFighter[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3Corvette3") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Corvette3")    --kasfAttack(kasGrowSelectionPtr("ACT3Corvette3"))
    AttackingCorvette[TeamName] = 1 --created,set
    elseif ((SobGroup_Count("GrowSelection_ACT3Research3") > 0) and (NeverAttackResearchAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Research3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Research3")    --kasfAttack(kasGrowSelectionPtr("ACT3Research3"))
    AttackingResearch[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3NonCombat3") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3NonCombat3")    --kasfAttack(kasGrowSelectionPtr("ACT3NonCombat3"))
    AttackingNonCombat[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3Mothership3") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Mothership3")    --kasfAttack(kasGrowSelectionPtr("ACT3Mothership3"))
    AttackingMothership[TeamName] = 1 --created,set
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 AttackMothershipSphere state
--
function Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_DockForGood", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes2_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes2UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2Mothership", "GrowSelection_ACT3Corvettes2UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2Mothership"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes2Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2FighterLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2CorvetteLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes2FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes2CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    end 
    end 
    if (AttackingCorvette[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Corvette3") < 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvette3"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResearch[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ACT3ResearchDamaged3", "GrowSelection_ACT3Research3", 50 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ACT3ResearchDamaged3"), kasGrowSelectionPtr("ACT3Research3"), 50)
    if ((SobGroup_Count("GrowSelection_ACT3Research3") == 0) or (SobGroup_Count("GrowSelection_ACT3ResearchDamaged3") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3ResearchDamaged3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3Research3"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    NeverAttackResearchAgain[TeamName] = 1 --created,set
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingFighter[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Fighter3") < 4) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Fighter3"))
    
    AttackingFighter[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingNonCombat[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3NonCombat3") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3NonCombat3"))
    
    AttackingNonCombat[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingMothership[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3Mothership3") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Mothership3"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes2") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes2"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackMothershipSphere")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 AttackEntireWorld state
--
function Init_Mission02_ACT3Corvettes2_AttackEntireWorld(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (SobGroup_Count("GrowSelection_ACT3WORLDFighter3") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDFighter3")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDFighter3"))
    AttackingFighter[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDCorvette3") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDCorvette3")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDCorvette3"))
    AttackingCorvette[TeamName] = 1 --created,set
    elseif ((SobGroup_Count("GrowSelection_ACT3WORLDResearch3") > 0) and (NeverAttackResearchAgain[TeamName] == 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDResearch3")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDResearch3"))
    AttackingResearch[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDNonCombat3") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDNonCombat3")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDNonCombat3"))
    AttackingNonCombat[TeamName] = 1 --created,set
    elseif (SobGroup_Count("GrowSelection_ACT3WORLDMothership3") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDMothership3"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3WORLDMothership3")    --kasfAttack(kasGrowSelectionPtr("ACT3WORLDMothership3"))
    AttackingMothership[TeamName] = 1 --created,set
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 AttackEntireWorld state
--
function Watch_Mission02_ACT3Corvettes2_AttackEntireWorld(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_DockForGood", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes2_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes2UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2Mothership", "GrowSelection_ACT3Corvettes2UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2Mothership"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes2Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2FighterLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2CorvetteLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes2FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes2CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    end 
    end 
    if (AttackingCorvette[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDCorvette3") < 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDCorvette3"))
    
    AttackingCorvette[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingResearch[TeamName] == 1) then 
    
    SobGroup_FillSobGroupByHealthBelow("GrowSelection_ACT3WORLDResearchDamaged3", "GrowSelection_ACT3WORLDResearch3", 50 / 100)    --kasfShipsSelectDamaged(kasGrowSelectionPtr("ACT3WORLDResearchDamaged3"), kasGrowSelectionPtr("ACT3WORLDResearch3"), 50)
    if ((SobGroup_Count("GrowSelection_ACT3WORLDResearch3") == 0) or (SobGroup_Count("GrowSelection_ACT3WORLDResearchDamaged3") > 0)) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearchDamaged3"))    --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDResearch3"))
    
    AttackingResearch[TeamName] = 0 --destroyed
    NeverAttackResearchAgain[TeamName] = 1 --created,set
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingFighter[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDFighter3") < 4) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDFighter3"))
    
    AttackingFighter[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingNonCombat[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDNonCombat3") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDNonCombat3"))
    
    AttackingNonCombat[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    elseif (AttackingMothership[TeamName] == 1) then 
    
    if (SobGroup_Count("GrowSelection_ACT3WORLDMothership3") == 0) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3WORLDMothership3"))
    
    AttackingMothership[TeamName] = 0 --destroyed
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes2") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes2"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackEntireWorld")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 AttackMothership state
--
function Init_Mission02_ACT3Corvettes2_AttackMothership(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    KAS_AttackPlayerMothership(TeamName)    --kasfAttackMothership()
    KASTimer_Start(GoBackToMASTERLooking[TeamName], 30)
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 AttackMothership state
--
function Watch_Mission02_ACT3Corvettes2_AttackMothership(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_DockForGood", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    Init_Mission02_ACT3Corvettes2_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes2UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2Mothership", "GrowSelection_ACT3Corvettes2UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2Mothership"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes2Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2FighterLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2CorvetteLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes2FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes2CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes2") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes2"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    if (KASTimer_IsExpiredIfSoDestroy(GoBackToMASTERLooking[TeamName]) ~= 0) then 
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_AttackMothership")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 Defend state
--
function Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2Fighters", "GrowSelection_ACT3Corvettes2UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2Fighters"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Fighter")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes2Fighters") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2Fighters"))
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Corvettes2Fighters")    --kasfAttack(kasGrowSelectionPtr("ACT3Corvettes2Fighters"))
    else
    
    KAS_Attack(TeamName, "GrowSelection_ACT3Corvettes2UnderAttack")    --kasfAttack(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"))
    end 
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 Defend state
--
function Watch_Mission02_ACT3Corvettes2_Defend(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_DockForGood", "Watch_Mission02_ACT3Corvettes2_Defend")
    Init_Mission02_ACT3Corvettes2_DockForGood(TeamName)
    return
    end 
    if ( (KAS_UnderAttack(TeamName, "GrowSelection_Null91244"))== 0) then     --kasfUnderAttack(kasGrowSelectionPtr("Null91244"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_Defend")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    if (SobGroup_Count("GrowSelection_ACT3Corvettes2UnderAttack") < 4) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_Defend")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes2") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes2"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_Defend")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_Defend")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 GoHelpP1Mothership state
--
function Init_Mission02_ACT3Corvettes2_GoHelpP1Mothership(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    KAS_Attack(TeamName, "GrowSelection_AttackingP1Mothership")    --kasfAttack(kasGrowSelectionPtr("AttackingP1Mothership"))
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 GoHelpP1Mothership state
--
function Watch_Mission02_ACT3Corvettes2_GoHelpP1Mothership(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (G_P1MothershipGettinOut == 1) then 
    
    --kasJump("DockForGood")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_DockForGood", "Watch_Mission02_ACT3Corvettes2_GoHelpP1Mothership")
    Init_Mission02_ACT3Corvettes2_DockForGood(TeamName)
    return
    end 
    if (KAS_UnderAttack(TeamName, "GrowSelection_ACT3Corvettes2UnderAttack") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"))
    
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2Mothership", "GrowSelection_ACT3Corvettes2UnderAttack", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2Mothership"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Mothership")
    SobGroup_FillSubtract("GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2UnderAttack", "GrowSelection_ACT3Corvettes2Mothership")    --kasfShipsRemove(kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), kasGrowSelectionPtr("ACT3Corvettes2Mothership"))
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2FighterLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Fighter_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Fighter")
    KAS_FillShipsByClass_Normal("GrowSelection_ACT3Corvettes2CorvetteLOOK", "GrowSelection_ACT3Corvettes2UnderAttack", "Corvette_hw1")    --kasfShipsSelectClass(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"), kasGrowSelectionPtr("ACT3Corvettes2UnderAttack"), "CLASS_Corvette")
    if (SobGroup_Count("GrowSelection_ACT3Corvettes2FighterLOOK") > 3) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2FighterLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_GoHelpP1Mothership")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    elseif (SobGroup_Count("GrowSelection_ACT3Corvettes2CorvetteLOOK") > 2) then     --kasfShipsCount(kasGrowSelectionPtr("ACT3Corvettes2CorvetteLOOK"))
    
    --kasJump("Defend")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_Defend", "Watch_Mission02_ACT3Corvettes2_GoHelpP1Mothership")
    Init_Mission02_ACT3Corvettes2_Defend(TeamName)
    return
    end 
    end 
    if (KAS_GetCurrentOrder("ACT3Corvettes2") ~= 2) then     --kasfShipsOrder(kasAITeamShipsPtr("ACT3Corvettes2"))
    
    --kasJump("MASTERLooking")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_GoHelpP1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_MASTERLooking", "Watch_Mission02_ACT3Corvettes2_GoHelpP1Mothership")
    Init_Mission02_ACT3Corvettes2_MASTERLooking(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 DockForGood state
--
function Init_Mission02_ACT3Corvettes2_DockForGood(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    SobGroup_DockSobGroupAndStayDocked(TeamName, "P1Mothership")    --kasfDockStay(kasAITeamPtr("P1Mothership"))
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 DockForGood state
--
function Watch_Mission02_ACT3Corvettes2_DockForGood(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (_VIFONCE033[TeamName] == 0 and (SobGroup_IsDockedCompletely(TeamName) ~= 0)) then  -- "ifonce" #33    --kasfTeamDockedReadyForLaunch()
    
    _VIFONCE033[TeamName] = 1 --created,set;
    G_ACT3Corvettes2HaveDocked = 1 --created,set
    end 
    if (G_P1MothershipHasRetreated == 1) then 
    
    --kasJump("BugginOut")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_BugginOut", "Watch_Mission02_ACT3Corvettes2_DockForGood")
    Init_Mission02_ACT3Corvettes2_BugginOut(TeamName)
    return
    end 
    if (SobGroup_Count("ACT3Corvettes2") == 0) then     --kasfShipsCount(kasAITeamShipsPtr("ACT3Corvettes2"))
    
    G_ACT3Corvettes2HaveDocked = 1 --created,set
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_DockForGood")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_NullState", "Watch_Mission02_ACT3Corvettes2_DockForGood")
    Init_Mission02_ACT3Corvettes2_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 BugginOut state
--
function Init_Mission02_ACT3Corvettes2_BugginOut(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    SobGroup_MoveToPoint(SobGroup_GetPlayerOwner(TeamName), TeamName, Volume_GetPosition("OutsideOfWorld"))    --kasfMoveTo(kasVectorPtr("OutsideOfWorld"))
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 BugginOut state
--
function Watch_Mission02_ACT3Corvettes2_BugginOut(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    if (SobGroup_IsInVolume(TeamName, "BugginOutVolume") ~= 0) then     --kasfPointInside(kasVolumePtr("BugginOutVolume"), kasThisTeamsVectorPtr())
    
    KAS_SetHidden(TeamName, 1)    --kasfHideShips((&kasThisTeamPtr->shipList))
    --kasJump("NullState")
    --KASRule_Remove("FSM_Mission02_ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2_BugginOut")
    KASRule_Add(TeamName, "Watch_Mission02_ACT3Corvettes2_NullState", "Watch_Mission02_ACT3Corvettes2_BugginOut")
    Init_Mission02_ACT3Corvettes2_NullState(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 ACT3Corvettes2 NullState state
--
function Init_Mission02_ACT3Corvettes2_NullState(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    
end 


--
--  "watch" code for Mission02 ACT3Corvettes2 NullState state
--
function Watch_Mission02_ACT3Corvettes2_NullState(TeamName)
    --FSM: FSM_Mission02_ACT3Corvettes2
    --TeamName = ACT3Corvettes2
    
end 


--
--  "initialize" code for Mission02 P1Mothership FSM
--
function Init_Mission02_P1Mothership(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    --kasJump("Hide")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_Hide", "Init_Mission02_P1Mothership")
    Init_Mission02_P1Mothership_Hide(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 P1Mothership FSM
--
function Watch_Mission02_P1Mothership(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if (_VIFONCE034[TeamName] == 0 and (KASObjective_GetState(ObjectiveID_SalvageVessel) == 1)) then  -- "ifonce" #34    --kasfObjectiveGet("SalvageVessel")
    
    _VIFONCE034[TeamName] = 1 --created,set;
    end 
    if (_VIFONCE035[TeamName] == 0 and (KASTimer_IsExpiredIfSoDestroy(TimerID_G_ACT3Timer) ~= 0)) then  -- "ifonce" #35
    
    _VIFONCE035[TeamName] = 1 --created,set;
    G_BeginACT3Now = 1 --created,set
    if (P1MothershipGettinOut[TeamName] == 0) then 
    
    --kasJump("PatrolPlayerFleet")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_PatrolPlayerFleet", "Watch_Mission02_P1Mothership")
    Init_Mission02_P1Mothership_PatrolPlayerFleet(TeamName)
    return
    end 
    end 
    if (_VIFONCE036[TeamName] == 0 and ((KAS_TeamHealth(TeamName) < 45) and (G_P1MothershipHasRetreated == 0))) then  -- "ifonce" #36    --kasfTeamHealthAverage()
    
    _VIFONCE036[TeamName] = 1 --created,set;
    NowGettingOuttaHere[TeamName] = 1 --created,set
    --kasJump("OuttaHereLikeVladimir")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_OuttaHereLikeVladimir", "Watch_Mission02_P1Mothership")
    Init_Mission02_P1Mothership_OuttaHereLikeVladimir(TeamName)
    return
    end 
    if (_VIFONCE037[TeamName] == 0 and ((KASObjective_GetState(ObjectiveID_DestroyAllP1) == 1) and (G_P1MothershipHasRetreated == 0))) then  -- "ifonce" #37    --kasfObjectiveGet("DestroyAllP1")
    
    _VIFONCE037[TeamName] = 1 --created,set;
    NowGettingOuttaHere[TeamName] = 1 --created,set
    --kasJump("OuttaHereLikeVladimir")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_OuttaHereLikeVladimir", "Watch_Mission02_P1Mothership")
    Init_Mission02_P1Mothership_OuttaHereLikeVladimir(TeamName)
    return
    end 
    if ((G_TOTALDoggedFightersKilled + G_TOTALSCFightersKilled) > 20) then 
    
    KAS_MessageSendToAll(TeamName, "DontHassleSCAnymore")    --kasfMsgSendAll("DontHassleSCAnymore")
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership Hide state
--
function Init_Mission02_P1Mothership_Hide(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    KAS_SetHidden("P1Mothership", 1)    --kasfHideShips(kasAITeamShipsPtr("P1Mothership"))
    KAS_TeamHyperspaceOut(TeamName)    --kasfTeamHyperspaceOut()
    
end 


--
--  "watch" code for Mission02 P1Mothership Hide state
--
function Watch_Mission02_P1Mothership_Hide(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if (G_Nis2Complete ~= 0) then 
    
    --kasJump("Amble")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_Hide")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_Amble", "Watch_Mission02_P1Mothership_Hide")
    Init_Mission02_P1Mothership_Amble(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership Amble state
--
function Init_Mission02_P1Mothership_Amble(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    
end 


--
--  "watch" code for Mission02 P1Mothership Amble state
--
function Watch_Mission02_P1Mothership_Amble(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if (KAS_FindEnemiesInside("nisVolume", "GrowSelection_P1MothershipFound") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("nisVolume"), kasGrowSelectionPtr("P1MothershipFound"), 7000)
    
    KAS_FillShipsByType_Normal("GrowSelection_P1MothershipFoundSC", "GrowSelection_P1MothershipFound", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("P1MothershipFoundSC"), kasGrowSelectionPtr("P1MothershipFound"), "SalCapCorvette")
    if (SobGroup_Count("GrowSelection_P1MothershipFoundSC") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("P1MothershipFoundSC"))
    
    --kasJump("GetIntoPosition")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_Amble")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_GetIntoPosition", "Watch_Mission02_P1Mothership_Amble")
    Init_Mission02_P1Mothership_GetIntoPosition(TeamName)
    return
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership Retreat state
--
function Init_Mission02_P1Mothership_Retreat(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    SobGroup_SetROE(TeamName, DefensiveROE)    --kasfTacticsEvasive()
	SobGroup_SetStance(TeamName, EvasiveStance)
    
end 


--
--  "watch" code for Mission02 P1Mothership Retreat state
--
function Watch_Mission02_P1Mothership_Retreat(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if (KAS_FindEnemiesNearTeam(TeamName, "GrowSelection_Null999923", 5600) == 0) then     --kasfFindEnemiesNearTeam(kasGrowSelectionPtr("Null999923"), 16000)
    
    --kasJump("Amble")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_Retreat")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_Amble", "Watch_Mission02_P1Mothership_Retreat")
    Init_Mission02_P1Mothership_Amble(TeamName)
    return
    end 
    if (KAS_FindEnemiesInside("nisVolume", "GrowSelection_P1MothershipFound") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("nisVolume"), kasGrowSelectionPtr("P1MothershipFound"), 700)
    
    KAS_FillShipsByType_Normal("GrowSelection_P1MothershipFoundSC", "GrowSelection_P1MothershipFound", "SalvageCorvette")    --kasfShipsSelectType(kasGrowSelectionPtr("P1MothershipFoundSC"), kasGrowSelectionPtr("P1MothershipFound"), "SalCapCorvette")
    if (SobGroup_Count("GrowSelection_P1MothershipFoundSC") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("P1MothershipFoundSC"))
    
    if (P1MothershipHasHyperspacedIn[TeamName] == 0) then 
    
    SobGroup_Stop(SobGroup_GetPlayerOwner(TeamName), TeamName)    --kasfStop()
    P1MothershipHasHyperspacedIn[TeamName] = 1 --created,set
    KAS_TeamHyperspaceOut(TeamName)    --kasfTeamHyperspaceOut()
    --kasJump("GetIntoPosition")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_Retreat")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_GetIntoPosition", "Watch_Mission02_P1Mothership_Retreat")
    Init_Mission02_P1Mothership_GetIntoPosition(TeamName)
    return
    end 
    end 
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership GetIntoPosition state
--
function Init_Mission02_P1Mothership_GetIntoPosition(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    KAS_TeamHyperspaceIn(TeamName, "NearDerelict")    --kasfTeamHyperspaceIn(kasVectorPtr("NearDerelict"))
    KASTimer_Start(TimerID_G_P1MothershipHasHyperspacedIn, 24)
    --kasJump("InPosition")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_InPosition", "Init_Mission02_P1Mothership_GetIntoPosition")
    Init_Mission02_P1Mothership_InPosition(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 P1Mothership GetIntoPosition state
--
function Watch_Mission02_P1Mothership_GetIntoPosition(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    
end 


--
--  "initialize" code for Mission02 P1Mothership InPosition state
--
function Init_Mission02_P1Mothership_InPosition(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    
end 


--
--  "watch" code for Mission02 P1Mothership InPosition state
--
function Watch_Mission02_P1Mothership_InPosition(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if (KAS_UnderAttack(TeamName, "GrowSelection_AttackingP1Mothership") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("AttackingP1Mothership"))
    
    --kasJump("DefendYourself")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_InPosition")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_DefendYourself", "Watch_Mission02_P1Mothership_InPosition")
    Init_Mission02_P1Mothership_DefendYourself(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership DefendYourself state
--
function Init_Mission02_P1Mothership_DefendYourself(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if (KAS_FillShipsByClass_Normal("GrowSelection_P1MothershipTargets", "GrowSelection_AttackingP1Mothership", "Corvette_hw1") ~= 0) then     --kasfShipsSelectClass(kasGrowSelectionPtr("P1MothershipTargets"), kasGrowSelectionPtr("AttackingP1Mothership"), "CLASS_Corvette")
    
    elseif (KAS_FillShipsByClass_Normal("GrowSelection_P1MothershipTargets", "GrowSelection_AttackingP1Mothership", "Fighter_hw1") ~= 0) then     --kasfShipsSelectClass(kasGrowSelectionPtr("P1MothershipTargets"), kasGrowSelectionPtr("AttackingP1Mothership"), "CLASS_Fighter")
    
        --lmch: I can't be sure of the designers intent, but I assume they meant to select by class.  This is throwing errors in the HW2 Script converter.
    else
    
    KAS_ShipsAdd("GrowSelection_P1MothershipTargets", "GrowSelection_AttackingP1Mothership")    --kasfShipsAdd(kasGrowSelectionPtr("P1MothershipTargets"), kasGrowSelectionPtr("AttackingP1Mothership"))
    end 
    if (SobGroup_Count("GrowSelection_P1MothershipTargets") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("P1MothershipTargets"))
    
    KAS_Attack(TeamName, "GrowSelection_P1MothershipTargets")    --kasfAttack(kasGrowSelectionPtr("P1MothershipTargets"))
    else
    
    --kasJump("BackInPosition")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_BackInPosition", "Init_Mission02_P1Mothership_DefendYourself")
    Init_Mission02_P1Mothership_BackInPosition(TeamName)
    return
    end 
    
end 


--
--  "watch" code for Mission02 P1Mothership DefendYourself state
--
function Watch_Mission02_P1Mothership_DefendYourself(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if ((SobGroup_Count("GrowSelection_P1MothershipTargets") == 0) or (KAS_GetCurrentOrder("P1Mothership") ~= 2)) then     --kasfShipsCount(kasGrowSelectionPtr("P1MothershipTargets"))    --kasfShipsOrder(kasAITeamShipsPtr("P1Mothership"))
    
    --kasJump("BackInPosition")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_DefendYourself")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_BackInPosition", "Watch_Mission02_P1Mothership_DefendYourself")
    Init_Mission02_P1Mothership_BackInPosition(TeamName)
    return
    end 
    if (SobGroup_IsShipNearPoint(TeamName, "NearDerelict", 12250) == 0) then     --kasfNearby(kasVectorPtr("NearDerelict"), 35000)
    
    --kasJump("BackInPosition")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_DefendYourself")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_BackInPosition", "Watch_Mission02_P1Mothership_DefendYourself")
    Init_Mission02_P1Mothership_BackInPosition(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership BackInPosition state
--
function Init_Mission02_P1Mothership_BackInPosition(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    SobGroup_MoveToPoint(SobGroup_GetPlayerOwner(TeamName), TeamName, Volume_GetPosition("NearDerelict"))    --kasfMoveTo(kasVectorPtr("NearDerelict"))
    
end 


--
--  "watch" code for Mission02 P1Mothership BackInPosition state
--
function Watch_Mission02_P1Mothership_BackInPosition(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if (SobGroup_IsShipNearPoint(TeamName, "NearDerelict", 1050) ~= 0) then     --kasfNearby(kasVectorPtr("NearDerelict"), 3000)
    
    --kasJump("InPosition")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_BackInPosition")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_InPosition", "Watch_Mission02_P1Mothership_BackInPosition")
    Init_Mission02_P1Mothership_InPosition(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership PatrolPlayerFleet state
--
function Init_Mission02_P1Mothership_PatrolPlayerFleet(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    SobGroup_FollowPath(TeamName, "AroundPlayerFleet", 1, 1, 0)    --kasfPatrolPath(kasPathPtr("AroundPlayerFleet"))
    SobGroup_SetROE(TeamName, PassiveROE)    --kasfTacticsNeutral()
    
end 


--
--  "watch" code for Mission02 P1Mothership PatrolPlayerFleet state
--
function Watch_Mission02_P1Mothership_PatrolPlayerFleet(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if (KAS_UnderAttack(TeamName, "GrowSelection_AttackingP1Mothership") ~= 0) then     --kasfUnderAttack(kasGrowSelectionPtr("AttackingP1Mothership"))
    
    --kasJump("Retreat2")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_PatrolPlayerFleet")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_Retreat2", "Watch_Mission02_P1Mothership_PatrolPlayerFleet")
    Init_Mission02_P1Mothership_Retreat2(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership Retreat2 state
--
function Init_Mission02_P1Mothership_Retreat2(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    G_P1MothershipUnderAttack = 1 --created,set
    SobGroup_SetROE(TeamName, DefensiveROE)    --kasfTacticsEvasive()
	SobGroup_SetStance(TeamName, EvasiveStance)
    
end 


--
--  "watch" code for Mission02 P1Mothership Retreat2 state
--
function Watch_Mission02_P1Mothership_Retreat2(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    KAS_FindEnemiesNearTeam(TeamName, "GrowSelection_NearP1Mothership", 5600)    --kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearP1Mothership"), 16000)
    if (KAS_UnderAttack(TeamName, "GrowSelection_AttackingP1Mothership") == 0) then     --kasfUnderAttack(kasGrowSelectionPtr("AttackingP1Mothership"))
    
    KAS_MessageSendToAll(TeamName, "P1MothershipSafe")    --kasfMsgSendAll("P1MothershipSafe")
    --kasJump("PatrolPlayerFleet")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_Retreat2")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_PatrolPlayerFleet", "Watch_Mission02_P1Mothership_Retreat2")
    Init_Mission02_P1Mothership_PatrolPlayerFleet(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership OuttaHereLikeVladimir state
--
function Init_Mission02_P1Mothership_OuttaHereLikeVladimir(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    G_P1MothershipGettinOut = 1 --created,set
    KASTimer_Start(WaitingForEveryoneToDock[TeamName], 120)
    SobGroup_SetROE(TeamName, DefensiveROE)    --kasfTacticsEvasive()
	SobGroup_SetStance(TeamName, EvasiveStance)
    
end 


--
--  "watch" code for Mission02 P1Mothership OuttaHereLikeVladimir state
--
function Watch_Mission02_P1Mothership_OuttaHereLikeVladimir(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    if (((G_ACT3FightersHaveDocked == 1) and (G_ACT3Corvettes1HaveDocked == 1) and (G_ACT3Corvettes2HaveDocked == 1)) or (KAS_TeamHealth(TeamName) < 30) or (KASTimer_IsExpiredIfSoDestroy(WaitingForEveryoneToDock[TeamName]) ~= 0)) then     --kasfTeamHealthAverage()
    
    --kasJump("HyperspaceOut")
    --KASRule_Remove("FSM_Mission02_P1Mothership", "Watch_Mission02_P1Mothership_OuttaHereLikeVladimir")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_HyperspaceOut", "Watch_Mission02_P1Mothership_OuttaHereLikeVladimir")
    Init_Mission02_P1Mothership_HyperspaceOut(TeamName)
    return
    end 
    
end 


--
--  "initialize" code for Mission02 P1Mothership HyperspaceOut state
--
function Init_Mission02_P1Mothership_HyperspaceOut(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    G_P1MothershipHasRetreated = 1 --created,set
    KAS_MusicStop(4)    --kasfMusicStop(4)
    KAS_TeamHyperspaceOut(TeamName)    --kasfTeamHyperspaceOut()
    --kasJump("NullState")
    KASRule_Add(TeamName, "Watch_Mission02_P1Mothership_NullState", "Init_Mission02_P1Mothership_HyperspaceOut")
    Init_Mission02_P1Mothership_NullState(TeamName)
    return
    
end 


--
--  "watch" code for Mission02 P1Mothership HyperspaceOut state
--
function Watch_Mission02_P1Mothership_HyperspaceOut(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    
end 


--
--  "initialize" code for Mission02 P1Mothership NullState state
--
function Init_Mission02_P1Mothership_NullState(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    
end 


--
--  "watch" code for Mission02 P1Mothership NullState state
--
function Watch_Mission02_P1Mothership_NullState(TeamName)
    --FSM: FSM_Mission02_P1Mothership
    --TeamName = P1Mothership
    
end 


--
--  "initialize" code for Mission02 mission
--
function Init_Mission02(MissionName)
    --FSM: FSM_Mission02
    --MissionName = "Mission02"
    --kasFSMCreate("FleetIntel")
    KASRule_AddFSM("FleetIntel", "Watch_Mission02_FleetIntel", "Init_Mission02")
    Init_Mission02_FleetIntel("FleetIntel")
    --kasFSMCreate("P1Mothership")
    KASRule_AddFSM("P1Mothership", "Watch_Mission02_P1Mothership", "Init_Mission02")
    Init_Mission02_P1Mothership("P1Mothership")
    --kasFSMCreate("DoggedFighter")
    KASRule_AddFSM("DoggedFighter", "Watch_Mission02_DoggedFighter", "Init_Mission02")
    Init_Mission02_DoggedFighter("DoggedFighter")
    --kasFSMCreate("SCFighters")
    KASRule_AddFSM("SCFighters", "Watch_Mission02_SCFighters", "Init_Mission02")
    Init_Mission02_SCFighters("SCFighters")
    --kasFSMCreate("ACT3Fighters")
    KASRule_AddFSM("ACT3Fighters", "Watch_Mission02_ACT3Fighters", "Init_Mission02")
    Init_Mission02_ACT3Fighters("ACT3Fighters")
    --kasFSMCreate("ACT3Corvettes1")
    KASRule_AddFSM("ACT3Corvettes1", "Watch_Mission02_ACT3Corvettes1", "Init_Mission02")
    Init_Mission02_ACT3Corvettes1("ACT3Corvettes1")
    --kasFSMCreate("ACT3Corvettes2")
    KASRule_AddFSM("ACT3Corvettes2", "Watch_Mission02_ACT3Corvettes2", "Init_Mission02")
    Init_Mission02_ACT3Corvettes2("ACT3Corvettes2")
    G_TOTALDoggedFightersKilled = 0 --created,set
    G_TOTALOriginalDoggedFighters = 0 --created,set
    G_TOTALSCFightersKilled = 0 --created,set
    G_TOTALOriginalSCFighters = 0 --created,set
    G_TOTALACT3FightersKilled = 0 --created,set
    G_TOTALOriginalACT3Fighters = 0 --created,set
    G_TOTALACT3Corvettes1Killed = 0 --created,set
    G_TOTALOriginalACT3Corvettes1 = 0 --created,set
    G_TOTALACT3Corvettes2Killed = 0 --created,set
    G_TOTALOriginalACT3Corvettes2 = 0 --created,set
    KAS_CampaignAutoSave(2, "$61100")    --kasfSaveLevel(2, LSTRING_Savegame[strCurLanguage])
    
end 


--
--  "watch" code for Mission02 mission
--
function Watch_Mission02(MissionName)
    --FSM: FSM_Mission02
    --MissionName = "Mission02"
    if (_VIFONCE038 == 0 and (1 ~= 0)) then  -- "ifonce" #38
    
    _VIFONCE038 = 1 --created,set;
    KASTimer_Start(TimerID_LocationCardTimer, 1)
    end 
    if (KASTimer_IsExpiredIfSoDestroy(TimerID_LocationCardTimer) ~= 0) then 
    
    singlePlayerLocationCard("$61101", 5)    --kasfLocationCard(5000, LSTRING_LocationCard[strCurLanguage])
    end 
    if (_VIFONCE039 == 0 and (G_Nis2Complete ~= 0)) then  -- "ifonce" #39
    
    _VIFONCE039 = 1 --created,set;
    SobGroup_Clear("GrowSelection_NisTriggerShips")    --kasfGrowSelectionClear(kasGrowSelectionPtr("NisTriggerShips"))
    G_NISISPlaying = 0 --set
    end 
    if (_VIFONCE040 == 0 and (Null8458973 == 0)) then  -- "ifonce" #40
    
    _VIFONCE040 = 1 --created,set;
    KASTimer_Start(TimerID_StartWideScreen, 8)
    end 
    if (KASTimer_IsExpiredIfSoDestroy(TimerID_StartWideScreen) ~= 0) then 
    
    KASTimer_Start(TimerID_PlayProbeNISLet, 3)
    end 
    if (KASTimer_IsExpiredIfSoDestroy(TimerID_PlayProbeNISLet) ~= 0) then 
    
    end 
    if ((G_PlayedNis == 0) and (KAS_FindEnemiesInside("nisVolume2", "GrowSelection_nisVolume2FOUND") ~= 0)) then     --kasfFindEnemiesInside(kasVolumePtr("nisVolume2"), kasGrowSelectionPtr("nisVolume2FOUND"), 1000)
    
    G_nisVolume2SHIPS = SobGroup_Count("GrowSelection_nisVolume2FOUND") --created,set    --kasfShipsCount(kasGrowSelectionPtr("nisVolume2FOUND"))
    KAS_FillShipsByType_Normal("GrowSelection_PlayerProbes", "GrowSelection_nisVolume2FOUND", "Probe")    --kasfShipsSelectType(kasGrowSelectionPtr("PlayerProbes"), kasGrowSelectionPtr("nisVolume2FOUND"), "Probe")
    G_PlayerProbesSHIPS = SobGroup_Count("GrowSelection_PlayerProbes") --created,set    --kasfShipsCount(kasGrowSelectionPtr("PlayerProbes"))
    if (SobGroup_Count("GrowSelection_PlayerProbes") > 0) then     --kasfShipsCount(kasGrowSelectionPtr("PlayerProbes"))
    
    SobGroup_SetMaxSpeed("GrowSelection_PlayerProbes", 350)    --kasfShipsSetMaxVelocity(kasGrowSelectionPtr("PlayerProbes"), 1000)
    end 
    end 
    if (G_PlayedNis == 0 and KAS_FindEnemiesInside("nisVolume", "GrowSelection_nisVolumeFOUND") ~= 0) then     --kasfFindEnemiesInside(kasVolumePtr("nisVolume"), kasGrowSelectionPtr("nisVolumeFOUND"), 13000)
    
    KASTimer_Start(TimerID_WideScreenInBeforeNIS, 4)
    KAS_SetLetterboxState(2, 3)    --kasfWideScreenIn(90)
    G_NISISPlaying = 1 --created,set
    G_PlayedNis = 1 --created,set
    end 
    if (KASTimer_IsExpiredIfSoDestroy(TimerID_WideScreenInBeforeNIS) ~= 0) then 
    
    KAS_ShipsSelectByPlayer("GrowSelection_NisTriggerShips", "GrowSelection_nisVolumeFOUND", 0)    --kasfShipsSelectEnemy(kasGrowSelectionPtr("NisTriggerShips"), kasGrowSelectionPtr("nisVolumeFOUND"))
    KAS_FindEnemiesInside("MothershipSphere", "GrowSelection_EntireFleet")    --kasfFindEnemiesInside(kasVolumePtr("MothershipSphere"), kasGrowSelectionPtr("EntireFleet"), 3000)
    KAS_FillShipsByClass_Normal("GrowSelection_PlayerMothership", "GrowSelection_EntireFleet", "Mothership")    --kasfShipsSelectClass(kasGrowSelectionPtr("PlayerMothership"), kasGrowSelectionPtr("EntireFleet"), "CLASS_Mothership")
    G_PlayNis = 2 --created,set
    KAS_PingRemove("ServiceVesselPING", "$60424")    --kasfPingRemove("ServiceVesselPING")
    KASTimer_Start(TimerID_CreateNISTeamsTimer, 3)
    end 
    if (_VIFONCE041 == 0 and (G_Nis2Complete ~= 0)) then  -- "ifonce" #41
    
    _VIFONCE041 = 1 --created,set;
    --kasFSMCreate("NISTeamFighter")
    KASRule_AddFSM("NISTeamFighter", "Watch_Mission02_NISTeamFighter", "Watch_Mission02")
    Init_Mission02_NISTeamFighter("NISTeamFighter")
    --kasFSMCreate("NISTeamCorvette")
    KASRule_AddFSM("NISTeamCorvette", "Watch_Mission02_NISTeamCorvette", "Watch_Mission02")
    Init_Mission02_NISTeamCorvette("NISTeamCorvette")
    end 
    if (_VIFONCE042 == 0 and ((G_Nis2Complete ~= 0))) then  -- "ifonce" #42
    
    _VIFONCE042 = 1 --created,set;
    KAS_SetLetterboxState(0, 3)    --kasfWideScreenOut(90)
    KASTimer_Start(TimerID_G_PostNISEventTimer, 4)
    end 
    if (_VIFONCE043 == 0 and (G_Nis2Complete ~= 0)) then  -- "ifonce" #43
    
    _VIFONCE043 = 1 --created,set;
    KAS_ResetDerelicRenderedFlags("Der_Shipwreck")    --kasfResetDerelictRenderFlags("Shipwreck")
    G_RenderedFlagsReset = 1 --created,set
    end 
    if (_VIFONCE044 == 0 and ((G_RenderedFlagsReset == 1) and ((KAS_DerelicHasBeenRendered("Der_Shipwreck", 0) ~= 0) or (KAS_DerelicHasBeenRendered("Der_Shipwreck", 1) ~= 0) or (KAS_DerelicHasBeenRendered("Der_Shipwreck", 2) ~= 0) or (KAS_DerelicHasBeenRendered("Der_Shipwreck", 3) ~= 0)))) then  -- "ifonce" #44    --kasfRenderedDerelicts("Shipwreck", 3)    --kasfRenderedDerelicts("Shipwreck", 2)    --kasfRenderedDerelicts("Shipwreck", 1)    --kasfRenderedDerelicts("Shipwreck", 0)
    
    _VIFONCE044 = 1 --created,set;
    G_ShipwreckHasBeenSeen = 1 --created,set
    end 
    if (_VIFONCE045 == 0 and ((G_FIProtectMothershipHasPlayed == 1) and ((G_ShipwreckHasBeenSeen == 1) or (G_PlayerHasFinishedACT1 == 1)))) then  -- "ifonce" #45
    
    _VIFONCE045 = 1 --created,set;
    G_PlayKharSelimDestroyed = 1 --created,set
    end 
    if (_VIFONCE046 == 0 and (1 ~= 0)) then  -- "ifonce" #46
    
    _VIFONCE046 = 1 --created,set;
    KASTimer_Start(TimerID_G_FCHyperspaceSuccessful, 5)
    end 
    if ((G_TechRemoved == 100) and (PlaySCDeadEventOnce == 0)) then 
    
    PlaySCDeadEventOnce = 1 --created,set
    KASTimer_Start(TimerID_G_PlaySCDiedStillNeedDataEvent, 4)
    end 
    if (_VIFONCE047 == 0 and ((KAS_ShipHasBeenRendered("P1Mothership", 0) ~= 0) or (KAS_ShipHasBeenRendered("P1Mothership", 1) ~= 0) or (KAS_ShipHasBeenRendered("P1Mothership", 2) ~= 0) or (KAS_ShipHasBeenRendered("P1Mothership", 3) ~= 0))) then  -- "ifonce" #47    --kasfRenderedShips(kasAITeamShipsPtr("P1Mothership"), 3)    --kasfRenderedShips(kasAITeamShipsPtr("P1Mothership"), 2)    --kasfRenderedShips(kasAITeamShipsPtr("P1Mothership"), 1)    --kasfRenderedShips(kasAITeamShipsPtr("P1Mothership"), 0)
    
    _VIFONCE047 = 1 --created,set;
    G_PlayerHasSeenP1Mothership = 1 --created,set
    end 
    if (_VIFONCE048 == 0 and (G_ReadyToHYPERSPACE == 1)) then  -- "ifonce" #48
    
    _VIFONCE048 = 1 --created,set;
    KASTimer_Start(TimerID_G_WaitToPlayFinalEvent, 10)
    end 
    if (_VIFONCE049 == 0 and (G_FleetIntelIntroHasPlayed == 1)) then  -- "ifonce" #49
    
    _VIFONCE049 = 1 --created,set;
    KASObjective_Add(ObjectiveID_SendProbe, "$61102", OT_Primary)    --kasfObjectiveCreate("SendProbe", LSTRING_FISendProbeTASKBAR[strCurLanguage], LSTRING_FISendProbeTASKBAR[strCurLanguage])
    Objective_SetDescription(ObjectiveID_SendProbe, "$60807")
    G_SendProbeObjectiveCreated = 1 --created,set
    end 
    if (_VIFONCE050 == 0 and ((G_Nis2Complete ~= 0) and (G_FleetIntelIntroHasPlayed == 1))) then  -- "ifonce" #50
    
    _VIFONCE050 = 1 --created,set;
    KASObjective_SetState(ObjectiveID_SendProbe, 1)    --kasfObjectiveSet("SendProbe", 1)
    end 
    if (_VIFONCE051 == 0 and (G_FIReactionToN02HasPlayed == 1)) then  -- "ifonce" #51
    
    _VIFONCE051 = 1 --created,set;
    KASObjective_Add(ObjectiveID_SalvageVessel, "$61103", OT_Primary)    --kasfObjectiveCreate("SalvageVessel", LSTRING_FISalvageVesselTASKBAR[strCurLanguage], LSTRING_FISalvageVesselTASKBAR[strCurLanguage])
    Objective_SetDescription(ObjectiveID_SalvageVessel, "$60808")
    end 
    if (_VIFONCE052 == 0 and (G_FIProtectMothershipHasPlayed == 1)) then  -- "ifonce" #52
    
    _VIFONCE052 = 1 --created,set;
    KASObjective_Add(ObjectiveID_ProtectMothership, "$61104", OT_Primary)    --kasfObjectiveCreate("ProtectMothership", LSTRING_FCProtectMothershipTASKBAR[strCurLanguage], LSTRING_FCProtectMothershipTASKBAR[strCurLanguage])
    Objective_SetDescription(ObjectiveID_ProtectMothership, "$60809")
    end 
    if (_VIFONCE053 == 0 and ((G_Nis2Complete ~= 0) and (SobGroup_Count("NISTeamFighter") == 0) and (SobGroup_Count("NISTeamCorvette") == 0))) then  -- "ifonce" #53    --kasfShipsCount(kasAITeamShipsPtr("NISTeamCorvette"))    --kasfShipsCount(kasAITeamShipsPtr("NISTeamFighter"))
    
    _VIFONCE053 = 1 --created,set;
    KAS_MusicStop(4)    --kasfMusicStop(4)
    KASObjective_SetState(ObjectiveID_ProtectMothership, 1)    --kasfObjectiveSet("ProtectMothership", 1)
    G_NISTeamKilled = 1 --created,set
    end 
    if (_VIFONCE054 == 0 and (KASTimer_IsExpiredIfSoDestroy(TimerID_G_DoggedFighterOnItsWay) ~= 0)) then  -- "ifonce" #54
    
    _VIFONCE054 = 1 --created,set;
    KASObjective_Add(ObjectiveID_DefendSalvageTeam, "$61105", OT_Primary)    --kasfObjectiveCreate("DefendSalvageTeam", LSTRING_DefendSalvageTeamTASKBAR[strCurLanguage], LSTRING_DefendSalvageTeamTASKBAR[strCurLanguage])
    Objective_SetDescription(ObjectiveID_DefendSalvageTeam, "$60810")
    G_DefendSalvageTeamCreated = 1 --created,set
    end 
    if (_VIFONCE055 == 0 and (KAS_GameMessageReceived({"Game_TechnologyReturned"}) ~= 0)) then  -- "ifonce" #55    --kasfTutGameSentMessage("Game_TechnologyReturned")
    
    _VIFONCE055 = 1 --created,set;
    G_TechRemoved = 0 --set
    KASObjective_SetState(ObjectiveID_DefendSalvageTeam, 1)    --kasfObjectiveSet("DefendSalvageTeam", 1)
    KASObjective_SetState(ObjectiveID_SalvageVessel, 1)    --kasfObjectiveSet("SalvageVessel", 1)
    KAS_PingRemove("ServiceVesselPING", "$60424")    --kasfPingRemove("ServiceVesselPING")
    G_SCDockedWithInfo = 1 --created,set
    end 
    if (_VIFONCE056 == 0 and (G_EnemyUnitsAdvancing == 1)) then  -- "ifonce" #56
    
    _VIFONCE056 = 1 --created,set;
    KASObjective_Add(ObjectiveID_DefendMothership, "$61106", OT_Primary)    --kasfObjectiveCreate("DefendMothership", LSTRING_FIDefendMothershipTASKBAR[strCurLanguage], LSTRING_FIDefendMothershipTASKBAR[strCurLanguage])
    Objective_SetDescription(ObjectiveID_DefendMothership, "$60811")
    end 
    if (_VIFONCE057 == 0 and (G_InvestigateP1Mothership == 1)) then  -- "ifonce" #57
    
    _VIFONCE057 = 1 --created,set;
    KASObjective_Add(ObjectiveID_InvestigateP1Mothership, "$61107", OT_Secondary)    --kasfObjectiveCreateSecondary("InvestigateP1Mothership", LSTRING_FIInvestigateP1MothershipTASKBAR[strCurLanguage], LSTRING_FIInvestigateP1MothershipTASKBAR[strCurLanguage])
    Objective_SetDescription(ObjectiveID_InvestigateP1Mothership, "$60812")
    end 
    if (_VIFONCE058 == 0 and (G_PlayerHasSeenP1Mothership == 1)) then  -- "ifonce" #58
    
    _VIFONCE058 = 1 --created,set;
    KASObjective_SetState(ObjectiveID_InvestigateP1Mothership, 1)    --kasfObjectiveSet("InvestigateP1Mothership", 1)
    end 
    if (_VIFONCE059 == 0 and (G_TotalP1KilledInACT3 > 10)) then  -- "ifonce" #59
    
    _VIFONCE059 = 1 --created,set;
    G_PlayerHasKilledEnoughP1 = 1 --created,set
    end 
    if (_VIFONCE060 == 0 and (G_PlayerHasKilledEnoughP1 == 1)) then  -- "ifonce" #60
    
    _VIFONCE060 = 1 --created,set;
    KASObjective_SetState(ObjectiveID_DefendMothership, 1)    --kasfObjectiveSet("DefendMothership", 1)
    KASObjective_Add(ObjectiveID_DestroyAllP1, "$61108", OT_Primary)    --kasfObjectiveCreate("DestroyAllP1", LSTRING_FIDestroyAllP1TASKBAR[strCurLanguage], LSTRING_FIDestroyAllP1TASKBAR[strCurLanguage])
    Objective_SetDescription(ObjectiveID_DestroyAllP1, "$60813")
    end 
    if (_VIFONCE061 == 0 and (1 ~= 0)) then  -- "ifonce" #61
    
    _VIFONCE061 = 1 --created,set;
    G_TotalP1KilledInACT3 = 0 --created,set
    end 
    G_TotalP1KilledInACT3 = ((G_TOTALACT3FightersKilled) + 3 * (G_TOTALACT3Corvettes1Killed) + 3 * (G_TOTALACT3Corvettes2Killed)) --set
    if (_VIFONCE062 == 0 and (G_TotalP1KilledInACT3 > 40)) then  -- "ifonce" #62
    
    _VIFONCE062 = 1 --created,set;
    KASObjective_SetState(ObjectiveID_DestroyAllP1, 1)    --kasfObjectiveSet("DestroyAllP1", 1)
    end 
    if (_VIFONCE063 == 0 and ((G_P1MothershipHasRetreated == 1) and (KASObjective_GetState(ObjectiveID_SalvageVessel) == 1) and (KASObjective_GetState(ObjectiveID_ProtectMothership) == 1) and (G_ReadyToHYPERSPACE == 0))) then  -- "ifonce" #63    --kasfObjectiveGet("ProtectMothership")    --kasfObjectiveGet("SalvageVessel")
    
    _VIFONCE063 = 1 --created,set;
    KASTimer_Start(TimerID_G_PlayNormalObjectivesComplete, 10)
    end 
    if ((G_SendProbeObjectiveCreated == 1) and (G_P1MothershipHasRetreated == 0)) then 
    
    if (_VIFONCE064 == 0 and ((KASObjective_GetState(ObjectiveID_SendProbe) == 1) and (KASObjective_GetState(ObjectiveID_ProtectMothership) == 1) and (KASObjective_GetState(ObjectiveID_SalvageVessel) == 1) and (KASObjective_GetState(ObjectiveID_DefendSalvageTeam) == 1) and (KASObjective_GetState(ObjectiveID_DestroyAllP1) == 1))) then  -- "ifonce" #64    --kasfObjectiveGet("DestroyAllP1")    --kasfObjectiveGet("DefendSalvageTeam")    --kasfObjectiveGet("SalvageVessel")    --kasfObjectiveGet("ProtectMothership")    --kasfObjectiveGet("SendProbe")
    
    _VIFONCE064 = 1 --created,set;
    G_ReadyToHYPERSPACE = 1 --created,set
    end 
    elseif ((G_SendProbeObjectiveCreated == 0) and (G_P1MothershipHasRetreated == 0)) then 
    
    if (_VIFONCE065 == 0 and ((KASObjective_GetState(ObjectiveID_ProtectMothership) == 1) and (KASObjective_GetState(ObjectiveID_SalvageVessel) == 1) and (KASObjective_GetState(ObjectiveID_DefendSalvageTeam) == 1) and (KASObjective_GetState(ObjectiveID_DestroyAllP1) == 1))) then  -- "ifonce" #65    --kasfObjectiveGet("DestroyAllP1")    --kasfObjectiveGet("DefendSalvageTeam")    --kasfObjectiveGet("SalvageVessel")    --kasfObjectiveGet("ProtectMothership")
    
    _VIFONCE065 = 1 --created,set;
    G_ReadyToHYPERSPACE = 1 --created,set
    end 
    end 
    KAS_ShipsAdd("GrowSelection_KillingP1", "GrowSelection_LineTeamsUnderAttack")    --kasfShipsAdd(kasGrowSelectionPtr("KillingP1"), kasGrowSelectionPtr("LineTeamsUnderAttack"))
    KAS_ShipsAdd("GrowSelection_KillingP1", "GrowSelection_NISTeamFighterUnderAttack")    --kasfShipsAdd(kasGrowSelectionPtr("KillingP1"), kasGrowSelectionPtr("NISTeamFighterUnderAttack"))
    KAS_ShipsAdd("GrowSelection_KillingP1", "GrowSelection_DerelictTeam1UnderAttack")    --kasfShipsAdd(kasGrowSelectionPtr("KillingP1"), kasGrowSelectionPtr("DerelictTeam1UnderAttack"))
    if (_VIFONCE066 == 0 and (KAS_PlayerHasResearch(0, "CorvetteDrive") ~= 0)) then  -- "ifonce" #66    --kasfDoesPlayerHave("MassDrive10Kt")
    
    _VIFONCE066 = 1 --created,set;
    KAS_UnrestrictResearchOption(0, "CorvetteChassis")    --kasfAllowPlayerToResearch("Chassis2")
    end 
    if ((KAS_PlayerHasResearch(0, "CorvetteChassis") ~= 0) and (SetMediumGuns == 0)) then     --kasfDoesPlayerHave("Chassis2")
    
    KAS_UnrestrictResearchOption(0, "HeavyCorvetteUpgrade")    --kasfAllowPlayerToResearch("MediumGuns")
    SetMediumGuns = 1 --created,set
    end 
    if (_VIFONCE067 == 0 and (KAS_PlayerHasResearch(0, "FighterChassis") ~= 0)) then  -- "ifonce" #67    --kasfDoesPlayerHave("Chassis1")
    
    _VIFONCE067 = 1 --created,set;
    KAS_UnrestrictResearchOption(0, "CorvetteDrive")    --kasfAllowPlayerToResearch("MassDrive10Kt")
    end 
    
end 

function OnStartOrLoad()
    print("OnStartOrLoad issued")

    --Mission-global GrowSelections/SobGroups
    KASSobGroup_Create("GrowSelection_ACT3Corvette1")
    KASSobGroup_Create("GrowSelection_ACT3Corvette2")
    KASSobGroup_Create("GrowSelection_ACT3Corvette3")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes1CorvetteLOOK")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes1FighterLOOK")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes1Fighters")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes1Mothership")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes1UnderAttack")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes2CorvetteLOOK")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes2FighterLOOK")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes2Fighters")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes2Mothership")
    KASSobGroup_Create("GrowSelection_ACT3Corvettes2UnderAttack")
    KASSobGroup_Create("GrowSelection_ACT3EntireFleet1")
    KASSobGroup_Create("GrowSelection_ACT3EntireFleet2")
    KASSobGroup_Create("GrowSelection_ACT3EntireFleet3")
    KASSobGroup_Create("GrowSelection_ACT3Fighter1")
    KASSobGroup_Create("GrowSelection_ACT3Fighter2")
    KASSobGroup_Create("GrowSelection_ACT3Fighter3")
    KASSobGroup_Create("GrowSelection_ACT3FightersCorvetteLOOK")
    KASSobGroup_Create("GrowSelection_ACT3FightersFighterLOOK")
    KASSobGroup_Create("GrowSelection_ACT3FightersFighters")
    KASSobGroup_Create("GrowSelection_ACT3FightersMothership")
    KASSobGroup_Create("GrowSelection_ACT3FightersUnderAttack")
    KASSobGroup_Create("GrowSelection_ACT3Mothership1")
    KASSobGroup_Create("GrowSelection_ACT3Mothership2")
    KASSobGroup_Create("GrowSelection_ACT3Mothership3")
    KASSobGroup_Create("GrowSelection_ACT3NonCombat1")
    KASSobGroup_Create("GrowSelection_ACT3NonCombat2")
    KASSobGroup_Create("GrowSelection_ACT3NonCombat3")
    KASSobGroup_Create("GrowSelection_ACT3Research1")
    KASSobGroup_Create("GrowSelection_ACT3Research2")
    KASSobGroup_Create("GrowSelection_ACT3Research3")
    KASSobGroup_Create("GrowSelection_ACT3ResearchDamaged1")
    KASSobGroup_Create("GrowSelection_ACT3ResearchDamaged2")
    KASSobGroup_Create("GrowSelection_ACT3ResearchDamaged3")
    KASSobGroup_Create("GrowSelection_ACT3Resource1")
    KASSobGroup_Create("GrowSelection_ACT3Resource2")
    KASSobGroup_Create("GrowSelection_ACT3Resource3")
    KASSobGroup_Create("GrowSelection_ACT3WORLDCorvette1")
    KASSobGroup_Create("GrowSelection_ACT3WORLDCorvette2")
    KASSobGroup_Create("GrowSelection_ACT3WORLDCorvette3")
    KASSobGroup_Create("GrowSelection_ACT3WORLDEntireWorld1")
    KASSobGroup_Create("GrowSelection_ACT3WORLDEntireWorld2")
    KASSobGroup_Create("GrowSelection_ACT3WORLDEntireWorld3")
    KASSobGroup_Create("GrowSelection_ACT3WORLDFighter1")
    KASSobGroup_Create("GrowSelection_ACT3WORLDFighter2")
    KASSobGroup_Create("GrowSelection_ACT3WORLDFighter3")
    KASSobGroup_Create("GrowSelection_ACT3WORLDMothership1")
    KASSobGroup_Create("GrowSelection_ACT3WORLDMothership2")
    KASSobGroup_Create("GrowSelection_ACT3WORLDMothership3")
    KASSobGroup_Create("GrowSelection_ACT3WORLDNonCombat1")
    KASSobGroup_Create("GrowSelection_ACT3WORLDNonCombat2")
    KASSobGroup_Create("GrowSelection_ACT3WORLDNonCombat3")
    KASSobGroup_Create("GrowSelection_ACT3WORLDResearch1")
    KASSobGroup_Create("GrowSelection_ACT3WORLDResearch2")
    KASSobGroup_Create("GrowSelection_ACT3WORLDResearch3")
    KASSobGroup_Create("GrowSelection_ACT3WORLDResearchDamaged1")
    KASSobGroup_Create("GrowSelection_ACT3WORLDResearchDamaged2")
    KASSobGroup_Create("GrowSelection_ACT3WORLDResearchDamaged3")
    KASSobGroup_Create("GrowSelection_ACT3WORLDResource1")
    KASSobGroup_Create("GrowSelection_ACT3WORLDResource2")
    KASSobGroup_Create("GrowSelection_ACT3WORLDResource3")
    KASSobGroup_Create("GrowSelection_AllShipsRecordingSHIPS")
    KASSobGroup_Create("GrowSelection_AttackingP1Mothership")
    KASSobGroup_Create("GrowSelection_Corvette")
    KASSobGroup_Create("GrowSelection_Corvette2")
    KASSobGroup_Create("GrowSelection_DerelictTeam1UnderAttack")
    KASSobGroup_Create("GrowSelection_DoggedFighterFighters")
    KASSobGroup_Create("GrowSelection_DoggedFighterLooking")
    KASSobGroup_Create("GrowSelection_DoggedFighterUnderAttack")
    KASSobGroup_Create("GrowSelection_EntireFleet")
    KASSobGroup_Create("GrowSelection_EntireFleet2")
    KASSobGroup_Create("GrowSelection_EntireWorld")
    KASSobGroup_Create("GrowSelection_Fighter")
    KASSobGroup_Create("GrowSelection_Fighter2")
    KASSobGroup_Create("GrowSelection_KillingP1")
    KASSobGroup_Create("GrowSelection_LineTeamsUnderAttack")
    KASSobGroup_Create("GrowSelection_Mothership")
    KASSobGroup_Create("GrowSelection_Mothership2")
    KASSobGroup_Create("GrowSelection_Mothership99SHIPS")
    KASSobGroup_Create("GrowSelection_NISTeamCorvetteUnderAttack")
    KASSobGroup_Create("GrowSelection_NISTeamFighterUnderAttack")
    KASSobGroup_Create("GrowSelection_NearDerelict")
    KASSobGroup_Create("GrowSelection_NearP1Mothership")
    KASSobGroup_Create("GrowSelection_NisTriggerShips")
    KASSobGroup_Create("GrowSelection_Null746")
    KASSobGroup_Create("GrowSelection_Null7462")
    KASSobGroup_Create("GrowSelection_Null749")
    KASSobGroup_Create("GrowSelection_Null7492")
    KASSobGroup_Create("GrowSelection_Null750")
    KASSobGroup_Create("GrowSelection_Null7502")
    KASSobGroup_Create("GrowSelection_Null906544")
    KASSobGroup_Create("GrowSelection_Null91244")
    KASSobGroup_Create("GrowSelection_Null92399766544")
    KASSobGroup_Create("GrowSelection_Null960006544")
    KASSobGroup_Create("GrowSelection_Null999923")
    KASSobGroup_Create("GrowSelection_P1MothershipFound")
    KASSobGroup_Create("GrowSelection_P1MothershipFoundSC")
    KASSobGroup_Create("GrowSelection_P1MothershipTargets")
    KASSobGroup_Create("GrowSelection_PlayerMothership")
    KASSobGroup_Create("GrowSelection_PlayerProbes")
    KASSobGroup_Create("GrowSelection_PlayerSalCaps")
    KASSobGroup_Create("GrowSelection_PlayerSalCaps2")
    KASSobGroup_Create("GrowSelection_Research")
    KASSobGroup_Create("GrowSelection_Research2")
    KASSobGroup_Create("GrowSelection_ResearchDamaged")
    KASSobGroup_Create("GrowSelection_ResearchDamaged2")
    KASSobGroup_Create("GrowSelection_Resource")
    KASSobGroup_Create("GrowSelection_Resource2")
    KASSobGroup_Create("GrowSelection_ResourceDamaged")
    KASSobGroup_Create("GrowSelection_ResourceDamaged2")
    KASSobGroup_Create("GrowSelection_SCFightersFighters")
    KASSobGroup_Create("GrowSelection_SCFightersLooking")
    KASSobGroup_Create("GrowSelection_SCFightersUnderAttack")
    KASSobGroup_Create("GrowSelection_SCsReturning")
    KASSobGroup_Create("GrowSelection_SalvageCorvettes")
    KASSobGroup_Create("GrowSelection_nisVolume2FOUND")
    KASSobGroup_Create("GrowSelection_nisVolumeFOUND")
    KASSobGroup_Create("GrowSelection_nisVolumeFighters")
    KASSobGroup_CreateIfNotExist("ACT3Corvettes1")
    KASSobGroup_CreateIfNotExist("ACT3Corvettes2")
    KASSobGroup_CreateIfNotExist("ACT3Fighters")
    KASSobGroup_CreateIfNotExist("DoggedFighter")
    KASSobGroup_CreateIfNotExist("FleetIntel")
    KASSobGroup_CreateIfNotExist("NISTeamCorvette")
    KASSobGroup_CreateIfNotExist("NISTeamFighter")
    KASSobGroup_CreateIfNotExist("P1Mothership")
    KASSobGroup_CreateIfNotExist("SCFighters")

    Sound_SpeechSubtitlePath("speech:missions/Mission02/")
    Scar_TracesEnable("SGAction, SGQuery, Camera, ATI, Player")

    LCWatcher_SpecifyLocalFilter(LC_Scar, "_VIFONCE;ACT3Corvettes1;ACT3Corvettes2;ACT3Fighters;DoggedFighter;FleetIntel;NISTeamCorvette;NISTeamFighter;P1Mothership;SCFighters;")
    KAS_SetColourSchemeColours(1, {1,0.823529411764706,0}, {1, 0, 0}, "DATA:Badges/Turanic.tga", {0.921,0.75,0.419}, "data:/effect/trails/tur_trail_clr.tga")
    Player_SetTeamColourTheme(1, {1,0.823529411764706,0}, {1, 0, 0}, "DATA:Badges/Turanic.tga", {0.921,0.75,0.419}, "data:/effect/trails/tur_trail_clr.tga")
    Player_SetTeamColourTheme(3, {1,0.823529411764706,0}, {1, 0, 0}, "DATA:Badges/Turanic.tga", {0.921,0.75,0.419}, "data:/effect/trails/tur_trail_clr.tga")
    KAS_SetColourScheme("ACT3Corvettes1", 1)
    KAS_SetColourScheme("ACT3Corvettes2", 1)
    KAS_SetColourScheme("ACT3Fighters", 1)
    KAS_SetColourScheme("DoggedFighter", 1)
    KAS_SetColourScheme("P1Mothership", 1)
    KAS_SetColourScheme("SCFighters", 1)
    Player_SetPlayerName(1, "$60422")
    Player_SetPlayerName(2, "$60426")
    Player_SetPlayerName(3, "$60426")

    singlePlayerOnStartOrLoad(02)
end

function OnInit()
    print("OnInit issued")

    Player_RestrictAllResearch(0, 1)
    SobGroup_LoadPersistantData("Kus_Mothership")
    Camera_Interpolate('here', 'Camera_Startpos', 0)
    KAS_RememberStartingRUs()
    singlePlayerStartGame(02)
    KAS_CPUPlayerInit()

    KASRule_Add("Mission02", "Watch_Mission02", "OnInit")
    Init_Mission02("Mission02")
    KAS_SetLetterboxStart(1, 5, 0, 0)
    singlePlayerPauseUntilHyperspaceComplete("OnInit_Finish()")
end

function OnInit_Finish()
    print("OnInit_Finish issued")

    KAS_MusicPlayType( "data:sound/music/ambient/A02_mission2and4", MUS_Ambient )
end

